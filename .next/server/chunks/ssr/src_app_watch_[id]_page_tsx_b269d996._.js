module.exports=[52770,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(210),f=a.i(26017),g=a.i(70106);let h=(0,g.default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var i=a.i(73500);class j{consumetAPI="https://api.consumet.org";cache=new Map;async getSources(a,b,c){try{console.log(`[SourceProvider] Fetching: /api/sources?id=${a}&type=${b}&title=${c}`);let d=await fetch(`/api/sources?id=${a}&type=${b}&title=${encodeURIComponent(c)}`);if(!d.ok)return console.error("[SourceProvider] API error:",d.status,d.statusText),[];let e=await d.json();return console.log("[SourceProvider] Raw API Data:",e),e.sources||[]}catch(a){return console.error("Source fetch error:",a),[]}}async getAllSources(a){let b=`${a.type}:${a.id}`;if(this.cache.has(b))return this.cache.get(b);let c=new Map,d=await this.getSources(a.id,a.type,a.title);if(d.length>0){let a=d.filter(a=>"hls"===a.type||"embed"===a.type),b=d.filter(a=>"torrent"===a.type||"mp4"===a.type);a.length>0&&c.set("vidlink",a),b.length>0&&c.set("torrent",b)}return this.cache.set(b,c),c}clearCache(){this.cache.clear()}}let k=new j;var l=a.i(5816),m=a.i(30770),n=a.i(35112);function o(){return(0,m.useReactContext)(l.mediaContext)}let p=(0,m.createReactComponent)(l.AirPlayButtonInstance,{domEventsRegex:/^onMedia/}),q=c.forwardRef(({children:a,...b},d)=>c.createElement(p,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));q.displayName="AirPlayButton";let r=(0,m.createReactComponent)(l.PlayButtonInstance,{domEventsRegex:/^onMedia/}),s=c.forwardRef(({children:a,...b},d)=>c.createElement(r,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));s.displayName="PlayButton";let t=(0,m.createReactComponent)(l.CaptionButtonInstance,{domEventsRegex:/^onMedia/}),u=c.forwardRef(({children:a,...b},d)=>c.createElement(t,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));u.displayName="CaptionButton";let v=(0,m.createReactComponent)(l.FullscreenButtonInstance,{domEventsRegex:/^onMedia/}),w=c.forwardRef(({children:a,...b},d)=>c.createElement(v,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));w.displayName="FullscreenButton";let x=(0,m.createReactComponent)(l.MuteButtonInstance,{domEventsRegex:/^onMedia/}),y=c.forwardRef(({children:a,...b},d)=>c.createElement(x,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));y.displayName="MuteButton";let z=(0,m.createReactComponent)(l.PIPButtonInstance,{domEventsRegex:/^onMedia/}),A=c.forwardRef(({children:a,...b},d)=>c.createElement(z,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));A.displayName="PIPButton";let B=(0,m.createReactComponent)(l.SeekButtonInstance,{domEventsRegex:/^onMedia/}),C=c.forwardRef(({children:a,...b},d)=>c.createElement(B,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));C.displayName="SeekButton";let D=(0,m.createReactComponent)(l.LiveButtonInstance,{domEventsRegex:/^onMedia/}),E=c.forwardRef(({children:a,...b},d)=>c.createElement(D,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));E.displayName="LiveButton";let F=["onDragStart","onDragEnd","onDragValueChange","onValueChange","onPointerValueChange"],G=(0,m.createReactComponent)(l.SliderValueInstance),H=(0,m.createReactComponent)(l.SliderInstance,{events:F}),I=c.forwardRef(({children:a,...b},d)=>c.createElement(H,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));I.displayName="Slider";let J=c.forwardRef((a,b)=>c.createElement(l.Primitive.div,{...a,ref:b}));J.displayName="SliderThumb";let K=c.forwardRef((a,b)=>c.createElement(l.Primitive.div,{...a,ref:b}));K.displayName="SliderTrack";let L=c.forwardRef((a,b)=>c.createElement(l.Primitive.div,{...a,ref:b}));L.displayName="SliderTrackFill";let M=(0,m.createReactComponent)(l.SliderPreviewInstance),N=c.forwardRef(({children:a,...b},d)=>c.createElement(M,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));N.displayName="SliderPreview";let O=c.forwardRef(({children:a,...b},d)=>c.createElement(G,{...b},(b,e)=>{let f=(0,m.useSignal)(()=>e.getValueText(),e);return c.createElement(l.Primitive.div,{...b,ref:d},f,a)}));O.displayName="SliderValue";let P=c.forwardRef(({children:a,...b},d)=>{let e=(0,l.useSliderState)("min"),f=(0,l.useSliderState)("max"),g=(0,l.useSliderState)("step");return c.createElement(l.Primitive.div,{...b,ref:d},Array.from({length:Math.floor((f-e)/g)+1}).map((b,c)=>a(c)))});P.displayName="SliderSteps";let Q=(0,m.createReactComponent)(l.VolumeSliderInstance,{events:F,domEventsRegex:/^onMedia/}),R=c.forwardRef(({children:a,...b},d)=>c.createElement(Q,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));R.displayName="VolumeSlider";let S=(0,m.createReactComponent)(l.ThumbnailInstance),T=c.forwardRef(({children:a,...b},d)=>c.createElement(S,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));T.displayName="Thumbnail";let U=c.forwardRef(({children:a,...b},d)=>{let{src:e,img:f,crossOrigin:g}=(0,m.useStateContext)(l.ThumbnailInstance.state),h=(0,m.useSignal)(e),i=(0,m.useSignal)(g);return c.createElement(l.Primitive.img,{crossOrigin:i,...b,src:h||void 0,ref:(0,m.composeRefs)(f.set,d)},a)});U.displayName="ThumbnailImg";let V=c.createContext({$chapters:(0,m.signal)(null)});V.displayName="TimeSliderContext";let W=(0,m.createReactComponent)(l.TimeSliderInstance,{events:F,domEventsRegex:/^onMedia/}),X=c.forwardRef(({children:a,...b},d)=>{let e=c.useMemo(()=>(0,m.signal)(null),[]);return c.createElement(V.Provider,{value:{$chapters:e}},c.createElement(W,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)))});X.displayName="TimeSlider";let Y=(0,m.createReactComponent)(l.SliderChaptersInstance),Z=c.forwardRef(({children:a,...b},d)=>c.createElement(Y,{...b},(b,e)=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},c.createElement($,{instance:e},a))));function $({instance:a,children:b}){let d=(0,m.useSignal)(()=>a.cues,a),e=c.useRef([]),f=c.useRef(null),{$chapters:g}=c.useContext(V);return f.current||(f.current=function(a=0,b=0,c=""){return l.IS_SERVER?{startTime:a,endTime:b,text:c,addEventListener:m.noop,removeEventListener:m.noop,dispatchEvent:m.noop}:new window.VTTCue(a,b,c)}()),c.useEffect(()=>(g.set(a),()=>void g.set(null)),[a]),c.useEffect(()=>{a.setRefs(e.current)},[d]),b(d.length?d:[f.current],a=>{if(!a){e.current.length=0;return}e.current.push(a)})}Z.displayName="SliderChapters",$.displayName="SliderChapterTracks";let _=c.forwardRef(({children:a,...b},d)=>{let{$chapters:e}=c.useContext(V),[f,g]=c.useState();return c.useEffect(()=>(0,m.effect)(()=>{let a=e(),b=a?.activePointerCue||a?.activeCue;g(b?.text||"")}),[]),c.createElement(l.Primitive.div,{...b,ref:d},f,a)});_.displayName="SliderChapterTitle";let aa=c.forwardRef((a,b)=>c.createElement(l.Primitive.div,{...a,ref:b}));aa.displayName="SliderProgress";let ab=(0,m.createReactComponent)(l.SliderThumbnailInstance),ac=c.forwardRef(({children:a,...b},d)=>c.createElement(ab,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));ac.displayName="SliderThumbnail";let ad=(0,m.createReactComponent)(l.SliderVideoInstance,{events:["onCanPlay","onError"]});c.forwardRef(({children:a,...b},d)=>c.createElement(ad,{...b},(b,e)=>c.createElement(ae,{...b,instance:e,ref:(0,m.composeRefs)(b.ref,d)},a))).displayName="SliderVideo";let ae=c.forwardRef(({instance:a,children:b,...d},e)=>{let{canLoad:f}=(0,m.useStateContext)(l.mediaState),{src:g,video:h,crossOrigin:i}=a.$state,j=(0,m.useSignal)(g),k=(0,m.useSignal)(f),n=(0,m.useSignal)(i);return c.createElement(l.Primitive.video,{style:{maxWidth:"unset"},...d,src:j||void 0,muted:!0,playsInline:!0,preload:k?"auto":"none",crossOrigin:n||void 0,ref:(0,m.composeRefs)(h.set,e)},b)});ae.displayName="SliderVideoProvider";let af=(0,m.createReactComponent)(l.RadioGroupInstance,{events:["onChange"]}),ag=c.forwardRef(({children:a,...b},d)=>c.createElement(af,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));ag.displayName="RadioGroup";let ah=(0,m.createReactComponent)(l.RadioInstance,{events:["onChange","onSelect"]}),ai=c.forwardRef(({children:a,...b},d)=>c.createElement(ah,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));ai.displayName="RadioItem";let aj=(0,m.createReactComponent)(l.MenuInstance,{events:["onOpen","onClose"],domEventsRegex:/^onMedia/}),ak=c.forwardRef(({children:a,...b},d)=>c.createElement(aj,{...b,ref:d},(b,d)=>c.createElement(l.Primitive.div,{...b,style:{display:d.isSubmenu?void 0:"contents",...b.style}},a)));ak.displayName="Menu";let al=(0,m.createReactComponent)(l.MenuButtonInstance,{events:["onSelect"]}),am=c.forwardRef(({children:a,...b},d)=>c.createElement(al,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));am.displayName="MenuButton";let an=c.forwardRef(({container:a=null,disabled:b=!1,children:d,...e},f)=>{let g=(0,l.useMediaState)("fullscreen"),h=c.useMemo(()=>l.IS_SERVER?null:((0,m.isString)(a)?document.querySelector(a):a)??document.body,[a]);return!h||("fullscreen"===b?g:b)?d:(0,n.createPortal)(c.createElement(l.Primitive.div,{...e,style:{display:"contents",...e.style},ref:f},d),h)});an.displayName="MenuPortal";let ao=(0,m.createReactComponent)(l.MenuItemsInstance),ap=c.forwardRef(({children:a,...b},d)=>c.createElement(ao,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));ap.displayName="MenuItems";let aq=(0,m.createReactComponent)(l.MenuItemInstance);c.forwardRef(({children:a,...b},d)=>c.createElement(aq,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a))).displayName="MenuItem";let ar=(0,m.createReactComponent)(l.GestureInstance,{events:["onWillTrigger","onTrigger"]}),as=c.forwardRef(({children:a,...b},d)=>c.createElement(ar,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));as.displayName="Gesture";let at=(0,m.createReactComponent)(l.TimeInstance),au=c.forwardRef(({children:a,...b},d)=>c.createElement(at,{...b},(b,e)=>c.createElement(av,{...b,instance:e,ref:(0,m.composeRefs)(b.ref,d)},a)));au.displayName="Time";let av=c.forwardRef(({instance:a,children:b,...d},e)=>{let{timeText:f}=a.$state,g=(0,m.useSignal)(f);return c.createElement(l.Primitive.div,{...d,ref:e},g,b)});function aw(){let a=o();return a?.player||null}function ax(a){return a.label.toLowerCase()}function ay(a){return a.id+":"+a.kind+"-"+a.label.toLowerCase()}av.displayName="TimeText";let az=(0,m.createReactComponent)(l.MediaAnnouncerInstance,{events:["onChange"]}),aA=c.forwardRef(({style:a,children:b,...d},e)=>c.createElement(az,{...d},d=>c.createElement(l.Primitive.div,{...d,style:{display:"contents",...a},ref:(0,m.composeRefs)(d.ref,e)},b)));aA.displayName="MediaAnnouncer";let aB=(0,m.createReactComponent)(l.ControlsInstance),aC=c.forwardRef(({children:a,...b},d)=>c.createElement(aB,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));aC.displayName="Controls";let aD=(0,m.createReactComponent)(l.ControlsGroupInstance),aE=c.forwardRef(({children:a,...b},d)=>c.createElement(aD,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));aE.displayName="ControlsGroup";let aF=(0,m.createReactComponent)(l.TooltipInstance);function aG({children:a,...b}){return c.createElement(aF,{...b},a)}aG.displayName="Tooltip";let aH=(0,m.createReactComponent)(l.TooltipTriggerInstance),aI=c.forwardRef(({children:a,...b},d)=>c.createElement(aH,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));aI.displayName="TooltipTrigger";let aJ=(0,m.createReactComponent)(l.TooltipContentInstance),aK=c.forwardRef(({children:a,...b},d)=>c.createElement(aJ,{...b},b=>c.createElement(l.Primitive.div,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));aK.displayName="TooltipContent";let aL=(0,m.createReactComponent)(l.GoogleCastButtonInstance,{domEventsRegex:/^onMedia/}),aM=c.forwardRef(({children:a,...b},d)=>c.createElement(aL,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a)));aM.displayName="GoogleCastButton";let aN=(0,m.createReactComponent)(l.QualitySliderInstance,{events:F,domEventsRegex:/^onMedia/}),aO=c.forwardRef(({children:a,...b},d)=>c.createElement(aN,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));aO.displayName="QualitySlider";let aP=(0,m.createReactComponent)(l.AudioGainSliderInstance,{events:F,domEventsRegex:/^onMedia/}),aQ=c.forwardRef(({children:a,...b},d)=>c.createElement(aP,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));aQ.displayName="AudioGainSlider";let aR=(0,m.createReactComponent)(l.SpeedSliderInstance,{events:F,domEventsRegex:/^onMedia/}),aS=c.forwardRef(({children:a,...b},d)=>c.createElement(aR,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));aS.displayName="SpeedSlider";let aT=c.forwardRef(({children:a,...b},d)=>{let e=(0,l.useMediaState)("title");return c.createElement(l.Primitive.span,{...b,ref:d},e,a)});function aU(a){let[b,d]=c.useState([]);return c.useEffect(()=>{if(!a)return void d([]);function b(){a&&d(a.activeCues)}return b(),(0,m.listenEvent)(a,"cue-change",b)},[a]),b}function aV(a){let b=o(),[d,e]=c.useState(null);return c.useEffect(()=>(0,l.watchActiveTextTrack)(b.textTracks,a,e),[a]),d}function aW(){let a=aU(aV("chapters"));return a[0]?.text||""}aT.displayName="Title";let aX=c.forwardRef(({defaultText:a="",children:b,...d},e)=>{let f=aW();return c.createElement(l.Primitive.span,{...d,ref:e},f||a,b)});aX.displayName="ChapterTitle";let aY=(0,m.createReactComponent)(l.CaptionsInstance),aZ=c.forwardRef(({children:a,...b},d)=>c.createElement(aY,{...b,ref:d},b=>c.createElement(l.Primitive.div,{...b},a)));aZ.displayName="Captions";let a$=c.forwardRef(({size:a=96,children:b,...d},e)=>c.createElement("svg",{width:a,height:a,fill:"none",viewBox:"0 0 120 120","aria-hidden":"true","data-part":"root",...d,ref:e},b)),a_=c.forwardRef(({width:a=8,children:b,...d},e)=>c.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:a,"data-part":"track",...d,ref:e},b)),a0=c.forwardRef(({width:a=8,fillPercent:b=50,children:d,...e},f)=>c.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",pathLength:"100",strokeWidth:a,strokeDasharray:100,strokeDashoffset:100-b,"data-part":"track-fill",...e,ref:f},d));function a1(a,b=[]){let d=(0,m.useReactScope)();return c.useMemo(()=>(0,m.scoped)(()=>(0,m.signal)(a),d),[d,...b])}function a2(a,b=[]){let d=(0,m.useReactScope)();return c.useMemo(()=>(0,m.scoped)(()=>(0,m.computed)(a),d),[d,...b])}let a3=c.forwardRef((a,b)=>{let{width:d,height:e,size:f=null,paths:g,...h}=a;return c.createElement("svg",{viewBox:"0 0 32 32",...h,width:d??f,height:e??f,fill:"none","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",ref:b,dangerouslySetInnerHTML:{__html:g}})});a3.displayName="VidstackIcon";let a4=Symbol(0);class a5{constructor(a,b,c,d,e){this.logger=a,this.level=b,this.title=c,this.root=d,this.parent=e}[a4]=!0;logs=[];log(...a){return this.logs.push({data:a}),this}labelledLog(a,...b){return this.logs.push({label:a,data:b}),this}groupStart(a){return new a5(this.logger,this.level,a,this.root??this,this)}groupEnd(){return this.parent?.logs.push(this),this.parent??this}dispatch(){return this.logger.dispatch(this.level,this.root??this)}}let a6=[1,1.25,1.5,1.75,2,2.5,3,4];class a7 extends m.Component{static props={normalLabel:"Disabled",gains:a6};#a;#b;#c;get value(){return this.#c.value}get disabled(){let{gains:a}=this.$props,{canSetAudioGain:b}=this.#a.$state;return!b()||0===a().length}constructor(){super(),this.#c=new l.RadioGroupController,this.#c.onValueChange=this.#d.bind(this)}onSetup(){this.#a=(0,l.useMediaContext)(),(0,m.hasProvidedContext)(l.menuContext)&&(this.#b=(0,m.useContext)(l.menuContext))}onConnect(a){(0,m.effect)(this.#e.bind(this)),(0,m.effect)(this.#f.bind(this)),(0,m.effect)(this.#g.bind(this))}getOptions(){let{gains:a,normalLabel:b}=this.$props;return a().map(a=>({label:1===a||null===a?b:String(100*a)+"%",value:a.toString()}))}#e(){this.#c.value=this.#h()}#f(){let{normalLabel:a}=this.$props,{audioGain:b}=this.#a.$state,c=b();this.#b?.hint.set(1===c||null==c?a():String(100*c)+"%")}#g(){this.#b?.disable(this.disabled)}#h(){let{audioGain:a}=this.#a.$state;return a()?.toString()??"1"}#d(a,b){if(this.disabled)return;let c=+a;this.#a.remote.changeAudioGain(c,b),this.dispatch("change",{detail:c,trigger:b})}}let a8=a7.prototype;(0,m.prop)(a8,"value"),(0,m.prop)(a8,"disabled"),(0,m.method)(a8,"getOptions");let a9=(0,m.createReactComponent)(l.MediaPlayerInstance,{events:["onAbort","onAudioTrackChange","onAudioTracksChange","onAutoPlay","onAutoPlayChange","onAutoPlayFail","onCanLoad","onCanPlay","onCanPlayThrough","onControlsChange","onDestroy","onDurationChange","onEmptied","onEnd","onEnded","onError","onFindMediaPlayer","onFullscreenChange","onFullscreenError","onLiveChange","onLiveEdgeChange","onLoadedData","onLoadedMetadata","onLoadStart","onLoopChange","onOrientationChange","onPause","onPictureInPictureChange","onPictureInPictureError","onPlay","onPlayFail","onPlaying","onPlaysInlineChange","onPosterChange","onProgress","onProviderChange","onProviderLoaderChange","onProviderSetup","onQualitiesChange","onQualityChange","onRateChange","onReplay","onSeeked","onSeeking","onSourceChange","onSourceChange","onStalled","onStarted","onStreamTypeChange","onSuspend","onTextTrackChange","onTextTracksChange","onTimeUpdate","onTitleChange","onVdsLog","onVideoPresentationChange","onVolumeChange","onWaiting"],eventsRegex:/^onHls/,domEventsRegex:/^onMedia/}),ba=c.forwardRef(({aspectRatio:a,children:b,...d},e)=>c.createElement(a9,{...d,src:d.src,ref:e,style:{aspectRatio:a,...d.style}},a=>c.createElement(l.Primitive.div,{...a},b)));ba.displayName="MediaPlayer";let bb=(0,m.createReactComponent)(l.MediaProviderInstance),bc=c.forwardRef(({loaders:a=[],children:b,iframeProps:d,mediaProps:e,...f},g)=>{let h=c.useMemo(()=>a.map(a=>new a),a);return c.createElement(bb,{...f,loaders:h,ref:g},(a,f)=>c.createElement("div",{...a},c.createElement(bd,{provider:f,mediaProps:e,iframeProps:d}),b))});function bd({provider:b,mediaProps:d,iframeProps:e}){let{sources:f,crossOrigin:g,poster:h,remotePlaybackInfo:i,nativeControls:j,viewType:k}=(0,m.useStateContext)(l.mediaState),{loader:n}=b.$state,{$provider:p,$providerSetup:q}=o(),r=(0,m.useSignal)(f),s=(0,m.useSignal)(j),t=(0,m.useSignal)(g),u=(0,m.useSignal)(h),v=(0,m.useSignal)(n),w=(0,m.useSignal)(p),x=(0,m.useSignal)(q),y=(0,m.useSignal)(i),z=v?.mediaType(),A=(0,m.useSignal)(k),B=v?.name==="youtube",C=v?.name==="vimeo",D=v?.name==="remotion",E=v?.name==="google-cast",[F,G]=c.useState(""),[H,I]=c.useState(!1);return(c.useEffect(()=>{E&&!F&&a.A(1965).then(function(a){return a.chromecast}).then(a=>{G(a.default)})},[E]),c.useEffect(()=>{I(!0)},[]),E)?c.createElement("div",{className:"vds-google-cast",ref:a=>{b.load(a)}},c.createElement(a3,{paths:F}),y?.deviceName?c.createElement("span",{className:"vds-google-cast-info"},"Google Cast on"," ",c.createElement("span",{className:"vds-google-cast-device-name"},y.deviceName)):null):D?c.createElement("div",{"data-remotion-canvas":!0},c.createElement("div",{"data-remotion-container":!0,ref:a=>{b.load(a)}},(0,l.isRemotionProvider)(w)&&x?c.createElement(w.render):null)):B||C?c.createElement(c.Fragment,null,c.createElement("iframe",{...e,className:(e?.className?`${e.className} `:"")+B?"vds-youtube":"vds-vimeo",suppressHydrationWarning:!0,tabIndex:s?void 0:-1,"aria-hidden":"true","data-no-controls":s?void 0:"",ref(a){b.load(a)}}),s||"audio"===A?null:c.createElement("div",{className:"vds-blocker"})):z?c.createElement("audio"===z?"audio":"video",{...d,controls:!!s||null,crossOrigin:"boolean"==typeof t?"":t,poster:"video"===z&&s&&u?u:null,suppressHydrationWarning:!0,children:H?null:r.map(({src:a,type:b})=>(0,m.isString)(a)?c.createElement("source",{src:a,type:"?"!==b?b:void 0,key:a}):null),ref(a){b.load(a)}}):null}function be({lang:a,...b}){var d;let e,f;return d={language:a,...b},e=o(),f=c.useMemo(()=>new l.TextTrack(d),Object.values(d)),c.useEffect(()=>(e.textTracks.add(f),()=>void e.textTracks.remove(f)),[f]),null}bc.displayName="MediaProvider",bd.displayName="MediaOutlet",be.displayName="Track";let bf=(0,m.createReactComponent)(l.ToggleButtonInstance);c.forwardRef(({children:a,...b},d)=>c.createElement(bf,{...b},b=>c.createElement(l.Primitive.button,{...b,ref:(0,m.composeRefs)(b.ref,d)},a))).displayName="ToggleButton";let bg=(0,m.createReactComponent)(l.PosterInstance),bh=c.forwardRef(({children:a,...b},d)=>c.createElement(bg,{src:b.asChild&&c.isValidElement(a)?a.props.src:void 0,...b},(b,e)=>c.createElement(bi,{...b,instance:e,ref:(0,m.composeRefs)(b.ref,d)},a)));bh.displayName="Poster";let bi=c.forwardRef(({instance:a,children:b,...d},e)=>{let{src:f,img:g,alt:h,crossOrigin:i,hidden:j}=a.$state,k=(0,m.useSignal)(f),n=(0,m.useSignal)(h),o=(0,m.useSignal)(i),p=(0,m.useSignal)(j);return c.createElement(l.Primitive.img,{...d,src:k||void 0,alt:n||void 0,crossOrigin:o||void 0,ref:(0,m.composeRefs)(g.set,e),style:{display:p?"none":void 0}},b)});function bj(a,b){c.useEffect(()=>{if(!a)return;b();let c=new ResizeObserver((0,m.animationFrameThrottle)(b));return c.observe(a),()=>c.disconnect()},[a,b])}function bk(a){let b=aw();c.useEffect(()=>{if(b)return(0,m.effect)(()=>{let c=b.$el;return c?.setAttribute("data-layout",a),()=>c?.removeAttribute("data-layout")})},[b])}bi.displayName="PosterImg",c.forwardRef(({children:a,...b},d)=>c.createElement(l.Primitive.div,{translate:"yes","aria-live":"off","aria-atomic":"true",...b,ref:d},a)).displayName="Caption",c.forwardRef((a,b)=>{let d=(0,l.useMediaState)("textTrack"),[e,f]=c.useState();return c.useEffect(()=>{if(d)return d.addEventListener("cue-change",a),()=>{d.removeEventListener("cue-change",a),f(void 0)};function a(){f(d?.activeCues[0])}},[d]),c.createElement(l.Primitive.span,{...a,"data-part":"cue",dangerouslySetInnerHTML:{__html:e?.text||""},ref:b})}).displayName="CaptionText";let bl=(0,m.signal)(null),bm=(0,m.signal)(null),bn=c.createContext({});function bo(){return c.useContext(bn)}function bp(a){var b,c;let{translations:d}=bo();return b=d,c=a,b?.[c]??c}function bq(a){let b=function(){let[a,b]=c.useState("dark");return c.useEffect(()=>{let a=window.matchMedia("(prefers-color-scheme: light)");function c(){b(a.matches?"light":"dark")}return c(),(0,m.listenEvent)(a,"change",c)},[]),a}();return"default"===a?null:"system"===a?b:a}function br({type:a,smLayoutWhen:b,renderLayout:d}){let e=c.forwardRef(({children:e,className:f,disableTimeSlider:g=!1,hideQualityBitrate:h=!1,icons:i,colorScheme:j="system",download:k=null,menuContainer:n=null,menuGroup:p="bottom",noAudioGain:q=!1,audioGains:r={min:0,max:300,step:25},noGestures:s=!1,noKeyboardAnimations:t=!1,noModal:u=!1,noScrubGesture:v,playbackRates:w={min:0,max:2,step:.25},seekStep:x=10,showMenuDelay:y,showTooltipDelay:z=700,sliderChaptersMinWidth:A=325,slots:B,smallLayoutWhen:C=b,thumbnails:D=null,translations:E,...F},G)=>{let H=o(),I=(0,m.useSignal)(H.$props.load),J=(0,l.useMediaState)("canLoad"),K=(0,l.useMediaState)("viewType"),L=(0,l.useMediaState)("streamType"),M=a2(()=>(0,m.isBoolean)(C)?C:C(H.player.state),[C]),N=a1(!0),O=a1(!0),P=K===a,Q=M(),R=(0,m.isBoolean)(C),S="play"===I&&!J,T=J||R||S,U=bq(j),V=a1(null);return(0,m.useSignal)(M),c.createElement("div",{...F,className:`vds-${a}-layout`+(U?` ${U}`:"")+(f?` ${f}`:""),"data-match":P?"":null,"data-sm":Q?"":null,"data-lg":Q?null:"","data-size":Q?"sm":"lg","data-no-scrub-gesture":v?"":null,ref:(0,m.composeRefs)(V.set,G)},T&&P?c.createElement(bn.Provider,{value:{disableTimeSlider:g,hideQualityBitrate:h,icons:i,colorScheme:j,download:k,isSmallLayout:Q,menuContainer:n,menuGroup:p,noAudioGain:q,audioGains:r,layoutEl:V,noGestures:s,noKeyboardAnimations:t,noModal:u,noScrubGesture:v,showMenuDelay:y,showTooltipDelay:z,sliderChaptersMinWidth:A,slots:B,seekStep:x,playbackRates:w,thumbnails:D,translations:E,userPrefersAnnouncements:N,userPrefersKeyboardAnimations:O}},d({streamType:L,isSmallLayout:Q,isLoadLayout:S}),e):null)});return e.displayName="DefaultMediaLayout",e}function bs(){return c.useContext(bn).slots}function bt(){return c.useContext(bn).slots}function bu(a,b,d){let e=a?.[b],f=(0,m.uppercaseFirstChar)(b);return c.createElement(c.Fragment,null,a?.[`before${f}`],(0,m.isUndefined)(e)?d:e,a?.[`after${f}`])}function bv(){let{userPrefersAnnouncements:a,translations:b}=bo();return(0,m.useSignal)(a)?c.createElement(aA,{translations:b}):null}function bw({content:a,placement:b,children:d}){let{showTooltipDelay:e}=bo();return c.createElement(aG,{showDelay:e},c.createElement(aI,{asChild:!0},d),c.createElement(aK,{className:"vds-tooltip-content",placement:b},a))}function bx({tooltip:a}){let{icons:b}=bo(),d=bp("Play"),e=bp("Pause"),f=(0,l.useMediaState)("paused"),g=(0,l.useMediaState)("ended");return c.createElement(bw,{content:f?d:e,placement:a},c.createElement(s,{className:"vds-play-button vds-button","aria-label":d},g?c.createElement(b.PlayButton.Replay,{className:"vds-icon"}):f?c.createElement(b.PlayButton.Play,{className:"vds-icon"}):c.createElement(b.PlayButton.Pause,{className:"vds-icon"})))}bn.displayName="DefaultLayoutContext",bv.displayName="DefaultAnnouncer",bw.displayName="DefaultTooltip",bx.displayName="DefaultPlayButton";let by=c.forwardRef(({tooltip:a},b)=>{let{icons:d}=bo(),e=bp("Mute"),f=bp("Unmute"),g=(0,l.useMediaState)("muted"),h=(0,l.useMediaState)("volume");return c.createElement(bw,{content:g?f:e,placement:a},c.createElement(y,{className:"vds-mute-button vds-button","aria-label":e,ref:b},g||0==h?c.createElement(d.MuteButton.Mute,{className:"vds-icon"}):h<.5?c.createElement(d.MuteButton.VolumeLow,{className:"vds-icon"}):c.createElement(d.MuteButton.VolumeHigh,{className:"vds-icon"})))});function bz({tooltip:a}){let{icons:b}=bo(),d=bp("Captions"),e=bp("Closed-Captions On"),f=bp("Closed-Captions Off"),g=(0,l.useMediaState)("textTrack"),h=g&&(0,l.isTrackCaptionKind)(g);return c.createElement(bw,{content:h?e:f,placement:a},c.createElement(u,{className:"vds-caption-button vds-button","aria-label":d},h?c.createElement(b.CaptionButton.On,{className:"vds-icon"}):c.createElement(b.CaptionButton.Off,{className:"vds-icon"})))}function bA({tooltip:a}){let{icons:b}=bo(),d=bp("PiP"),e=bp("Enter PiP"),f=bp("Exit PiP"),g=(0,l.useMediaState)("pictureInPicture");return c.createElement(bw,{content:g?f:e,placement:a},c.createElement(A,{className:"vds-pip-button vds-button","aria-label":d},g?c.createElement(b.PIPButton.Exit,{className:"vds-icon"}):c.createElement(b.PIPButton.Enter,{className:"vds-icon"})))}function bB({tooltip:a}){let{icons:b}=bo(),d=bp("Fullscreen"),e=bp("Enter Fullscreen"),f=bp("Exit Fullscreen"),g=(0,l.useMediaState)("fullscreen");return c.createElement(bw,{content:g?f:e,placement:a},c.createElement(w,{className:"vds-fullscreen-button vds-button","aria-label":d},g?c.createElement(b.FullscreenButton.Exit,{className:"vds-icon"}):c.createElement(b.FullscreenButton.Enter,{className:"vds-icon"})))}function bC({backward:a,tooltip:b}){let{icons:d,seekStep:e}=bo(),f=bp("Seek Forward"),g=bp("Seek Backward"),h=(a?-1:1)*e,i=h>=0?f:g;return c.createElement(bw,{content:i,placement:b},c.createElement(C,{className:"vds-seek-button vds-button",seconds:h,"aria-label":i},h>=0?c.createElement(d.SeekButton.Forward,{className:"vds-icon"}):c.createElement(d.SeekButton.Backward,{className:"vds-icon"})))}function bD({tooltip:a}){let{icons:b}=bo(),d=bp("AirPlay"),e=(0,l.useMediaState)("remotePlaybackState"),f=bp((0,m.uppercaseFirstChar)(e)),g=`${d} ${f}`,h=("connecting"===e?b.AirPlayButton.Connecting:"connected"===e?b.AirPlayButton.Connected:null)??b.AirPlayButton.Default;return c.createElement(bw,{content:d,placement:a},c.createElement(q,{className:"vds-airplay-button vds-button","aria-label":g},c.createElement(h,{className:"vds-icon"})))}function bE({tooltip:a}){let{icons:b}=bo(),d=bp("Google Cast"),e=(0,l.useMediaState)("remotePlaybackState"),f=bp((0,m.uppercaseFirstChar)(e)),g=`${d} ${f}`,h=("connecting"===e?b.GoogleCastButton.Connecting:"connected"===e?b.GoogleCastButton.Connected:null)??b.GoogleCastButton.Default;return c.createElement(bw,{content:d,placement:a},c.createElement(aM,{className:"vds-google-cast-button vds-button","aria-label":g},c.createElement(h,{className:"vds-icon"})))}function bF(){let a=(0,l.useMediaState)("live"),b=bp("Skip To Live"),d=bp("LIVE");return a?c.createElement(E,{className:"vds-live-button","aria-label":b},c.createElement("span",{className:"vds-live-button-text"},d)):null}function bG(){let{download:a,icons:b}=bo(),d=(0,l.useMediaState)("source"),e=(0,l.useMediaState)("title"),f=(0,l.getDownloadFile)({title:e,src:d,download:a}),g=bp("Download");return(0,m.isString)(f?.url)?c.createElement(bw,{content:g,placement:"top"},c.createElement("a",{role:"button",className:"vds-download-button vds-button","aria-label":g,href:function(a,b){let c=new URL(a);for(let a of Object.keys(b))c.searchParams.set(a,b[a]+"");return c.toString()}(f.url,{download:f.name}),download:f.name,target:"_blank"},b.DownloadButton?c.createElement(b.DownloadButton.Default,{className:"vds-icon"}):null)):null}function bH(){let a=bp("Captions look like this");return c.createElement(aZ,{className:"vds-captions",exampleText:a})}function bI(){return c.createElement("div",{className:"vds-controls-spacer"})}function bJ(){let{layoutEl:a}=bo(),b=(0,m.useSignal)(a);return c.useMemo(()=>b?.closest("dialog"),[b])}function bK({tooltip:a,placement:b,portalClass:d=""}){let e,f,g,h,i,{showMenuDelay:j,noModal:k,isSmallLayout:p,icons:q,menuGroup:r,menuContainer:s,colorScheme:t}=bo(),u=bp("Chapters"),v=(e=o(),g=function(a){let[b,d]=c.useState([]);return c.useEffect(()=>{if(!a)return;function b(){a&&d([...a.cues])}let c=new m.EventsController(a).add("add-cue",b).add("remove-cue",b);return b(),()=>{d([]),c.abort()}},[a]),b}(f=aV("chapters")),h=(0,m.useSignal)(e.$state.seekableStart),i=(0,m.useSignal)(e.$state.seekableEnd),aU(f),c.useMemo(()=>{let a=f?g.filter(a=>a.startTime<=i&&a.endTime>=h).map((a,b)=>{let c=null,d;return{cue:a,label:a.text,value:b.toString(),startTimeText:(0,l.formatTime)(Math.max(0,a.startTime-h)),durationText:(0,l.formatSpokenTime)(Math.min(i,a.endTime)-Math.max(h,a.startTime)),get selected(){return a===f.activeCues[0]},setProgressVar(b){if(!b||a!==f.activeCues[0]){d?.(),d=void 0,b?.style.setProperty("--progress","0%"),c=null;return}c!==b&&(c=b,d?.(),d=(0,m.effect)(()=>{let{realCurrentTime:c}=e.$state,d=c(),f=Math.max(h,a.startTime),g=Math.min(i,a.endTime)-f,j=Math.max(0,d-f)/g*100;b.style.setProperty("--progress",j.toFixed(3)+"%")}))},select(b){e.remote.seek(a.startTime-h,b)}}}):[];return Object.defineProperty(a,"selectedValue",{get(){let b=a.findIndex(a=>a.selected);return(b>=0?b:0).toString()}}),a},[g,h,i])),w=!v.length,{thumbnails:x}=bo(),y=(0,l.useMediaState)("currentSrc"),z=(0,l.useMediaState)("viewType"),A=(0,m.useSignal)(bl),B=bq(t),[C,D]=c.useState(!1),E=bJ();if(w)return null;let F=c.createElement(ap,{className:"vds-chapters-menu-items vds-menu-items",placement:b,offset:26*(!p&&"bottom"===r&&"video"===z)},C?c.createElement(ag,{className:"vds-chapters-radio-group vds-radio-group",value:v.selectedValue,"data-thumbnails":x?"":null},v.map(({cue:a,label:b,value:d,startTimeText:e,durationText:f,select:g,setProgressVar:h})=>c.createElement(ai,{className:"vds-chapter-radio vds-radio",value:d,key:d,onSelect:g,ref:h},x?c.createElement(T,{src:x,className:"vds-thumbnail",time:a.startTime},c.createElement(U,null)):A&&(0,l.isRemotionSrc)(y)?c.createElement(A,{className:"vds-thumbnail",frame:a.startTime*y.fps}):null,c.createElement("div",{className:"vds-chapter-radio-content"},c.createElement("span",{className:"vds-chapter-radio-label"},b),c.createElement("span",{className:"vds-chapter-radio-start-time"},e),c.createElement("span",{className:"vds-chapter-radio-duration"},f))))):null);return c.createElement(ak,{className:"vds-chapters-menu vds-menu",showDelay:j,onOpen:function(){(0,n.flushSync)(()=>{D(!0)})},onClose:function(){D(!1)}},c.createElement(bw,{content:u,placement:a},c.createElement(am,{className:"vds-menu-button vds-button",disabled:w,"aria-label":u},c.createElement(q.Menu.Chapters,{className:"vds-icon"}))),k||!p?F:c.createElement(an,{container:s??E,className:d+(B?` ${B}`:""),disabled:"fullscreen","data-sm":p?"":null,"data-lg":p?null:"","data-size":p?"sm":"lg"},F))}by.displayName="DefaultMuteButton",bz.displayName="DefaultCaptionButton",bA.displayName="DefaultPIPButton",bB.displayName="DefaultFullscreenButton",bC.displayName="DefaultSeekButton",bD.displayName="DefaultAirPlayButton",bE.displayName="DefaultGoogleCastButton",bF.displayName="DefaultLiveButton",bG.displayName="DefaultDownloadButton",bH.displayName="DefaultCaptions",bI.displayName="DefaultControlsSpacer",bK.displayName="DefaultChaptersMenu";let bL={type:"color"},bM={type:"radio",values:{"Monospaced Serif":"mono-serif","Proportional Serif":"pro-serif","Monospaced Sans-Serif":"mono-sans","Proportional Sans-Serif":"pro-sans",Casual:"casual",Cursive:"cursive","Small Capitals":"capitals"}},bN={type:"slider",min:0,max:400,step:25,upIcon:null,downIcon:null},bO={type:"slider",min:0,max:100,step:5,upIcon:null,downIcon:null},bP={type:"radio",values:["None","Drop Shadow","Raised","Depressed","Outline"]},bQ={fontFamily:"pro-sans",fontSize:"100%",textColor:"#ffffff",textOpacity:"100%",textShadow:"none",textBg:"#000000",textBgOpacity:"100%",displayBg:"#000000",displayBgOpacity:"0%"},bR=Object.keys(bQ).reduce((a,b)=>({...a,[b]:(0,m.signal)(bQ[b])}),{});if(!l.IS_SERVER)for(let a of Object.keys(bR)){let b=localStorage.getItem(`vds-player:${(0,m.camelToKebabCase)(a)}`);(0,m.isString)(b)&&bR[a].set(b)}function bS(){for(let a of Object.keys(bR)){let b=bQ[a];bR[a].set(b)}}function bT(a){let{style:b}=new Option;return b.color=a,b.color.match(/\((.*?)\)/)[1].replace(/,/g," ")}let bU=!1,bV=new Set;function bW(){if(l.IS_SERVER)return;let{player:a}=(0,l.useMediaContext)();bV.add(a),(0,m.onDispose)(()=>bV.delete(a)),bU||((0,m.scoped)(()=>{for(let b of(0,m.keysOf)(bR)){let c=bR[b],d=bQ[b],e=`--media-user-${(0,m.camelToKebabCase)(b)}`,f=`vds-player:${(0,m.camelToKebabCase)(b)}`;(0,m.effect)(()=>{let g=c(),h=g===d,i=h?null:function(a,b,c){switch(b){case"fontFamily":let d="capitals"===c?"small-caps":"";return a.el?.style.setProperty("--media-user-font-variant",d),function(a){switch(a){case"mono-serif":return'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';case"mono-sans":return'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';case"pro-sans":return'Roboto, "Arial Unicode Ms", Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif';case"casual":return'"Comic Sans MS", Impact, Handlee, fantasy';case"cursive":return'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';case"capitals":return'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif + font-variant=small-caps';default:return'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif'}}(c);case"fontSize":case"textOpacity":case"textBgOpacity":case"displayBgOpacity":return(parseInt(c)/100).toString();case"textColor":return`rgb(${bT(c)} / var(--media-user-text-opacity, 1))`;case"textShadow":var e=c;switch(e){case"drop shadow":return"rgb(34, 34, 34) 1.86389px 1.86389px 2.79583px, rgb(34, 34, 34) 1.86389px 1.86389px 3.72778px, rgb(34, 34, 34) 1.86389px 1.86389px 4.65972px";case"raised":return"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px";case"depressed":return"rgb(204, 204, 204) 1px 1px, rgb(34, 34, 34) -1px -1px";case"outline":return"rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px";default:return""}case"textBg":return`rgb(${bT(c)} / var(--media-user-text-bg-opacity, 1))`;case"displayBg":return`rgb(${bT(c)} / var(--media-user-display-bg-opacity, 1))`}}(a,b,g);for(let a of bV)a.el?.style.setProperty(e,i);h?localStorage.removeItem(f):localStorage.setItem(f,g)})}},null),bU=!0)}function bX({label:a,value:b,children:d}){let e=c.useId();return a?c.createElement("section",{className:"vds-menu-section",role:"group","aria-labelledby":e},c.createElement("div",{className:"vds-menu-section-title"},c.createElement("header",{id:e},a),b?c.createElement("div",{className:"vds-menu-section-value"},b):null),c.createElement("div",{className:"vds-menu-section-body"},d)):c.createElement("div",{className:"vds-menu-section"},c.createElement("div",{className:"vds-menu-section-body"},d))}function bY({label:a,hint:b="",Icon:d,disabled:e=!1}){let{icons:f}=c.useContext(bn);return c.createElement(am,{className:"vds-menu-item",disabled:e},c.createElement(f.Menu.ArrowLeft,{className:"vds-menu-close-icon vds-icon"}),d?c.createElement(d,{className:"vds-menu-item-icon vds-icon"}):null,c.createElement("span",{className:"vds-menu-item-label"},a),c.createElement("span",{className:"vds-menu-item-hint"},b),c.createElement(f.Menu.ArrowRight,{className:"vds-menu-open-icon vds-icon"}))}function bZ({label:a,children:b}){return c.createElement("div",{className:"vds-menu-item"},c.createElement("div",{className:"vds-menu-item-label"},a),b)}function b$({value:a,options:b,onChange:d}){let{icons:e}=bo();return c.createElement(ag,{className:"vds-radio-group",value:a,onChange:d},b.map(a=>c.createElement(ai,{className:"vds-radio",value:a.value,key:a.value},c.createElement(e.Menu.RadioCheck,{className:"vds-icon"}),c.createElement("span",{className:"vds-radio-label","data-part":"label"},a.label))))}function b_({label:a,value:b,UpIcon:d,DownIcon:e,children:f,isMin:g,isMax:h}){let i=a||b,j=c.createElement(c.Fragment,null,e?c.createElement(e,{className:"vds-icon down"}):null,f,d?c.createElement(d,{className:"vds-icon up"}):null);return c.createElement("div",{className:`vds-menu-item vds-menu-slider-item${i?" group":""}`,"data-min":g?"":null,"data-max":h?"":null},i?c.createElement(c.Fragment,null,c.createElement("div",{className:"vds-menu-slider-title"},a?c.createElement("div",null,a):null,b?c.createElement("div",null,b):null),c.createElement("div",{className:"vds-menu-slider-body"},j)):j)}function b0(){return c.createElement(c.Fragment,null,c.createElement(K,{className:"vds-slider-track"}),c.createElement(L,{className:"vds-slider-track-fill vds-slider-track"}),c.createElement(J,{className:"vds-slider-thumb"}))}function b1(){return c.createElement(P,{className:"vds-slider-steps"},a=>c.createElement("div",{className:"vds-slider-step",key:String(a)}))}function b2(){let a=bp("Caption Styles"),b=(0,l.useMediaState)("hasCaptions"),d=bp("Font"),e=bp("Text"),f=bp("Text Background"),g=bp("Display Background");return b?c.createElement(ak,{className:"vds-font-menu vds-menu"},c.createElement(bY,{label:a}),c.createElement(ap,{className:"vds-font-style-items vds-menu-items"},c.createElement(bX,{label:d},c.createElement(b3,null),c.createElement(b4,null)),c.createElement(bX,{label:e},c.createElement(b5,null),c.createElement(b7,null),c.createElement(b6,null)),c.createElement(bX,{label:f},c.createElement(b8,null),c.createElement(b9,null)),c.createElement(bX,{label:g},c.createElement(ca,null),c.createElement(cb,null)),c.createElement(bX,null,c.createElement(ce,null)))):null}function b3(){return c.createElement(cc,{label:"Family",type:"fontFamily",option:bM})}function b4(){let{icons:a}=bo(),b={...bN,upIcon:a.Menu.FontSizeUp,downIcon:a.Menu.FontSizeDown};return c.createElement(cc,{label:"Size",type:"fontSize",option:b})}function b5(){return c.createElement(cc,{label:"Color",type:"textColor",option:bL})}function b6(){let{icons:a}=bo(),b={...bO,upIcon:a.Menu.OpacityUp,downIcon:a.Menu.OpacityDown};return c.createElement(cc,{label:"Opacity",type:"textOpacity",option:b})}function b7(){return c.createElement(cc,{label:"Shadow",type:"textShadow",option:bP})}function b8(){return c.createElement(cc,{label:"Color",type:"textBg",option:bL})}function b9(){let{icons:a}=bo(),b={...bO,upIcon:a.Menu.OpacityUp,downIcon:a.Menu.OpacityDown};return c.createElement(cc,{label:"Opacity",type:"textBgOpacity",option:b})}function ca(){return c.createElement(cc,{label:"Color",type:"displayBg",option:bL})}function cb(){let{icons:a}=bo(),b={...bO,upIcon:a.Menu.OpacityUp,downIcon:a.Menu.OpacityDown};return c.createElement(cc,{label:"Opacity",type:"displayBgOpacity",option:b})}function cc({label:a,option:b,type:d}){let e=aw(),f=bR[d],g=(0,m.useSignal)(f),h=bp(a),i=c.useCallback(()=>{e?.dispatchEvent(new Event("vds-font-change"))},[e]),j=c.useCallback(a=>{f.set(a),i()},[f,i]);if("color"===b.type)return c.createElement(bZ,{label:h},c.createElement("input",{className:"vds-color-picker",type:"color",value:g,onChange:function(a){j(a.target.value)}}));if("slider"===b.type){let a=function(a){j(a+"%")},{min:d,max:e,step:f,upIcon:i,downIcon:k}=b;return c.createElement(b_,{label:h,value:g,UpIcon:i,DownIcon:k,isMin:g===d+"%",isMax:g===e+"%"},c.createElement(I,{className:"vds-slider",min:d,max:e,step:f,keyStep:f,value:parseInt(g),"aria-label":h,onValueChange:a,onDragValueChange:a},c.createElement(b0,null),c.createElement(b1,null)))}return"radio"===b.type?c.createElement(cd,{id:(0,m.camelToKebabCase)(d),label:h,value:g,values:b.values,onChange:j}):null}function cd({id:a,label:b,value:d,values:e,onChange:f}){let g=c.useMemo(()=>(0,m.isArray)(e)?e.map(a=>({label:a,value:a.toLowerCase()})):Object.keys(e).map(a=>({label:a,value:e[a]})),[e]),{translations:h}=bo(),i=c.useMemo(()=>{let a=g.find(a=>a.value===d)?.label||"";return h?.[a]??a},[d,g]);return c.createElement(ak,{className:`vds-${a}-menu vds-menu`},c.createElement(bY,{label:b,hint:i}),c.createElement(ap,{className:"vds-menu-items"},c.createElement(b$,{value:d,options:g,onChange:f})))}function ce(){let a=bp("Reset");return c.createElement("button",{className:"vds-menu-item",role:"menuitem",onClick:bS},c.createElement("span",{className:"vds-menu-item-label"},a))}function cf({label:a,checked:b,storageKey:d,defaultChecked:e=!1,onChange:f}){let[g,h]=c.useState(e),[i,j]=c.useState(!1);function k(a){if(a&&"button"in a&&a?.button===1)return;let b=!g;h(b),d&&localStorage.setItem(d,b?"1":""),f?.(b,a?.nativeEvent),j(!1)}return c.useEffect(()=>{let a=!!((d?localStorage.getItem(d):null)??e);h(a),f?.(a)},[]),c.useEffect(()=>{(0,m.isBoolean)(b)&&h(b)},[b]),c.createElement("div",{className:"vds-menu-checkbox",role:"menuitemcheckbox",tabIndex:0,"aria-label":a,"aria-checked":g?"true":"false","data-active":i?"":null,onPointerUp:k,onPointerDown:function(a){0===a.button&&j(!0)},onKeyDown:function(a){(0,m.isKeyboardClick)(a.nativeEvent)&&k()}})}function cg({slots:a}){let b=bp("Accessibility"),{icons:d}=bo();return c.createElement(ak,{className:"vds-accessibility-menu vds-menu"},c.createElement(bY,{label:b,Icon:d.Menu.Accessibility}),c.createElement(ap,{className:"vds-menu-items"},bu(a,"accessibilityMenuItemsStart",null),c.createElement(bX,null,c.createElement(ch,null),c.createElement(ci,null)),c.createElement(bX,null,c.createElement(b2,null)),bu(a,"accessibilityMenuItemsEnd",null)))}function ch(){let{userPrefersAnnouncements:a}=bo(),b=bp("Announcements");return c.createElement(bZ,{label:b},c.createElement(cf,{label:b,defaultChecked:!0,storageKey:"vds-player::announcements",onChange:function(b){a.set(b)}}))}function ci(){let a=(0,l.useMediaState)("viewType"),{userPrefersKeyboardAnimations:b,noKeyboardAnimations:d}=bo(),e=bp("Keyboard Animations");return"video"!==a||d?null:c.createElement(bZ,{label:e},c.createElement(cf,{label:e,defaultChecked:!0,storageKey:"vds-player::keyboard-animations",onChange:function(a){b.set(a)}}))}function cj({slots:a}){let b=bp("Audio"),d=(0,l.useMediaState)("canSetAudioGain"),e=(0,l.useMediaState)("audioTracks"),{noAudioGain:f,icons:g}=bo(),h=d&&!f;return!h&&e.length<=1?null:c.createElement(ak,{className:"vds-audio-menu vds-menu"},c.createElement(bY,{label:b,Icon:g.Menu.Audio}),c.createElement(ap,{className:"vds-menu-items"},bu(a,"audioMenuItemsStart",null),c.createElement(co,null),h?c.createElement(ck,null):null,bu(a,"audioMenuItemsEnd",null)))}function ck(){let a=(0,l.useMediaState)("audioGain"),b=bp("Boost"),d=Math.round(((a??1)-1)*100)+"%",e=(0,l.useMediaState)("canSetAudioGain"),{noAudioGain:f,icons:g}=bo(),h=cl(),i=cm();return!e||f?null:c.createElement(bX,{label:b,value:d},c.createElement(b_,{UpIcon:g.Menu.AudioBoostUp,DownIcon:g.Menu.AudioBoostDown,isMin:((a??1)-1)*100<=h,isMax:((a??1)-1)*100===i},c.createElement(cn,null)))}function cl(){let{audioGains:a}=bo();return((0,m.isArray)(a)?a[0]:a?.min)??0}function cm(){let{audioGains:a}=bo();return((0,m.isArray)(a)?a[a.length-1]:a?.max)??300}function cn(){let a=bp("Audio Boost"),b=cl(),d=cm(),e=function(){let{audioGains:a}=bo();return((0,m.isArray)(a)?a[1]-a[0]:a?.step)||25}();return c.createElement(aQ,{className:"vds-audio-gain-slider vds-slider","aria-label":a,min:b,max:d,step:e,keyStep:e},c.createElement(b0,null),c.createElement(b1,null))}function co(){let{icons:a}=bo(),b=bp("Track"),d=bp("Default"),e=(0,l.useMediaState)("audioTrack"),f=function(){let a=o(),{audioTracks:b,audioTrack:d}=a.$state,e=(0,m.useSignal)(b);return(0,m.useSignal)(d),c.useMemo(()=>{let c=e.map(c=>({track:c,label:c.label,value:ax(c),get selected(){return d()===c},select(d){let e=b().indexOf(c);e>=0&&a.remote.changeAudioTrack(e,d)}}));return Object.defineProperty(c,"disabled",{get:()=>c.length<=1}),Object.defineProperty(c,"selectedTrack",{get:()=>d()}),Object.defineProperty(c,"selectedValue",{get(){let a=d();return a?ax(a):void 0}}),c},[e])}();return f.disabled?null:c.createElement(ak,{className:"vds-audio-track-menu vds-menu"},c.createElement(bY,{label:b,hint:e?.label??d,disabled:f.disabled,Icon:a.Menu.Audio}),c.createElement(ap,{className:"vds-menu-items"},c.createElement(ag,{className:"vds-audio-radio-group vds-radio-group",value:f.selectedValue},f.map(({label:b,value:d,select:e})=>c.createElement(ai,{className:"vds-audio-radio vds-radio",value:d,onSelect:e,key:d},c.createElement(a.Menu.RadioCheck,{className:"vds-icon"}),c.createElement("span",{className:"vds-radio-label"},b))))))}function cp({slots:a}){let{icons:b}=bo(),d=bp("Captions"),e=bp("Off"),f=function({off:a=!0}={}){let b=o(),{textTracks:d,textTrack:e}=b.$state,f=(0,m.useSignal)(d);return(0,m.useSignal)(e),c.useMemo(()=>{let c=f.filter(l.isTrackCaptionKind),g=c.map(a=>({track:a,label:a.label,value:ay(a),get selected(){return e()===a},select(c){let e=d().indexOf(a);e>=0&&b.remote.changeTextTrackMode(e,"showing",c)}}));return a&&g.unshift({track:null,label:(0,m.isString)(a)?a:"Off",value:"off",get selected(){return!e()},select(a){b.remote.toggleCaptions(a)}}),Object.defineProperty(g,"disabled",{get:()=>!c.length}),Object.defineProperty(g,"selectedTrack",{get:()=>e()}),Object.defineProperty(g,"selectedValue",{get(){let a=e();return a?ay(a):"off"}}),g},[f])}({off:e}),g=f.selectedTrack?.label??e;return f.disabled?null:c.createElement(ak,{className:"vds-captions-menu vds-menu"},c.createElement(bY,{label:d,hint:g,disabled:f.disabled,Icon:b.Menu.Captions}),c.createElement(ap,{className:"vds-menu-items"},bu(a,"captionsMenuItemsStart",null),c.createElement(ag,{className:"vds-captions-radio-group vds-radio-group",value:f.selectedValue},f.map(({label:a,value:d,select:e})=>c.createElement(ai,{className:"vds-caption-radio vds-radio",value:d,onSelect:e,key:d},c.createElement(b.Menu.RadioCheck,{className:"vds-icon"}),c.createElement("span",{className:"vds-radio-label"},a)))),bu(a,"captionsMenuItemsEnd",null)))}function cq({slots:a}){let b=bp("Playback"),{icons:d}=bo();return c.createElement(ak,{className:"vds-playback-menu vds-menu"},c.createElement(bY,{label:b,Icon:d.Menu.Playback}),c.createElement(ap,{className:"vds-menu-items"},bu(a,"playbackMenuItemsStart",null),c.createElement(bX,null,bu(a,"playbackMenuLoop",c.createElement(cr,null))),c.createElement(cv,null),c.createElement(ct,null),bu(a,"playbackMenuItemsEnd",null)))}function cr(){let{remote:a}=o(),b=bp("Loop");return c.createElement(bZ,{label:b},c.createElement(cf,{label:b,storageKey:"vds-player::user-loop",onChange:function(b,c){a.userPrefersLoopChange(b,c)}}))}function cs(){let{remote:a,qualities:b}=o(),d=(0,l.useMediaState)("autoQuality"),e=bp("Auto");return c.createElement(bZ,{label:e},c.createElement(cf,{label:e,checked:d,onChange:function(c,d){c?a.requestAutoQuality(d):a.changeQuality(b.selectedIndex,d)},defaultChecked:d}))}function ct(){let{hideQualityBitrate:a,icons:b}=bo(),d=(0,l.useMediaState)("canSetQuality"),e=(0,l.useMediaState)("qualities"),f=(0,l.useMediaState)("quality"),g=bp("Quality"),h=bp("Auto"),i=c.useMemo(()=>(0,l.sortVideoQualities)(e),[e]);if(!d||e.length<=1)return null;let j=f?.height,k=a?null:f?.bitrate,m=k&&k>0?`${(k/1e6).toFixed(2)} Mbps`:null,n=j?`${j}p${m?` (${m})`:""}`:h,o=i[0]===f,p=i.at(-1)===f;return c.createElement(bX,{label:g,value:n},c.createElement(b_,{UpIcon:b.Menu.QualityUp,DownIcon:b.Menu.QualityDown,isMin:o,isMax:p},c.createElement(cu,null)),c.createElement(cs,null))}function cu(){let a=bp("Quality");return c.createElement(aO,{className:"vds-quality-slider vds-slider","aria-label":a},c.createElement(b0,null),c.createElement(b1,null))}function cv(){let{icons:a}=bo(),b=(0,l.useMediaState)("playbackRate"),d=(0,l.useMediaState)("canSetPlaybackRate"),e=bp("Speed"),f=bp("Normal"),g=cw(),h=cx();return d?c.createElement(bX,{label:e,value:1===b?f:b+"x"},c.createElement(b_,{UpIcon:a.Menu.SpeedUp,DownIcon:a.Menu.SpeedDown,isMin:b===g,isMax:b===h},c.createElement(cy,null))):null}function cw(){let{playbackRates:a}=bo();return((0,m.isArray)(a)?a[0]:a?.min)??0}function cx(){let{playbackRates:a}=bo();return((0,m.isArray)(a)?a[a.length-1]:a?.max)??2}function cy(){let a=bp("Speed"),b=cw(),d=cx(),e=function(){let{playbackRates:a}=bo();return((0,m.isArray)(a)?a[1]-a[0]:a?.step)||.25}();return c.createElement(aS,{className:"vds-speed-slider vds-slider","aria-label":a,min:b,max:d,step:e,keyStep:e},c.createElement(b0,null),c.createElement(b1,null))}function cz({tooltip:a,placement:b,portalClass:d="",slots:e}){let f,{showMenuDelay:g,icons:h,isSmallLayout:i,menuContainer:j,menuGroup:k,noModal:o,colorScheme:p}=bo(),q=bp("Settings"),r=(0,l.useMediaState)("viewType"),s=bq(p),[t,u]=c.useState(!1),v=bJ();f=(0,m.useReactScope)(),c.useMemo(()=>(0,m.scoped)(bW,f),[f]);let w=c.createElement(ap,{className:"vds-settings-menu-items vds-menu-items",placement:b,offset:26*(!i&&"bottom"===k&&"video"===r)},t?c.createElement(c.Fragment,null,bu(e,"settingsMenuItemsStart",null),bu(e,"settingsMenuStartItems",null),c.createElement(cq,{slots:e}),c.createElement(cg,{slots:e}),c.createElement(cj,{slots:e}),c.createElement(cp,{slots:e}),bu(e,"settingsMenuEndItems",null),bu(e,"settingsMenuItemsEnd",null)):null);return c.createElement(ak,{className:"vds-settings-menu vds-menu",showDelay:g,onOpen:function(){(0,n.flushSync)(()=>{u(!0)})},onClose:function(){u(!1)}},c.createElement(bw,{content:q,placement:a},c.createElement(am,{className:"vds-menu-button vds-button","aria-label":q},c.createElement(h.Menu.Settings,{className:"vds-icon vds-rotate-icon"}))),o||!i?w:c.createElement(an,{className:d+(s?` ${s}`:""),container:j??v,disabled:"fullscreen","data-sm":i?"":null,"data-lg":i?null:"","data-size":i?"sm":"lg","data-view-type":r},w))}function cA({tooltip:a,orientation:b,slots:d}){let e,f,g,h=(0,l.useMediaState)("pointer"),i=(0,l.useMediaState)("muted"),j=(0,l.useMediaState)("canSetVolume"),[k,n]=c.useState(null),o=(e=function(a){let[b,d]=c.useState(!1);return c.useEffect(()=>{if(!a)return;let b=new m.EventsController(a).add("mouseenter",()=>d(!0)).add("mouseleave",()=>d(!1));return()=>b.abort()},[a]),b}(k),f=function(a){let[b,d]=c.useState(!1);return c.useEffect(()=>{if(!a)return;let b=new m.EventsController(a).add("focusin",()=>d(!0)).add("focusout",()=>d(!1));return()=>b.abort()},[a]),b}(k),(!(g=c.useRef(!1)).current||!!e)&&(g.current=e,e||f)),p=bu(d,"muteButton",c.createElement(by,{tooltip:a}));return j?"coarse"!==h||i?c.createElement("div",{className:"vds-volume","data-active":o?"":null,ref:n},p,c.createElement("div",{className:"vds-volume-popup"},bu(d,"volumeSlider",c.createElement(cB,{orientation:b})))):null:p}function cB(a){let b=bp("Volume");return c.createElement(R,{className:"vds-volume-slider vds-slider","aria-label":b,...a},c.createElement(K,{className:"vds-slider-track"}),c.createElement(L,{className:"vds-slider-track-fill vds-slider-track"}),c.createElement(J,{className:"vds-slider-thumb"}),c.createElement(N,{className:"vds-slider-preview",noClamp:!0},c.createElement(O,{className:"vds-slider-value"})))}function cC(){let[a,b]=c.useState(null),[d,e]=c.useState(0),f=(0,l.useMediaState)("currentSrc"),{thumbnails:g,sliderChaptersMinWidth:h,disableTimeSlider:i,seekStep:j,noScrubGesture:k}=bo(),n=bp("Seek"),o=(0,m.useSignal)(bm),p=c.useCallback(()=>{let b=a?.el;b&&e(b.clientWidth)},[a]);return bj(a?.el,p),c.createElement(X,{className:"vds-time-slider vds-slider","aria-label":n,disabled:i,noSwipeGesture:k,keyStep:j,ref:b},c.createElement(Z,{className:"vds-slider-chapters",disabled:d<h},(a,b)=>a.map(a=>c.createElement("div",{className:"vds-slider-chapter",key:a.startTime,ref:b},c.createElement(K,{className:"vds-slider-track"}),c.createElement(L,{className:"vds-slider-track-fill vds-slider-track"}),c.createElement(aa,{className:"vds-slider-progress vds-slider-track"})))),c.createElement(J,{className:"vds-slider-thumb"}),c.createElement(N,{className:"vds-slider-preview"},g?c.createElement(ac,{src:g,className:"vds-slider-thumbnail vds-thumbnail"},c.createElement(U,null)):o&&(0,l.isRemotionSrc)(f)?c.createElement(o,{className:"vds-slider-thumbnail vds-thumbnail"}):null,c.createElement(_,{className:"vds-slider-chapter-title"}),c.createElement(O,{className:"vds-slider-value"})))}function cD({slots:a}){return(0,l.useMediaState)("duration")?c.createElement("div",{className:"vds-time-group"},bu(a,"currentTime",c.createElement(au,{className:"vds-time",type:"current"})),bu(a,"timeDivider",c.createElement("div",{className:"vds-time-divider"},"/")),bu(a,"endTime",c.createElement(au,{className:"vds-time",type:"duration"}))):null}function cE({slots:a}){return(0,l.useMediaState)("live")?bu(a,"liveButton",c.createElement(bF,null)):c.createElement(cD,{slots:a})}function cF({slots:a}){let b=(0,l.useMediaState)("live"),d=(0,l.useMediaState)("duration");return b?bu(a,"liveButton",c.createElement(bF,null)):bu(a,"endTime",d?c.createElement(au,{className:"vds-time",type:"current",toggle:!0,remainder:!0}):null)}function cG(){let a=bs();return bk("audio"),c.createElement(c.Fragment,null,c.createElement(bv,null),c.createElement(bH,null),c.createElement(aC,{className:"vds-controls"},c.createElement(aE,{className:"vds-controls-group"},bu(a,"seekBackwardButton",c.createElement(bC,{backward:!0,tooltip:"top start"})),bu(a,"playButton",c.createElement(bx,{tooltip:"top center"})),bu(a,"seekForwardButton",c.createElement(bC,{tooltip:"top center"})),c.createElement(cI,null),bu(a,"timeSlider",c.createElement(cC,null)),c.createElement(cF,{slots:a}),c.createElement(cA,{orientation:"vertical",tooltip:"top",slots:a}),bu(a,"captionButton",c.createElement(bz,{tooltip:"top center"})),bu(a,"downloadButton",c.createElement(bG,null)),c.createElement(cH,{slots:a}))))}function cH({slots:a}){let{isSmallLayout:b,noModal:d}=bo(),e=d?"top end":b?null:"top end";return c.createElement(c.Fragment,null,bu(a,"chaptersMenu",c.createElement(bK,{tooltip:"top",placement:e,portalClass:"vds-audio-layout"})),bu(a,"settingsMenu",c.createElement(cz,{tooltip:"top end",placement:e,portalClass:"vds-audio-layout",slots:a})))}function cI(){let[a,b]=c.useState(null),d=o(),{translations:e}=bo(),[f,g]=c.useState(!1),h=a2(()=>{let{started:a,currentTime:b}=d.$state;return a()||b()>0}),i=(0,m.useSignal)(a2(()=>{let{title:a,ended:b}=d.$state;if(!a())return"";let c=b()?"Replay":h()?"Continue":"Play";return`${e?.[c]??c}: ${a()}`})),j=aW(),k=(0,m.useSignal)(h)?j:"",l=function(a){let[b,d]=c.useState(!1);return c.useEffect(()=>{if(!a)return;let b=new m.EventsController(a).add("transitionstart",()=>d(!0)).add("transitionend",()=>d(!1));return()=>b.abort()},[a]),b}(a);c.useEffect(()=>{l&&document.activeElement===document.body&&d.player.el?.focus({preventScroll:!0})},[]);let n=c.useCallback(()=>{let b=!!a&&!l&&a.clientWidth<a.children[0].clientWidth;a&&(0,m.toggleClass)(a,"vds-marquee",b),g(b)},[a,l]);return bj(a,n),i?c.createElement("span",{className:"vds-title",title:i,ref:b},c.createElement(cJ,{title:i,chapterTitle:k}),f&&!l?c.createElement(cJ,{title:i,chapterTitle:k}):null):c.createElement(bI,null)}function cJ({title:a,chapterTitle:b}){let d=bs();return c.createElement("span",{className:"vds-title-text"},bu(d,"title",a),bu(d,"chapterTitle",c.createElement("span",{className:"vds-chapter-title"},b)))}bX.displayName="DefaultMenuSection",bY.displayName="DefaultMenuButton",bZ.displayName="DefaultMenuItem",b$.displayName="DefaultMenuRadioGroup",b_.displayName="DefaultMenuSliderItem",b0.displayName="DefaultSliderParts",b1.displayName="DefaultSliderSteps",b2.displayName="DefaultFontMenu",b3.displayName="DefaultFontFamilyMenu",b4.displayName="DefaultFontSizeSlider",b5.displayName="DefaultTextColorInput",b6.displayName="DefaultTextOpacitySlider",b7.displayName="DefaultTextShadowMenu",b8.displayName="DefaultTextBgInput",b9.displayName="DefaultTextBgOpacitySlider",ca.displayName="DefaultDisplayBgInput",cb.displayName="DefaultDisplayBgOpacitySlider",cc.displayName="DefaultFontSetting",cd.displayName="DefaultFontRadioGroup",ce.displayName="DefaultResetMenuItem",cf.displayName="DefaultMenuCheckbox",cg.displayName="DefaultAccessibilityMenu",ch.displayName="DefaultAnnouncementsMenuCheckbox",ci.displayName="DefaultKeyboardAnimationsMenuCheckbox",cj.displayName="DefaultAudioMenu",ck.displayName="DefaultAudioBoostMenuSection",cn.displayName="DefaultAudioGainSlider",co.displayName="DefaultAudioTracksMenu",cp.displayName="DefaultCaptionMenu",cq.displayName="DefaultPlaybackMenu",cr.displayName="DefaultLoopMenuCheckbox",cs.displayName="DefaultAutoQualityMenuCheckbox",ct.displayName="DefaultQualityMenuSection",cu.displayName="DefaultQualitySlider",cy.displayName="DefaultSpeedSlider",cz.displayName="DefaultSettingsMenu",cA.displayName="DefaultVolumePopup",cB.displayName="DefaultVolumeSlider",cC.displayName="DefaultTimeSlider",cD.displayName="DefaultTimeGroup",cE.displayName="DefaultTimeInfo",cF.displayName="DefaultTimeInvert",br({type:"audio",smLayoutWhen:({width:a})=>a<576,renderLayout:()=>c.createElement(cG,null)}),cG.displayName="AudioLayout",cH.displayName="DefaultAudioMenus",cI.displayName="DefaultAudioTitle",cJ.displayName="AudioTitle";let cK=c.forwardRef(({icons:a,...b},d)=>{let[e,f]=c.useState(!1),[g,h]=c.useState(null),[i,j]=c.useState(0),k=(0,l.useMediaState)("lastKeyboardAction");c.useEffect(()=>{j(a=>a+1)},[k]);let n=c.useMemo(()=>{let a=k?.action;return a&&e?(0,m.camelToKebabCase)(a):null},[e,k]),o=c.useMemo(()=>`vds-kb-action${!e?" hidden":""}${b.className?` ${b.className}`:""}`,[e]),p=a2(cL),q=(0,m.useSignal)(p);return!function(a,b=[]){let d=(0,m.useReactScope)();c.useEffect(()=>(0,m.scoped)(()=>(0,m.effect)(a),d),[d,...b])}(()=>{let b=function(a){let{$state:b}=(0,m.useContext)(l.mediaContext);switch(b.lastKeyboardAction()?.action){case"togglePaused":return b.paused()?a.Pause:a.Play;case"toggleMuted":return b.muted()||0===b.volume()?a.Mute:b.volume()>=.5?a.VolumeUp:a.VolumeDown;case"toggleFullscreen":return b.fullscreen()?a.EnterFullscreen:a.ExitFullscreen;case"togglePictureInPicture":return b.pictureInPicture()?a.EnterPiP:a.ExitPiP;case"toggleCaptions":return b.hasCaptions()?b.textTrack()?a.CaptionsOn:a.CaptionsOff:null;case"volumeUp":return a.VolumeUp;case"volumeDown":return a.VolumeDown;case"seekForward":return a.SeekForward;case"seekBackward":return a.SeekBackward;default:return null}}(a);h(()=>b)},[a]),c.useEffect(()=>{f(!!k);let a=setTimeout(()=>f(!1),500);return()=>{f(!1),window.clearTimeout(a)}},[k]),g?c.createElement(l.Primitive.div,{...b,className:o,"data-action":n,ref:d},c.createElement("div",{className:"vds-kb-text-wrapper"},c.createElement("div",{className:"vds-kb-text"},q)),c.createElement("div",{className:"vds-kb-bezel",key:i},c.createElement("div",{className:"vds-kb-icon"},c.createElement(g,null)))):null});function cL(){let{$state:a}=(0,m.useContext)(l.mediaContext),b=a.lastKeyboardAction()?.action,c=a.audioGain()??1;switch(b){case"toggleMuted":return a.muted()?"0%":cM(a.volume(),c);case"volumeUp":case"volumeDown":return cM(a.volume(),c);default:return""}}function cM(a,b){return`${Math.round(a*b*100)}%`}function cN(){let a=(0,l.useMediaState)("started"),b=(0,l.useMediaState)("title");return aV("chapters")&&(a||!b)?c.createElement(aX,{className:"vds-chapter-title"}):c.createElement(aT,{className:"vds-chapter-title"})}cK.displayName="DefaultKeyboardDisplay",cN.displayName="DefaultTitle";let cO=br({type:"video",smLayoutWhen:({width:a,height:b})=>a<576||b<380,renderLayout:a=>c.createElement(cQ,{...a})});function cP(a){return c.createElement(cO,{...a})}function cQ({streamType:a,isLoadLayout:b,isSmallLayout:d}){return bk("video"),b?c.createElement(cX,null):"unknown"===a?c.createElement(cV,null):d?c.createElement(cS,null):c.createElement(cR,null)}function cR(){let{menuGroup:a}=bo(),b=bt(),d={...b,...b?.largeLayout};return c.createElement(c.Fragment,null,c.createElement(bv,null),c.createElement(cU,null),c.createElement(cY,null),bu(d,"bufferingIndicator",c.createElement(cV,null)),bu(d,"captions",c.createElement(bH,null)),c.createElement(aC,{className:"vds-controls"},c.createElement(aE,{className:"vds-controls-group"},bu(d,"topControlsGroupStart",null),c.createElement(bI,null),bu(d,"topControlsGroupCenter",null),c.createElement(bI,null),bu(d,"topControlsGroupEnd",null),"top"===a&&c.createElement(cW,{slots:d})),c.createElement(bI,null),c.createElement(aE,{className:"vds-controls-group"},bu(d,"centerControlsGroupStart",null),c.createElement(bI,null),bu(d,"centerControlsGroupCenter",null),c.createElement(bI,null),bu(d,"centerControlsGroupEnd",null)),c.createElement(bI,null),c.createElement(aE,{className:"vds-controls-group"},bu(d,"timeSlider",c.createElement(cC,null))),c.createElement(aE,{className:"vds-controls-group"},bu(d,"playButton",c.createElement(bx,{tooltip:"top start"})),c.createElement(cA,{orientation:"horizontal",tooltip:"top",slots:d}),c.createElement(cE,{slots:d}),bu(d,"chapterTitle",c.createElement(cN,null)),bu(d,"captionButton",c.createElement(bz,{tooltip:"top"})),"bottom"===a&&c.createElement(cW,{slots:d}),bu(d,"airPlayButton",c.createElement(bD,{tooltip:"top"})),bu(d,"googleCastButton",c.createElement(bE,{tooltip:"top"})),bu(d,"downloadButton",c.createElement(bG,null)),bu(d,"pipButton",c.createElement(bA,{tooltip:"top"})),bu(d,"fullscreenButton",c.createElement(bB,{tooltip:"top end"})))))}function cS(){let a=bt(),b={...a,...a?.smallLayout};return c.createElement(c.Fragment,null,c.createElement(bv,null),c.createElement(cU,null),c.createElement(cY,null),bu(b,"bufferingIndicator",c.createElement(cV,null)),bu(b,"captions",c.createElement(bH,null)),c.createElement(aC,{className:"vds-controls"},c.createElement(aE,{className:"vds-controls-group"},bu(b,"topControlsGroupStart",null),bu(b,"airPlayButton",c.createElement(bD,{tooltip:"top start"})),bu(b,"googleCastButton",c.createElement(bE,{tooltip:"top start"})),c.createElement(bI,null),bu(b,"topControlsGroupCenter",null),c.createElement(bI,null),bu(b,"captionButton",c.createElement(bz,{tooltip:"bottom"})),bu(b,"downloadButton",c.createElement(bG,null)),c.createElement(cW,{slots:b}),c.createElement(cA,{orientation:"vertical",tooltip:"bottom end",slots:b}),bu(b,"topControlsGroupEnd",null)),c.createElement(bI,null),c.createElement(aE,{className:"vds-controls-group",style:{pointerEvents:"none"}},bu(b,"centerControlsGroupStart",null),c.createElement(bI,null),bu(b,"centerControlsGroupCenter",null),bu(b,"playButton",c.createElement(bx,{tooltip:"top"})),c.createElement(bI,null),bu(b,"centerControlsGroupEnd",null)),c.createElement(bI,null),c.createElement(aE,{className:"vds-controls-group"},c.createElement(cE,{slots:b}),bu(b,"chapterTitle",c.createElement(cN,null)),bu(b,"fullscreenButton",c.createElement(bB,{tooltip:"top end"}))),c.createElement(aE,{className:"vds-controls-group"},bu(b,"timeSlider",c.createElement(cC,null)))),bu(b,"startDuration",c.createElement(cT,null)))}function cT(){return 0===(0,l.useMediaState)("duration")?null:c.createElement("div",{className:"vds-start-duration"},c.createElement(au,{className:"vds-time",type:"duration"}))}function cU(){let{noGestures:a}=bo();return a?null:c.createElement("div",{className:"vds-gestures"},c.createElement(as,{className:"vds-gesture",event:"pointerup",action:"toggle:paused"}),c.createElement(as,{className:"vds-gesture",event:"pointerup",action:"toggle:controls"}),c.createElement(as,{className:"vds-gesture",event:"dblpointerup",action:"toggle:fullscreen"}),c.createElement(as,{className:"vds-gesture",event:"dblpointerup",action:"seek:-10"}),c.createElement(as,{className:"vds-gesture",event:"dblpointerup",action:"seek:10"}))}function cV(){return c.createElement("div",{className:"vds-buffering-indicator"},c.createElement(a$,{className:"vds-buffering-spinner"},c.createElement(a_,{className:"vds-buffering-track"}),c.createElement(a0,{className:"vds-buffering-track-fill"})))}function cW({slots:a}){let{isSmallLayout:b,noModal:d,menuGroup:e}=bo(),f="top"===e||b?"bottom":"top",g=`${f} end`,h=d?`${f} end`:b?null:`${f} end`;return c.createElement(c.Fragment,null,bu(a,"chaptersMenu",c.createElement(bK,{tooltip:g,placement:h,portalClass:"vds-video-layout"})),bu(a,"settingsMenu",c.createElement(cz,{tooltip:g,placement:h,portalClass:"vds-video-layout",slots:a})))}function cX(){let{isSmallLayout:a}=bo(),b=bt(),d={...b,...b?.[a?"smallLayout":"largeLayout"]};return c.createElement("div",{className:"vds-load-container"},bu(d,"bufferingIndicator",c.createElement(cV,null)),bu(d,"loadButton",c.createElement(bx,{tooltip:"top"})))}function cY(){let{noKeyboardAnimations:a,icons:b,userPrefersKeyboardAnimations:d}=bo(),e=(0,m.useSignal)(d);return!a&&e&&b.KeyboardDisplay?c.createElement(cK,{icons:b.KeyboardDisplay}):null}function cZ(a){function b(b){return c.createElement(a3,{paths:a,...b})}return b.displayName="DefaultLayoutIcon",b}cP.displayName="DefaultVideoLayout",cQ.displayName="VideoLayout",cR.displayName="DefaultVideoLargeLayout",cS.displayName="DefaultVideoSmallLayout",cT.displayName="DefaultVideoStartDuration",cU.displayName="DefaultVideoGestures",cV.displayName="DefaultBufferingIndicator",cW.displayName="DefaultVideoMenus",cX.displayName="DefaultVideoLoadLayout",cY.displayName="DefaultVideoKeyboardDisplay";let c$={AirPlayButton:{Default:cZ(m.Icon$5)},GoogleCastButton:{Default:cZ(m.Icon$24)},PlayButton:{Play:cZ(m.Icon$62),Pause:cZ(m.Icon$59),Replay:cZ(m.Icon$74)},MuteButton:{Mute:cZ(m.Icon$54),VolumeLow:cZ(m.Icon$105),VolumeHigh:cZ(m.Icon$104)},CaptionButton:{On:cZ(m.Icon$26),Off:cZ(m.Icon$27)},PIPButton:{Enter:cZ(m.Icon$61),Exit:cZ(m.Icon$60)},FullscreenButton:{Enter:cZ(m.Icon$40),Exit:cZ(m.Icon$39)},SeekButton:{Backward:cZ(m.Icon$77),Forward:cZ(m.Icon$81)},DownloadButton:{Default:cZ(m.Icon$31)},Menu:{Accessibility:cZ(m.Icon$0),ArrowLeft:cZ(m.Icon$11),ArrowRight:cZ(m.Icon$22),Audio:cZ(m.Icon$53),Chapters:cZ(m.Icon$16),Captions:cZ(m.Icon$27),Playback:cZ(m.Icon$63),Settings:cZ(m.Icon$88),AudioBoostUp:cZ(m.Icon$104),AudioBoostDown:cZ(m.Icon$105),SpeedUp:cZ(m.Icon$35),SpeedDown:cZ(m.Icon$34),QualityUp:cZ(m.Icon$13),QualityDown:cZ(m.Icon$8),FontSizeUp:cZ(m.Icon$13),FontSizeDown:cZ(m.Icon$8),OpacityUp:cZ(m.Icon$33),OpacityDown:cZ(m.Icon$56),RadioCheck:cZ(m.Icon$19)},KeyboardDisplay:{Play:cZ(m.Icon$62),Pause:cZ(m.Icon$59),Mute:cZ(m.Icon$54),VolumeUp:cZ(m.Icon$104),VolumeDown:cZ(m.Icon$105),EnterFullscreen:cZ(m.Icon$40),ExitFullscreen:cZ(m.Icon$39),EnterPiP:cZ(m.Icon$61),ExitPiP:cZ(m.Icon$60),CaptionsOn:cZ(m.Icon$26),CaptionsOff:cZ(m.Icon$27),SeekForward:cZ(m.Icon$35),SeekBackward:cZ(m.Icon$34)}};var c_=a.i(20226),c0=a.i(62435);let c1=(0,c_.create)()((0,c0.persist)(a=>({isPlaying:!1,volume:1,muted:!1,currentTime:0,duration:0,playbackRate:1,quality:"auto",isFullscreen:!1,showControls:!0,setPlaying:b=>a({isPlaying:b}),setVolume:b=>a({volume:b}),setMuted:b=>a({muted:b}),setCurrentTime:b=>a({currentTime:b}),setDuration:b=>a({duration:b}),setPlaybackRate:b=>a({playbackRate:b}),setQuality:b=>a({quality:b}),setFullscreen:b=>a({isFullscreen:b}),setShowControls:b=>a({showControls:b}),reset:()=>a({isPlaying:!1,currentTime:0,duration:0,isFullscreen:!1,showControls:!0})}),{name:"novastream-player-storage",partialize:a=>({volume:a.volume,muted:a.muted,quality:a.quality,playbackRate:a.playbackRate})}));function c2({src:a,poster:d,title:e,subtitles:f,onEnded:g}){let h=(0,c.useRef)(null),{setPlaying:i,setDuration:j,setCurrentTime:k,setVolume:l,setMuted:m,setFullscreen:n}=c1();return(0,c.useEffect)(()=>{let a=h.current;if(a)return a.subscribe(a=>{i(a.playing),j(a.duration),k(a.currentTime),l(a.volume),m(a.muted),n(a.fullscreen),a.ended&&g?.()})},[a,g,i,j,k,l,m,n]),(0,b.jsx)("div",{className:"relative w-full aspect-video bg-black rounded-xl overflow-hidden ring-1 ring-white/10 shadow-2xl",children:(0,b.jsxs)(ba,{ref:h,title:e,src:a,className:"w-full h-full",aspectRatio:"16/9",load:"eager",poster:d,children:[(0,b.jsxs)(bc,{children:[(0,b.jsx)(bh,{className:"vds-poster"}),f?.map((a,c)=>(0,b.jsx)(be,{...a,kind:"subtitles"},c))]}),(0,b.jsx)(cP,{icons:c$})]})})}let c3=(0,g.default)("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]),c4=(0,g.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),c5=(0,g.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var c6=a.i(13749),c7=a.i(50522),c8=a.i(12439),c9=a.i(52920),da=a.i(25015);let db=(0,g.default)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var dc=a.i(21161);let dd=(0,g.default)("PictureInPicture",[["path",{d:"M8 4.5v5H3m-1-6 6 6m13 0v-3c0-1.16-.84-2-2-2h-7m-9 9v2c0 1.05.95 2 2 2h3",key:"bcd8fb"}],["rect",{width:"10",height:"7",x:"12",y:"13.5",ry:"2",key:"136fx3"}]]);var de=a.i(1027);let df=a=>{if(!a)return"0:00";let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c<10?"0":""}${c}`};function dg({show:a,title:c,subTitle:f,backUrl:g,currentTime:h,duration:i,isPaused:j,volume:k,isMuted:l,isSaved:m,downloadUrl:n,isSeeking:o,seekValue:p,type:q,isTorrent:r,season:s,episode:t,seasons:u,onTogglePlay:v,onSeekChange:w,onSeekCommit:x,onVolumeChange:y,onToggleMute:z,onToggleLibrary:A,onDownload:B,onToggleSettings:C,onTogglePiP:D,onNext:E,onPrev:F,onSeasonChange:G,onEpisodeChange:H}){let I,J=(0,d.useRouter)(),K=parseInt(s),L=parseInt(t),M=Number.isFinite(i)&&i>0?i:0,N=Number.isFinite(h)&&h>=0?h:0,O=o?p:N;return(0,b.jsxs)("div",{className:`absolute inset-0 z-[60] flex flex-col justify-between transition-opacity duration-300 pointer-events-none ${a?"opacity-100":"opacity-0"}`,children:[(0,b.jsxs)("div",{className:`pointer-events-auto bg-gradient-to-b from-black via-black/90 to-transparent p-6 pb-20 flex justify-between items-start transition-transform duration-300 ${a?"translate-y-0":"-translate-y-full"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>{g?J.push(g):J.push("/")},"aria-label":"Go back",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 text-white backdrop-blur-md",children:(0,b.jsx)(e.ArrowLeft,{size:24,"aria-hidden":"true"})}),(0,b.jsxs)("div",{className:"flex flex-col text-shadow",children:[(0,b.jsx)("span",{className:"text-white font-bold text-lg",children:c}),f&&(0,b.jsx)("span",{className:"text-white/60 text-xs font-medium",children:f})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[("torrent"===q||r)&&(0,b.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-600/30 backdrop-blur-sm rounded-full border border-purple-400/30 shadow-[0_0_15px_rgba(147,51,234,0.3)] animate-pulse",children:(0,b.jsx)(de.Zap,{size:20,className:"text-purple-300 drop-shadow-[0_0_5px_rgba(147,51,234,0.8)]",fill:"currentColor"})}),(0,b.jsx)("button",{onClick:A,"aria-label":m?"Remove from Library":"Add to Library",className:`p-2.5 rounded-full backdrop-blur-md transition-all ${m?"bg-purple-600/80 text-white":"bg-white/10 text-white/60 hover:text-white"}`,children:m?(0,b.jsx)(c3,{size:20,"aria-hidden":"true"}):(0,b.jsx)(c4,{size:20,"aria-hidden":"true"})}),(0,b.jsx)("button",{disabled:!n,onClick:B,"aria-label":"Download video",className:`p-2.5 rounded-full backdrop-blur-md transition-all ${n?"bg-white/10 text-white/60 hover:text-white hover:bg-white/20":"bg-white/5 text-white/20 cursor-not-allowed"}`,title:n?"Download":"Waiting for stream...",children:(0,b.jsx)(c5,{size:20,"aria-hidden":"true"})})]})]}),(0,b.jsxs)("div",{className:`pointer-events-auto bg-gradient-to-t from-black via-black/95 to-transparent pt-40 pb-8 px-6 transition-transform duration-300 ${a?"translate-y-0":"translate-y-full"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4 group/progress",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-white/80 w-10 text-right",children:df(O)}),(0,b.jsx)("input",{type:"range",min:0,max:M||100,value:Math.min(O,M||100),step:.1,onChange:w,onMouseUp:x,onTouchEnd:x,"aria-label":"Seek slider",className:"flex-1 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-purple-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-125 transition-all"}),(0,b.jsx)("span",{className:"text-xs font-medium text-white/60 w-10",children:df(M)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("button",{onClick:v,"aria-label":j?"Play":"Pause",className:"p-2 hover:bg-white/10 rounded-full text-white transition-colors",children:j?(0,b.jsx)(da.Play,{size:32,fill:"currentColor","aria-hidden":"true"}):(0,b.jsx)(db,{size:32,fill:"currentColor","aria-hidden":"true"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 group/vol",children:[(0,b.jsx)("button",{onClick:z,"aria-label":l?"Unmute":"Mute",className:"text-white/80 hover:text-white",children:0===k?(0,b.jsx)(c9.VolumeX,{size:24,"aria-hidden":"true"}):(0,b.jsx)(c8.Volume2,{size:24,"aria-hidden":"true"})}),(0,b.jsx)("div",{className:"w-0 overflow-hidden group-hover/vol:w-24 transition-all duration-300",children:(0,b.jsx)("input",{type:"range",min:0,max:1,step:.05,value:l?0:k,onChange:a=>{let b=parseFloat(a.target.value);y(b),l&&b>0&&z()},className:"w-20 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer ml-2 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2 [&::-webkit-slider-thumb]:h-2 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"})})]}),"tv"===q&&u&&(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:F,"aria-label":"Previous episode",className:"p-1.5 hover:bg-white/10 rounded-full text-white/70 hover:text-white transition-colors",disabled:1===K&&1===L,children:(0,b.jsx)(c6.ChevronLeft,{size:20,"aria-hidden":"true"})}),(0,b.jsxs)("div",{className:"flex items-center gap-0 bg-white/10 rounded-md border border-white/5 overflow-hidden",children:[(0,b.jsx)("select",{className:"bg-transparent text-white font-bold text-xs outline-none cursor-pointer hover:bg-white/5 px-2 py-1.5 appearance-none text-center min-w-[3rem]",value:K,"aria-label":"Select Season",onChange:a=>G&&G(Number(a.target.value)),children:u.filter(a=>a.season_number>0).map(a=>(0,b.jsxs)("option",{value:a.season_number,className:"bg-zinc-900 text-left",children:["S",a.season_number]},a.id))}),(0,b.jsx)("div",{className:"w-[1px] h-4 bg-white/10"}),(0,b.jsx)("select",{className:"bg-transparent text-white font-bold text-xs outline-none cursor-pointer hover:bg-white/5 px-2 py-1.5 appearance-none text-center min-w-[3rem]",value:L,"aria-label":"Select Episode",onChange:a=>H&&H(a.target.value),children:(I=u.find(a=>a.season_number===K),Array.from({length:I?.episode_count||1},(a,b)=>b+1).map(a=>(0,b.jsxs)("option",{value:a,className:"bg-zinc-900 text-left",children:["E",a]},a)))})]}),(0,b.jsx)("button",{onClick:E,"aria-label":"Next episode",className:"p-1.5 hover:bg-white/10 rounded-full text-white/70 hover:text-white transition-colors",children:(0,b.jsx)(c7.ChevronRight,{size:20,"aria-hidden":"true"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:C,"aria-label":"Open settings",className:"p-2 rounded-full transition-colors text-white/70 hover:text-white",children:(0,b.jsx)(dc.Settings,{size:20,"aria-hidden":"true"})}),(0,b.jsx)("button",{onClick:D,"aria-label":"Toggle Picture in Picture",className:"p-2 rounded-full transition-colors text-white/70 hover:text-white",title:"Picture in Picture",children:(0,b.jsx)(dd,{size:20,"aria-hidden":"true"})})]})]})]})]})}var dh=a.i(33508),di=a.i(33441);function dj({show:a,onClose:d,tracks:e=[],audioTracks:f=[],qualities:g=[],playbackSpeed:h=1,onTrackChange:i,onAudioTrackChange:j,onQualityChange:k,onSpeedChange:l}){let[m,n]=(0,c.useState)("main");if(!a)return"main"!==m&&setTimeout(()=>n("main"),300),null;let o=[.25,.5,.75,1,1.25,1.5,2],p=(a,c,d,e,f)=>(0,b.jsxs)("div",{className:"flex flex-col gap-1 min-w-[250px] max-h-[60vh] overflow-y-auto",children:[(0,b.jsxs)("h2",{className:"text-white text-lg font-bold mb-2 flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>n("main"),children:(0,b.jsx)(dh.X,{className:"w-5 h-5 rotate-45"})}),a]}),c.map((a,c)=>{let g=f(a,c);return(0,b.jsxs)("button",{onClick:()=>{d(c),n("main")},className:`flex items-center justify-between p-3 rounded text-sm transition-colors ${g?"bg-white/20 text-white font-medium":"hover:bg-white/10 text-zinc-300"}`,children:[(0,b.jsx)("span",{children:e(a)}),g&&(0,b.jsx)(di.Check,{className:"w-4 h-4"})]},c)})]});return(0,b.jsx)("div",{className:"absolute inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center",onClick:a=>{a.target===a.currentTarget&&d()},children:(0,b.jsxs)("div",{className:"bg-zinc-900 border border-white/10 p-4 rounded-xl shadow-2xl animate-in fade-in zoom-in duration-200",children:["main"===m&&(0,b.jsxs)("div",{className:"flex flex-col gap-2 min-w-[250px]",children:[(0,b.jsxs)("h2",{className:"text-white text-lg font-bold mb-2 flex justify-between items-center",children:["Settings",(0,b.jsx)("button",{onClick:d,children:(0,b.jsx)(dh.X,{className:"w-5 h-5 text-zinc-400 hover:text-white"})})]}),g.length>0&&(0,b.jsxs)("button",{onClick:()=>n("quality"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,b.jsx)("span",{children:"Quality"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,b.jsx)("span",{children:g.find(a=>a.active)?.label||"Auto"}),(0,b.jsx)(c7.ChevronRight,{className:"w-4 h-4"})]})]}),f.length>0&&(0,b.jsxs)("button",{onClick:()=>n("audio"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,b.jsx)("span",{children:"Audio"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,b.jsx)("span",{children:f.find(a=>a.active)?.label||"Default"}),(0,b.jsx)(c7.ChevronRight,{className:"w-4 h-4"})]})]}),e.length>0&&(0,b.jsxs)("button",{onClick:()=>n("subtitle"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,b.jsx)("span",{children:"Subtitles"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,b.jsx)("span",{children:e.find(a=>a.active)?.label||"Off"}),(0,b.jsx)(c7.ChevronRight,{className:"w-4 h-4"})]})]}),(0,b.jsxs)("button",{onClick:()=>n("speed"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,b.jsx)("span",{children:"Speed"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,b.jsxs)("span",{children:[h,"x"]}),(0,b.jsx)(c7.ChevronRight,{className:"w-4 h-4"})]})]})]}),"quality"===m&&p("Quality",g,k,a=>a.label,a=>a.active),"audio"===m&&p("Audio",f,j,a=>a.label,a=>a.active),"subtitle"===m&&p("Subtitles",[{label:"Off",active:!e.some(a=>a.active)},...e],a=>i(a-1),a=>a.label,a=>a.active),"speed"===m&&p("Playback Speed",o,a=>l(o[a]),a=>a+"x",a=>a===h)]})})}let dk=(0,c.forwardRef)(({src:a,title:d,initialVolume:e=1,subtitleStyle:g,onEnded:h,onStateUpdate:i},j)=>{let k=(0,c.useRef)(null),[l,m]=(0,c.useState)(!0),n=(0,c.useRef)(!1),o=(0,c.useRef)({onStateUpdate:i,onEnded:h,subtitleStyle:g}),[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)({currentTime:0,duration:0,volume:e,isMuted:!1,isPaused:!1,isSeeking:!1,seekValue:0,tracks:[],audioTracks:[],qualities:[]}),w=(a,b=!1)=>{if(n.current&&k.current)try{k.current.executeJavaScript(a,b).catch(a=>{a.message&&a.message.includes("GUEST_VIEW_MANAGER_CALL")||console.warn("[AG] Webview Exec Error:",a.message)})}catch(a){}};return(0,c.useImperativeHandle)(j,()=>({seek:a=>w(`window.AG_CMD_SEEK && window.AG_CMD_SEEK(${a})`),setVolume:a=>w(`window.AG_CMD_VOL && window.AG_CMD_VOL(${a})`),togglePlay:()=>w("window.AG_CMD_TOGGLE && window.AG_CMD_TOGGLE()"),setTrack:a=>w(`window.AG_CMD_TRACK && window.AG_CMD_TRACK(${a})`),setAudioTrack:a=>w(`window.AG_CMD_AUDIO_TRACK && window.AG_CMD_AUDIO_TRACK(${a})`),setQuality:a=>w(`window.AG_CMD_QUALITY && window.AG_CMD_QUALITY(${a})`),setSubtitleStyle:a=>w(`window.AG_CMD_SUB_STYLE && window.AG_CMD_SUB_STYLE(${JSON.stringify(a)})`),setPlaybackSpeed:a=>w(`window.AG_CMD_SPEED && window.AG_CMD_SPEED(${a})`),togglePiP:()=>w("window.AG_CMD_PIP && window.AG_CMD_PIP()",!0)})),(0,c.useEffect)(()=>{o.current={onStateUpdate:i,onEnded:h,subtitleStyle:g},n.current&&g&&w(`window.AG_CMD_SUB_STYLE && window.AG_CMD_SUB_STYLE(${JSON.stringify(g)})`)},[i,h,g]),(0,c.useEffect)(()=>{let a=k.current;if(!a)return;let b=()=>{if(n.current)return;m(!1);let b=`
                (function() {
                    const AG_VERSION = 6; 
                    console.log(" AG Script Injected & Started (v" + AG_VERSION + ")");
                    const START_VOLUME = ${e};
                    
                    if (window.AG_VERSION === AG_VERSION) {
                         return;
                    }
                    window.AG_INSTALLED = true;
                    window.AG_VERSION = AG_VERSION;
                    
                    if (window.AG_INTERVAL_ID) clearInterval(window.AG_INTERVAL_ID);

                    // ... [Existing HELPER functions: getFiber, scanFiber, findVideo, sanitizeAudio] ...
                    // Since specific helper code is redundant to repeat here fully if unchanged, 
                    // I will assume the previous helpers are preserved or re-inlined.
                    // IMPORTANT: For the tool to work, I must provide the FULL script 
                    // or carefully replace chunks. Since I am replacing the whole component logic,
                    // I will re-inline the critical parts but compacted for brevity where safe.
                    
                    const getFiber = (n) => {
                        if (!n) return null;
                        const k = Object.keys(n).find(k => k.startsWith('__reactFiber$'));
                        return k ? n[k] : null;
                    };
                    const scanFiber = (f) => {
                        if(!f) return null;
                        let c = f;
                        let d = 0;
                        while(c && d < 25) {
                            const p = c.memoizedProps || c.pendingProps;
                            if (p && (p.sources || p.tracks || p.qualityLevels || p.audioTracks || p.playlist || (p.config && (p.config.sources || p.config.tracks)))) return p.config || p;
                            c = c.return; d++;
                        }
                        return null;
                    };
                    const findVideo = (root, depth = 0) => {
                        if (!root) return null;
                        let v = root.querySelector('video');
                        if (v) return v;
                        const w = root.createTreeWalker ? root.createTreeWalker((root.body || root), NodeFilter.SHOW_ELEMENT, null, false) : null;
                        if (w) { let n; while(n = w.nextNode()) if(n.shadowRoot) { v = findVideo(n.shadowRoot, depth + 1); if(v) return v; } }
                        const fs = root.querySelectorAll('iframe');
                        for(let f of fs) { try { let d = f.contentDocument || f.contentWindow?.document; if(d) { v = findVideo(d, depth + 1); if(v) return v; } } catch(e){} }
                        return null;
                    };

                     // --- ENGINE ---
                    window.AG_VIDEO = null;
                    const updateState = () => {
                        if (!window.AG_VIDEO || !window.AG_VIDEO.isConnected) {
                            window.AG_VIDEO = findVideo(document);
                            if (window.AG_VIDEO) {
                                const v = window.AG_VIDEO;
                                if (!v.hasAGListeners) {
                                    v.hasAGListeners = true;
                                    console.log(' Video Attached');
                                    
                                    // AUTOPLAY FIX: Force Unmute
                                    const forceUnmute = () => {
                                        if (START_VOLUME > 0) {
                                            v.muted = false;
                                            v.volume = START_VOLUME;
                                        }
                                    };
                                    
                                    // Initial attempt
                                    forceUnmute();
                                    v.setAttribute('autoplay', 'true');
                                    
                                    // Persistent unmute for the first 5 seconds to fight player resets
                                    let attempts = 0;
                                    const unmuteInterval = setInterval(() => {
                                        forceUnmute();
                                        if (++attempts > 20) clearInterval(unmuteInterval); // Stop after 5s (250ms * 20)
                                    }, 250);

                                    const attemptPlay = () => {
                                        v.play().then(() => {
                                            console.log(" Playback started");
                                            forceUnmute(); // Ensure unmuted on success
                                        }).catch(e => {
                                            console.log(" Playback failed: " + e.message);
                                            // Recovery: mute only if strictly necessary, then user interaction will restore
                                            v.muted = true;
                                            v.play().then(() => {
                                                console.log(" Playback started (muted fallback)");
                                                // Try to unmute one last time just in case
                                                setTimeout(forceUnmute, 500);
                                            }).catch(() => {});
                                        });
                                    };
                                    
                                    if (v.readyState > 2) attemptPlay();
                                    else v.addEventListener('canplay', attemptPlay, { once: true });
                                }
                            }
                        }
                        // Retry finding video periodically
                        if (window.AG_VIDEO && !window.AG_VIDEO.isConnected) window.AG_VIDEO = null;
                        
                        const v = window.AG_VIDEO;
                        if (!v) return;

                        const s = {
                            currentTime: v.currentTime,
                            duration: v.duration,
                            volume: v.muted ? 0 : v.volume,
                            isPaused: v.paused,
                            tracks: [], audioTracks: [], qualities: []
                        };
                        
                        // Sync tracks (simplified from previous logic)
                         if(v.textTracks) for(let i=0; i<v.textTracks.length; i++) {
                            const t = v.textTracks[i];
                            s.tracks.push({ label: t.label || t.language || 'Track ' + (i+1), language: t.language, active: t.mode === 'showing' });
                        }
                        // ... (Other track logic omitted for brevity, assumed unnecessary for base playback)

                        console.log('ANTIGRAVITY_UPDATE:' + JSON.stringify(s));
                    };

                    window.AG_INTERVAL_ID = setInterval(updateState, 1000);

                    // --- COMMANDS ---
                    window.AG_CMD_SEEK = (t) => { if(window.AG_VIDEO) window.AG_VIDEO.currentTime = t; };
                    window.AG_CMD_VOL = (v) => { if(window.AG_VIDEO) { window.AG_VIDEO.volume = v; window.AG_VIDEO.muted = v === 0; } };
                    window.AG_CMD_TOGGLE = () => { if(window.AG_VIDEO) { if(window.AG_VIDEO.paused) window.AG_VIDEO.play(); else window.AG_VIDEO.pause(); } };
                    window.AG_CMD_PIP = () => { if(window.AG_VIDEO) { if (document.pictureInPictureElement) document.exitPictureInPicture(); else window.AG_VIDEO.requestPictureInPicture(); } };
                    
                    // --- BLOCKING ---
                    window.open = function() { return null; };
                    window.onbeforeunload = null; 
                    
                    const blockCss = \`
                        .ad, .ads, .popup, [class*="ad-"], [id*="ad-"], iframe[src*="ads"] { display: none !important; }
                        video::-webkit-media-controls { display: none !important; }
                    \`;
                    const styleEl = document.createElement('style');
                    styleEl.textContent = blockCss;
                    document.head.appendChild(styleEl);

                    // Kill popups
                    setInterval(() => {
                        const selectors = ['[class*="popup"]', '[id*="popup"]', 'iframe[src*="ads"]'];
                        selectors.forEach(sel => {
                            try {
                                document.querySelectorAll(sel).forEach(el => {
                                    if (el && el.parentNode && el.tagName !== 'VIDEO') {
                                        try { el.remove(); } catch(e){}
                                    }
                                });
                            } catch(e){}
                        });
                    }, 500);
                })();
            `;a.executeJavaScript(b),n.current=!0,g&&w(`window.AG_CMD_SUB_STYLE && window.AG_CMD_SUB_STYLE(${JSON.stringify(g)})`)},c=a=>{let b=a.message;if(b.startsWith("ANTIGRAVITY_UPDATE:"))try{let a=JSON.parse(b.substring(19));if(!a)return;v(b=>({...b,currentTime:a.currentTime||0,duration:a.duration||0,isPaused:a.isPaused,volume:a.volume,isMuted:0===a.volume,tracks:a.tracks||[],audioTracks:a.audioTracks||[],qualities:a.qualities||[]})),o.current.onStateUpdate?.(a)}catch(a){}else"ANTIGRAVITY_ENDED"===b&&o.current.onEnded?.()},d=()=>b(),f=()=>b();return a.addEventListener("did-finish-load",f),a.addEventListener("dom-ready",d),a.addEventListener("console-message",c),a.addEventListener("new-window",a=>{console.log("[Webview] Blocked popup:",a.url),a.preventDefault()}),()=>{n.current=!1,a.removeEventListener("did-finish-load",f),a.removeEventListener("dom-ready",d),a.removeEventListener("console-message",c)}},[a,e]),(0,b.jsxs)("div",{className:"relative w-full h-full bg-black flex items-center justify-center overflow-hidden group",onMouseMove:()=>{q(!0),r.current&&clearTimeout(r.current),u.isPaused||(r.current=setTimeout(()=>q(!1),3e3))},onMouseLeave:()=>q(!1),children:[l&&(0,b.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,b.jsx)(f.Loader2,{className:"w-10 h-10 text-white animate-spin"})}),(0,b.jsx)("webview",{ref:k,src:a,className:"w-full h-full border-0",style:{width:"100vw",height:"100vh",background:"#000"},allowpopups:"false",disablewebsecurity:"true",webpreferences:"contextIsolation=no, nodeIntegration=no, webSecurity=no, autoplayPolicy=no-user-gesture-required",useragent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}),(0,b.jsx)(dg,{show:p||u.isPaused,title:d||"",currentTime:u.currentTime,duration:u.duration,isPaused:u.isPaused,volume:u.volume,isMuted:u.isMuted,isSaved:!1,downloadUrl:null,isSeeking:u.isSeeking,seekValue:u.seekValue,type:"movie",season:"1",episode:"1",onTogglePlay:()=>{w("window.AG_CMD_TOGGLE && window.AG_CMD_TOGGLE()"),v(a=>({...a,isPaused:!a.isPaused}))},onSeekChange:a=>{let b=parseFloat(a.target.value);v(a=>({...a,isSeeking:!0,seekValue:b}))},onSeekCommit:()=>{w(`window.AG_CMD_SEEK && window.AG_CMD_SEEK(${u.seekValue})`),setTimeout(()=>v(a=>({...a,isSeeking:!1})),500)},onVolumeChange:a=>{w(`window.AG_CMD_VOL && window.AG_CMD_VOL(${a})`),v(b=>({...b,volume:a,isMuted:0===a}))},onToggleMute:()=>{let a=!u.isMuted,b=a?0:u.volume||1;w(`window.AG_CMD_VOL && window.AG_CMD_VOL(${b})`),v(c=>({...c,isMuted:a,volume:b}))},onToggleLibrary:()=>{},onDownload:()=>{},onToggleSettings:()=>t(!s),onTogglePiP:()=>w("window.AG_CMD_PIP && window.AG_CMD_PIP()",!0)}),(0,b.jsx)(dj,{show:s,onClose:()=>t(!1),tracks:u.tracks,audioTracks:u.audioTracks,qualities:u.qualities,playbackSpeed:1,onTrackChange:a=>w(`window.AG_CMD_TRACK && window.AG_CMD_TRACK(${a})`),onAudioTrackChange:a=>w(`window.AG_CMD_AUDIO_TRACK && window.AG_CMD_AUDIO_TRACK(${a})`),onQualityChange:a=>w(`window.AG_CMD_QUALITY && window.AG_CMD_QUALITY(${a})`),onSpeedChange:a=>w(`window.AG_CMD_SPEED && window.AG_CMD_SPEED(${a})`)})]})});dk.displayName="WebviewPlayer";var dl=a.i(21577);function dm({params:a}){let g=(0,d.useRouter)(),j=(0,d.useSearchParams)().get("type")||"movie",{id:l}=c.use(a),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let a=!0;async function b(){p(!0),v(null);try{let b=await i.contentApi.getDetails(l,j);if(!a)return;if(!b){v("Content not found"),p(!1);return}n(b);let c="movie"===j?"movie":"tv"===j?"series":"anime",d=await k.getAllSources({id:b.id,title:b.title,type:c});if(!a)return;let e=null;console.log("[WatchPage] Sources Map keys:",Array.from(d.keys()));let f=d.get("vidlink"),g=d.get("torrent");console.log("[WatchPage] Vidlink sources:",f),console.log("[WatchPage] Torrent sources:",g),f&&f.length>0?e=f[0]:g&&g.length>0?e=g[0]:(console.warn("[WatchPage] No sources found in map."),v("No playable sources found")),e&&(r(e.url),t("embed"===e.type))}catch(b){console.error("Watch page error:",b),a&&v(b.message||"Failed to load content")}finally{a&&p(!1)}}return l&&b(),()=>{a=!1}},[l,j]),o)?(0,b.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-black",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(f.Loader2,{className:"h-10 w-10 animate-spin text-red-600"}),(0,b.jsx)("p",{className:"text-zinc-400 font-medium animate-pulse",children:"Locating stream..."})]})}):u||!m?(0,b.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-black",children:(0,b.jsxs)("div",{className:"text-center space-y-4 max-w-md px-6",children:[(0,b.jsx)(h,{className:"h-12 w-12 text-red-500 mx-auto"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Playback Error"}),(0,b.jsx)("p",{className:"text-zinc-400",children:u||"Unknown error occurred"}),(0,b.jsxs)(dl.Button,{onClick:()=>g.back(),variant:"secondary",children:[(0,b.jsx)(e.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}):(0,b.jsxs)("div",{className:"relative h-screen w-full bg-black overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:`absolute top-0 left-0 w-full z-20 p-6 bg-gradient-to-b from-black/80 to-transparent flex items-center justify-between pointer-events-none transition-opacity duration-300 ${s?"hover:opacity-100 opacity-0":"opacity-100"}`,children:[(0,b.jsxs)(dl.Button,{variant:"ghost",className:"pointer-events-auto hover:bg-white/10 text-white",onClick:()=>g.back(),children:[(0,b.jsx)(e.ArrowLeft,{className:"mr-2 h-5 w-5"}),"Back"]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("h1",{className:"text-lg font-bold text-white drop-shadow-md",children:m.title}),"tv"===j&&(0,b.jsx)("p",{className:"text-sm text-zinc-300",children:"Season 1  Episode 1"})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex items-center justify-center bg-black",children:[q?s?(0,b.jsx)(dk,{src:q,title:m.title,onStateUpdate:a=>{console.log("[WatchPage] Webview State Update:",a)}}):(0,b.jsx)("div",{className:"w-full h-full max-w-[1920px]",children:(0,b.jsx)(c2,{src:q,poster:m.backdrop||m.poster,title:m.title,onEnded:()=>{console.log("Video ended")}})}):(0,b.jsx)("div",{className:"text-zinc-500",children:"Source URL missing"}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-4 z-50 p-2 bg-black/80 text-xs text-green-400 font-mono rounded pointer-events-none select-text",children:[(0,b.jsxs)("p",{children:["Status: ",o?"Loading":"Ready"]}),(0,b.jsxs)("p",{children:["Type: ",j]}),(0,b.jsxs)("p",{children:["Embed Mode: ",s?"YES":"NO"]}),(0,b.jsxs)("p",{children:["Source: ",q||"None"]})]})]})]})}a.s(["default",()=>dm],52770)}];

//# sourceMappingURL=src_app_watch_%5Bid%5D_page_tsx_b269d996._.js.map