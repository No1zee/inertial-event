module.exports=[37725,a=>{"use strict";let b=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,c=new Map,d=new Map;function e(a){let c=a.match(b);return{videoId:c?.[1],hash:c?.[2]}}async function f(a,b,e){if(c.has(a))return c.get(a);if(d.has(a))return d.get(a);let f=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${a}`;e&&(f=f.concat(`?h=${e}`));let g=window.fetch(f,{mode:"cors",signal:b.signal}).then(a=>a.json()).then(b=>{let d=b?.thumbnail_url?.match(/vimeocdn.com\/video\/(.*)?_/)?.[1],e=d?`https://i.vimeocdn.com/video/${d}_1920x1080.webp`:"",f={title:b?.title??"",duration:b?.duration??0,poster:e,pro:"basic"!==b.account_type};return c.set(a,f),f}).finally(()=>d.delete(a));return d.set(a,g),g}a.s(["getVimeoVideoInfo",()=>f,"resolveVimeoVideoId",()=>e])},36334,a=>{"use strict";var b=a.i(5816),c=a.i(30770);class d{#a;src=(0,c.signal)("");referrerPolicy=null;get iframe(){return this.#a}constructor(a){this.#a=a,a.setAttribute("frameBorder","0"),a.setAttribute("aria-hidden","true"),a.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&a.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){(0,c.listenEvent)(window,"message",this.#b.bind(this)),(0,c.listenEvent)(this.#a,"load",this.onLoad.bind(this)),(0,c.effect)(this.#c.bind(this))}#c(){let a=this.src();if(!a.length)return void this.#a.setAttribute("src","");let d=(0,c.peek)(()=>this.buildParams());this.#a.setAttribute("src",(0,b.appendParamsToURL)(a,d))}postMessage(a,c){b.IS_SERVER||this.#a.contentWindow?.postMessage(JSON.stringify(a),c??"*")}#b(a){let b=this.getOrigin();if((null===a.source||a.source===this.#a?.contentWindow)&&(!(0,c.isString)(b)||b===a.origin)){try{let b=JSON.parse(a.data);b&&this.onMessage(b,a);return}catch(a){}a.data&&this.onMessage(a.data,a)}}}a.s(["EmbedProvider",()=>d])},89778,a=>{"use strict";var b=a.i(30770),c=a.i(5816),d=a.i(36334),e=a.i(37725);a.i(72131);let f=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"];class g extends d.EmbedProvider{$$PROVIDER_TYPE="VIMEO";scope=(0,b.createScope)();fullscreen;#d;#e=(0,b.signal)("");#f=(0,b.signal)(!1);#g=null;#h=null;#i=!1;#j=new c.TimeRange(0,0);#k=new c.RAFLoop(this.#l.bind(this));#m=null;#n=null;#o=new Map;#p=null;constructor(a,b){super(a),this.#d=b;const c=this;this.fullscreen={get active(){return c.#i},supported:!0,enter:()=>this.#q("requestFullscreen"),exit:()=>this.#q("exitFullscreen")}}cookies=!1;title=!0;byline=!0;portrait=!0;color="00ADEF";get type(){return"vimeo"}get currentSrc(){return this.#h}get videoId(){return this.#e()}get hash(){return this.#g}get isPro(){return this.#f()}preconnect(){(0,c.preconnect)(this.getOrigin())}setup(){super.setup(),(0,b.effect)(this.#r.bind(this)),(0,b.effect)(this.#s.bind(this)),(0,b.effect)(this.#t.bind(this)),this.#d.notify("provider-setup",this)}destroy(){for(let a of(this.#u(),this.fullscreen=void 0,this.#o.values()))for(let{reject:b}of a)b("provider destroyed");this.#o.clear(),this.#q("destroy")}async play(){return this.#q("play")}async pause(){return this.#q("pause")}setMuted(a){this.#q("setMuted",a)}setCurrentTime(a){this.#q("seekTo",a),this.#d.notify("seeking",a)}setVolume(a){this.#q("setVolume",a),this.#q("setMuted",(0,b.peek)(this.#d.$state.muted))}setPlaybackRate(a){this.#q("setPlaybackRate",a)}async loadSource(a){if(!(0,b.isString)(a.src)){this.#h=null,this.#g=null,this.#e.set("");return}let{videoId:c,hash:d}=(0,e.resolveVimeoVideoId)(a.src);this.#e.set(c??""),this.#g=d??null,this.#h=a}#r(){this.#u();let a=this.#e();a?(this.src.set(`${this.getOrigin()}/video/${a}`),this.#d.notify("load-start")):this.src.set("")}#s(){let a=this.#e();if(!a)return;let c=(0,b.deferredPromise)(),d=new AbortController;return this.#p=c,(0,e.getVimeoVideoInfo)(a,d,this.#g).then(a=>{c.resolve(a)}).catch(a=>{c.reject()}),()=>{c.reject(),d.abort()}}#t(){let a=this.#f(),{$state:d,qualities:e}=this.#d;if(d.canSetPlaybackRate.set(a),e[c.ListSymbol.setReadonly](!a),a)return(0,b.listenEvent)(e,"change",()=>{if(e.auto)return;let a=e.selected?.id;a&&this.#q("setQuality",a)})}getOrigin(){return"https://player.vimeo.com"}buildParams(){let{keyDisabled:a}=this.#d.$props,{playsInline:b,nativeControls:c}=this.#d.$state,d=c();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:d,h:this.hash,keyboard:d&&!a(),transparent:!0,playsinline:b(),dnt:!this.cookies}}#l(){this.#q("getCurrentTime")}#v=!1;#w(a,b){if(this.#v&&0===a)return;let{realCurrentTime:c,paused:d,bufferedEnd:e,seekableEnd:f,live:g}=this.#d.$state;if(c()===a)return;let h=c();this.#d.notify("time-change",a,b),Math.abs(h-a)>1.5&&(this.#d.notify("seeking",a,b),!d()&&e()<a&&this.#d.notify("waiting",void 0,b)),!g()&&f()-a<.01&&(this.#d.notify("end",void 0,b),this.#v=!0,setTimeout(()=>{this.#v=!1},500))}#x(a,b){this.#d.notify("seeked",a,b)}#y(a){let b=this.#e();this.#p?.promise.then(b=>{if(!b)return;let{title:c,poster:d,duration:e,pro:f}=b;this.#f.set(f),this.#d.notify("title-change",c,a),this.#d.notify("poster-change",d,a),this.#d.notify("duration-change",e,a),this.#z(e,a)}).catch(()=>{b===this.#e()&&(this.#q("getVideoTitle"),this.#q("getDuration"))})}#z(a,b){let{nativeControls:d}=this.#d.$state,e=d();this.#j=new c.TimeRange(0,a);let f={buffered:new c.TimeRange(0,0),seekable:this.#j,duration:a};this.#d.delegate.ready(f,b),e||this.#q("_hideOverlay"),this.#q("getQualities"),this.#q("getChapters")}#A(a,c,d){switch(a){case"getVideoTitle":this.#d.notify("title-change",c,d);break;case"getDuration":this.#d.$state.canPlay()?this.#d.notify("duration-change",c,d):this.#z(c,d);break;case"getCurrentTime":this.#w(c,d);break;case"getBuffered":(0,b.isArray)(c)&&c.length&&this.#B(c[c.length-1][1],d);break;case"setMuted":this.#C((0,b.peek)(this.#d.$state.volume),c,d);break;case"getChapters":this.#D(c);break;case"getQualities":this.#E(c,d)}this.#F(a)?.resolve()}#G(){for(let a of f)this.#q("addEventListener",a)}#H(a){this.#k.stop(),this.#d.notify("pause",void 0,a)}#I(a){this.#k.start(),this.#d.notify("play",void 0,a)}#J(a){let{paused:b}=this.#d.$state;b()||this.#v||this.#d.notify("playing",void 0,a)}#B(a,b){let d={buffered:new c.TimeRange(0,a),seekable:this.#j};this.#d.notify("progress",d,b)}#K(a){this.#d.notify("waiting",void 0,a)}#L(a){let{paused:b}=this.#d.$state;b()||this.#d.notify("playing",void 0,a)}#M(a){let{paused:b}=this.#d.$state;b()&&this.#d.notify("play",void 0,a),this.#d.notify("waiting",void 0,a)}#C(a,b,c){this.#d.notify("volume-change",{volume:a,muted:b},c)}#D(a){if(this.#N(),!a.length)return;let b=new c.TextTrack({kind:"chapters",default:!0}),{seekableEnd:d}=this.#d.$state;for(let c=0;c<a.length;c++){let e=a[c],f=a[c+1];b.addCue(new window.VTTCue(e.startTime,f?.startTime??d(),e.title))}this.#n=b,this.#d.textTracks.add(b)}#N(){this.#n&&(this.#d.textTracks.remove(this.#n),this.#n=null)}#E(a,b){for(let d of(this.#d.qualities[c.QualitySymbol.enableAuto]=a.some(a=>"auto"===a.id)?()=>this.#q("setQuality","auto"):void 0,a)){if("auto"===d.id)continue;let a=+d.id.slice(0,-1);isNaN(a)||this.#d.qualities[c.ListSymbol.add]({id:d.id,width:16/9*a,height:a,codec:"avc1,h.264",bitrate:-1},b)}this.#O(a.find(a=>a.active),b)}#O({id:a}={},b){if(!a)return;let d="auto"===a,e=this.#d.qualities.getById(a);d?(this.#d.qualities[c.QualitySymbol.setAuto](d,b),this.#d.qualities[c.ListSymbol.select](void 0,!0,b)):this.#d.qualities[c.ListSymbol.select](e??void 0,!0,b)}#P(a,d,e){switch(a){case"ready":this.#G();break;case"loaded":this.#y(e);break;case"play":this.#I(e);break;case"playProgress":this.#J(e);break;case"pause":this.#H(e);break;case"loadProgress":this.#B(d.seconds,e);break;case"waiting":this.#M(e);break;case"bufferstart":this.#K(e);break;case"bufferend":this.#L(e);break;case"volumechange":this.#C(d.volume,(0,b.peek)(this.#d.$state.muted),e);break;case"durationchange":this.#j=new c.TimeRange(0,d.duration),this.#d.notify("duration-change",d.duration,e);break;case"playbackratechange":this.#d.notify("rate-change",d.playbackRate,e);break;case"qualitychange":this.#O(d,e);break;case"fullscreenchange":this.#i=d.fullscreen,this.#d.notify("fullscreen-change",d.fullscreen,e);break;case"enterpictureinpicture":this.#d.notify("picture-in-picture-change",!0,e);break;case"leavepictureinpicture":this.#d.notify("picture-in-picture-change",!1,e);break;case"ended":this.#d.notify("end",void 0,e);break;case"error":this.#Q(d,e);break;case"seek":case"seeked":this.#x(d.seconds,e)}}#Q(a,b){let{message:c,method:d}=a;"setPlaybackRate"===d&&this.#f.set(!1),d&&this.#F(d)?.reject(c)}onMessage(a,b){a.event?this.#P(a.event,a.data,b):a.method&&this.#A(a.method,a.value,b)}onLoad(){}async #q(a,c){let d=(0,b.deferredPromise)(),e=this.#o.get(a);return e||this.#o.set(a,e=[]),e.push(d),this.postMessage({method:a,value:c}),d.promise}#u(){this.#k.stop(),this.#j=new c.TimeRange(0,0),this.#p=null,this.#m=null,this.#f.set(!1),this.#N()}#F(a){return this.#o.get(a)?.shift()}}a.s(["VimeoProvider",()=>g])}];

//# sourceMappingURL=node_modules_%40vidstack_react_prod_chunks_ed7e63fa._.js.map