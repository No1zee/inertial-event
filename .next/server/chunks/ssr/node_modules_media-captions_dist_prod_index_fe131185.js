module.exports=[63514,a=>{"use strict";let b={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5};class c extends Error{code;line;constructor(a){super(a.reason),this.code=a.code,this.line=a.line}}let d=/\r?\n|\r/gm;class e{writable;readable;constructor(a){const b=new f(a);this.writable=new WritableStream({write(a){b.transform(a)},close(){b.close()}}),this.readable=new ReadableStream({start(a){b.onLine=b=>a.enqueue(b),b.onClose=()=>a.close()}})}}class f{a="";b;onLine;onClose;constructor(a){this.b=new TextDecoder(a)}transform(a){this.a+=this.b.decode(a,{stream:!0});let b=this.a.split(d);this.a=b.pop()||"";for(let a=0;a<b.length;a++)this.onLine(b[a].trim())}close(){this.a&&this.onLine(this.a.trim()),this.a="",this.onClose()}}async function g(a,b){return h(new ReadableStream({start(b){for(let c of a.split(d))b.enqueue(c);b.close()}}),b)}async function h(b,c){let d,e,f=c?.type??"vtt";if("string"==typeof f)switch(f){case"srt":d=(await a.A(37589)).default;break;case"ssa":case"ass":d=(await a.A(66714)).default;break;default:d=(await Promise.resolve().then(function(){return E})).default}else d=f;let g=b.getReader(),h=d(),i=!!c?.strict||!!c?.errors;await h.init({strict:!1,...c,errors:i,type:f,cancel(){g.cancel(),e=h.done(!0)}});let j=1;for(;;){let{value:a,done:b}=await g.read();if(b){h.parse("",j),e=h.done(!1);break}h.parse(a,j),j++}return e}async function i(a,b){let c=await a;if(!c.ok||!c.body)return{metadata:{},cues:[],regions:[],errors:[void 0]};let d=c.headers.get("content-type")||"",e=d.match(/text\/(.*?)(?:;|$)/)?.[1],f=d.match(/charset=(.*?)(?:;|$)/)?.[1];return j(c.body,{type:e,encoding:f,...b})}async function j(a,{encoding:b="utf-8",...c}={}){return h(a.pipeThrough(new e(b)),c)}class k extends EventTarget{id="";startTime;endTime;text;pauseOnExit=!1;constructor(a,b,c){super(),this.startTime=a,this.endTime=b,this.text=c}addEventListener(a,b,c){super.addEventListener(a,b,c)}removeEventListener(a,b,c){super.removeEventListener(a,b,c)}}let l="undefined"==typeof document,m=l?k:window.VTTCue;class n extends m{region=null;vertical="";snapToLines=!0;line="auto";lineAlign="start";position="auto";positionAlign="auto";size=100;align="center";style}class o{id="";width=100;lines=3;regionAnchorX=0;regionAnchorY=100;viewportAnchorX=0;viewportAnchorY=100;scroll=""}function p(a){let b=parseInt(a.replace("%",""),10);return!Number.isNaN(b)&&b>=0&&b<=100?b:null}function q(a){if(!a.includes(","))return null;let[b,c]=a.split(",").map(p);return null!==b&&null!==c?[b,c]:null}let r=/[:=]/,s=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,t=/^REGION:?[\s\t]+/,u=/[\s\t]+/,v=/[\s\t]*-->[\s\t]+/,w=/start|center|end|left|right/,x=/start|center|end/,y=/line-(?:left|right)|center|auto/,z=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/;var A,B=((A=B||{})[A.None=0]="None",A[A.Header=1]="Header",A[A.Cue=2]="Cue",A[A.Region=3]="Region",A[A.Note=4]="Note",A);class C{h;e=0;i={};j={};l=[];c=null;d=null;m=[];f;n="";async init(b){this.h=b,b.strict&&(this.e=1),b.errors&&(this.f=(await a.A(63679)).ParseErrorBuilder)}parse(a,b){if(""===a)this.c?(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null):this.d?(this.j[this.d.id]=this.d,this.h.onRegion?.(this.d),this.d=null):1===this.e&&(this.k(a,b),this.h.onHeaderMetadata?.(this.i)),this.e=0;else if(this.e)switch(this.e){case 1:this.k(a,b);break;case 2:if(this.c){let c=this.c.text.length>0;!c&&s.test(a)?this.o(a.split(u),b):this.c.text+=(c?"\n":"")+a}break;case 3:this.p(a.split(u),b)}else if(a.startsWith("NOTE"))this.e=4;else if(a.startsWith("REGION"))this.e=3,this.d=new o,this.p(a.replace(t,"").split(u),b);else if(a.includes("-->")){let c=this.q(a,b);c&&(this.c=new n(c[0],c[1],""),this.c.id=this.n,this.o(c[2],b)),this.e=2}else 1===b&&this.k(a,b);this.n=a}done(){return{metadata:this.i,cues:this.l,regions:Object.values(this.j),errors:this.m}}k(a,b){if(b>1){if(r.test(a)){let[b,c]=a.split(r);b&&(this.i[b]=(c||"").replace(u,""))}}else a.startsWith("WEBVTT")?this.e=1:this.g(this.f?.r())}q(a,b){let[c,d=""]=a.split(v),[e,...f]=d.split(u),g=D(c),h=D(e);if(null!==g&&null!==h&&h>g)return[g,h,f];null===g&&this.g(this.f?.s(c,b)),null===h&&this.g(this.f?.t(e,b)),null!=g&&null!==h&&h>g&&this.g(this.f?.u(g,h,b))}p(a,b){let c;for(let d=0;d<a.length;d++)if(r.test(a[d])){c=!1;let[e,f]=a[d].split(r);switch(e){case"id":this.d.id=f;break;case"width":let g=p(f);null!==g?this.d.width=g:c=!0;break;case"lines":let h=function(a){let b=parseInt(a,10);return Number.isNaN(b)?null:b}(f);null!==h?this.d.lines=h:c=!0;break;case"regionanchor":let i=q(f);null!==i?(this.d.regionAnchorX=i[0],this.d.regionAnchorY=i[1]):c=!0;break;case"viewportanchor":let j=q(f);null!==j?(this.d.viewportAnchorX=j[0],this.d.viewportAnchorY=j[1]):c=!0;break;case"scroll":"up"===f?this.d.scroll="up":c=!0;break;default:this.g(this.f?.v(e,f,b))}c&&this.g(this.f?.w(e,f,b))}}o(a,b){let c;for(let d=0;d<a.length;d++)if(c=!1,r.test(a[d])){let[e,f]=a[d].split(r);switch(e){case"region":let g=this.j[f];g&&(this.c.region=g);break;case"vertical":"lr"===f||"rl"===f?(this.c.vertical=f,this.c.region=null):c=!0;break;case"line":let[h,i]=f.split(",");if(h.includes("%")){let a=p(h);null!==a?(this.c.line=a,this.c.snapToLines=!1):c=!0}else{let a=function(a){let b=parseFloat(a);return Number.isNaN(b)?null:b}(h);null!==a?this.c.line=a:c=!0}x.test(i)?this.c.lineAlign=i:i&&(c=!0),"auto"!==this.c.line&&(this.c.region=null);break;case"position":let[j,k]=f.split(","),l=p(j);null!==l?this.c.position=l:c=!0,k&&y.test(k)?this.c.positionAlign=k:k&&(c=!0);break;case"size":let m=p(f);null!==m?(this.c.size=m,m<100&&(this.c.region=null)):c=!0;break;case"align":w.test(f)?this.c.align=f:c=!0;break;default:this.g(this.f?.x(e,f,b))}c&&this.g(this.f?.y(e,f,b))}}g(a){if(a){if(this.m.push(a),this.h.strict)throw this.h.cancel(),a;this.h.onError?.(a)}}}function D(a){let b=a.match(z);if(!b)return null;let c=b[1]?parseInt(b[1],10):0,d=parseInt(b[2],10),e=parseInt(b[3],10),f=b[4]?parseInt(b[4].padEnd(3,"0"),10):0;return c<0||d<0||e<0||f<0||d>59||e>59?null:3600*c+60*d+e+f/1e3}var E=Object.freeze({__proto__:null,VTTBlock:B,VTTParser:C,default:function(){return new C},parseVTTTimestamp:D});let F=/[0-9]/,G=/[\s\t]+/,H={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},I={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},J=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,K=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),L=new Set(Object.keys(H));function M(a){let b="",c=1,d=[],e=[],f;for(let d=0;d<a.text.length;d++){let j=a.text[d];switch(c){case 1:"<"===j?(i(),c=2):b+=j;break;case 2:switch(j){case"\n":case"	":case" ":g(),c=4;break;case".":g(),c=3;break;case"/":c=5;break;case">":g(),c=1;break;default:!b&&F.test(j)&&(c=6),b+=j}break;case 3:switch(j){case"	":case" ":case"\n":h(),f&&f.class?.trim(),c=4;break;case".":h();break;case">":h(),f&&f.class?.trim(),c=1;break;default:b+=j}break;case 4:">"===j?(b=b.replace(G," "),f?.type==="v"?f.voice=N(b):f?.type==="lang"&&(f.lang=N(b)),b="",c=1):b+=j;break;case 5:">"===j&&(b="",f=e.pop(),c=1);break;case 6:if(">"===j){let d=D(b);null!==d&&d>=a.startTime&&d<=a.endTime&&(b="timestamp",g(),f.time=d),b="",c=1}else b+=j}}function g(){if(L.has(b)){var a;let c=f;f={tagName:H[a=b],type:a,children:[]},c?(e[e.length-1]!==c&&e.push(c),c.children.push(f)):d.push(f)}b="",c=1}function h(){if(f&&b){let a=b.replace("bg_","");K.has(a)?f[b.startsWith("bg_")?"bgColor":"color"]=a:f.class=f.class?f.class+" "+b:b}b=""}function i(){if(!b)return;let a={type:"text",data:N(b)};f?f.children.push(a):d.push(a),b=""}return 1===c&&i(),d}function N(a){return a.replace(J,a=>I[a]||"'")}function O(a,b,c){a.style.setProperty(`--${b}`,c+"")}function P(a,b,c=!0){a.setAttribute(`data-${b}`,!0===c?"":c+"")}function Q(a,b){a.setAttribute("data-part",b)}function R(a){if(l)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");let b=document.createElement("template");return b.innerHTML=S(a),{cue:a,content:b.content}}function S(a,b=0){return T(M(a),b)}function T(a,b=0){let c,d="";for(let e of a)if("text"===e.type)d+=e.data;else{let a="timestamp"===e.type;(c={}).class=e.class,c.title="v"===e.type&&e.voice,c.lang="lang"===e.type&&e.lang,c["data-part"]="v"===e.type&&"voice",a&&(c["data-part"]="timed",c["data-time"]=e.time,c["data-future"]=e.time>b,c["data-past"]=e.time<b),c.style=`${e.color?`color: ${e.color};`:""}${e.bgColor?`background-color: ${e.bgColor};`:""}`;let f=Object.entries(c).filter(a=>a[1]).map(a=>`${a[0]}="${!0===a[1]?"":a[1]}"`).join(" ");d+=`<${e.tagName}${f?" "+f:""}>${T(e.children)}</${e.tagName}>`}return d}function U(a,b){if(!l)for(let c of a.querySelectorAll('[data-part="timed"]')){let a=Number(c.getAttribute("data-time"));Number.isNaN(a)||(a>b?P(c,"future"):c.removeAttribute("data-future"),a<b?P(c,"past"):c.removeAttribute("data-past"))}}let V=Symbol(0);function W(a){return a instanceof HTMLElement?{top:a.offsetTop,width:a.clientWidth,height:a.clientHeight,left:a.offsetLeft,right:a.offsetLeft+a.clientWidth,bottom:a.offsetTop+a.clientHeight}:{...a}}function X(a,b,c){switch(b){case"+x":a.left+=c,a.right+=c;break;case"-x":a.left-=c,a.right-=c;break;case"+y":a.top+=c,a.bottom+=c;break;case"-y":a.top-=c,a.bottom-=c}}function Y(a,b){return b.top>=0&&b.bottom<=a.height&&b.left>=0&&b.right<=a.width}function Z(a,b){return{top:b.top/a.height,left:b.left/a.width,right:(a.width-b.right)/a.width,bottom:(a.height-b.bottom)/a.height}}function $(a,b){return b.top=b.top*a.height,b.left=b.left*a.width,b.right=a.width-b.right*a.width,b.bottom=a.height-b.bottom*a.height,b}let _=["top","left","right","bottom"];function aa(a,b,c,d){let e=Z(b,c);for(let b of _)O(a,`${d}-${b}`,100*e[b]+"%")}function ab(a,b,c,d){let e=1,f,g={...b};for(let j=0;j<d.length;j++){for(var h,i;function(a,b,c){switch(c){case"+x":return b.left<0;case"-x":return b.right>a.width;case"+y":return b.top<0;case"-y":return b.bottom>a.height}}(a,b,d[j])||Y(a,b)&&function(a,b){for(let d=0;d<b.length;d++){var c;if(c=b[d],a.left<=c.right&&a.right>=c.left&&a.top<=c.bottom&&a.bottom>=c.top)return b[d]}return null}(b,c);)X(b,d[j],1);if(Y(a,b))return b;let k=(h=a,i=b,Math.max(0,Math.min(h.width,i.right)-Math.max(0,i.left))*Math.max(0,Math.min(h.height,i.bottom)-Math.max(0,i.top))/(h.height*h.width));e>k&&(f={...b},e=k),b={...g}}return f||g}let ac=Symbol(0),ad=["-y","+y","-x","+x"];class ae{overlay;z;A=0;C="ltr";B=[];D=!1;E;j=new Map;l=new Map;get dir(){return this.C}set dir(a){this.C=a,P(this.overlay,"dir",a)}get currentTime(){return this.A}set currentTime(a){this.A=a,this.update()}constructor(a,b){this.overlay=a,this.dir=b?.dir??"ltr",a.setAttribute("translate","yes"),a.setAttribute("aria-live","off"),a.setAttribute("aria-atomic","true"),Q(a,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(a)}changeTrack({regions:a,cues:b}){for(let c of(this.reset(),this.J(a),b))this.l.set(c,null);this.update()}addCue(a){this.l.set(a,null),this.update()}removeCue(a){this.l.delete(a),this.update()}update(a=!1){this.H(a)}reset(){this.l.clear(),this.j.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}K=(function(a,b){let c=null,d;function e(){f(),a(...d),d=void 0}function f(){clearTimeout(c),c=null}return function(){d=[].slice.call(arguments),f(),c=setTimeout(e,b)}})(()=>{for(let a of(this.D=!1,this.G(),this.j.values()))a[V]=null;for(let a of this.l.values())a&&(a[V]=null);this.H(!0)},50);G(){this.z=W(this.overlay),O(this.overlay,"overlay-width",this.z.width+"px"),O(this.overlay,"overlay-height",this.z.height+"px")}H(a=!1){if(!this.l.size||this.D)return;let b,c=[...this.l.keys()].filter(a=>this.A>=a.startTime&&this.A<=a.endTime).sort((a,b)=>a.startTime!==b.startTime?a.startTime-b.startTime:a.endTime-b.endTime),d=c.map(a=>a.region);for(let e=0;e<this.B.length;e++){if(b=this.B[e],c[e]===b)continue;if(b.region&&!d.includes(b.region)){let c=this.j.get(b.region.id);c&&(c.removeAttribute("data-active"),a=!0)}let f=this.l.get(b);f&&(f.remove(),a=!0)}for(let d=0;d<c.length;d++){b=c[d];let e=this.l.get(b);e||this.l.set(b,e=this.L(b));let f=this.F(b)&&this.j.get(b.region.id);f&&!f.hasAttribute("data-active")&&(requestAnimationFrame(()=>P(f,"active")),a=!0),e.isConnected||((f||this.overlay).append(e),a=!0)}if(a){let a=[],d=new Set;for(let e=c.length-1;e>=0;e--){if(b=c[e],d.has(b.region||b))continue;let f=this.F(b),g=f?this.j.get(b.region.id):this.l.get(b);f?a.push(function(a,b,c,d){let e=Array.from(c.querySelectorAll('[data-part="cue-display"]')),f=0,g=Math.max(0,e.length-b.lines);for(let a=e.length-1;a>=g;a--)f+=e[a].offsetHeight;O(c,"region-height",f+"px"),c[V]||(c[V]=Z(a,W(c)));let h={...c[V]};return(h=$(a,h)).width=c.clientWidth,h.height=f,h.right=h.left+h.width,h.bottom=h.top+f,h=ab(a,h,d,ad),aa(c,a,h,"region"),h}(this.z,b.region,g,a)):a.push(function(a,b,c,d){let e=c.firstElementChild,f=function(a){if("auto"===a.line)if(!a.snapToLines)return 100;else return -1;return a.line}(b),g,h=[];if(c[V]||(c[V]=function(a,b){let c=W(b),d=function(a){let b={};for(let c of _)b[c]=parseFloat(a.style.getPropertyValue(`--cue-${c}`));return b}(b);if(b[ac]=!1,d.top&&(c.top=d.top,c.bottom=d.top+c.height,b[ac]="top"),d.bottom){let e=a.height-d.bottom;c.top=e-c.height,c.bottom=e,b[ac]="bottom"}return d.left&&(c.left=d.left),d.right&&(c.right=a.width-d.right),Z(a,c)}(a,c)),g=$(a,{...c[V]}),c[ac])h=["top"===c[ac]?"+y":"-y","+x","-x"];else if(b.snapToLines){let c;switch(b.vertical){case"":h=["+y","-y"],c="height";break;case"rl":h=["+x","-x"],c="width";break;case"lr":h=["-x","+x"],c="width"}let d=parseFloat(getComputedStyle(e).lineHeight)||0,i=d*Math.round(f),j=a[c]+d,k=h[0];Math.abs(i)>j&&(i=Math.ceil(j/d)*d*(i<0?-1:1)),f<0&&(i+=""===b.vertical?a.height:a.width,h=h.reverse()),X(g,k,i)}else{let c=""===b.vertical,d=c?"+y":"+x",e=c?g.height:g.width;X(g,d,(c?a.height:a.width)*f/100),X(g,d,"center"===b.lineAlign?e/2:"end"===b.lineAlign?e:0),h=c?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return g=ab(a,g,d,h),aa(c,a,g,"cue"),g}(this.z,b,g,a)),d.add(f?b.region:b)}}U(this.overlay,this.A),this.B=c}J(a){if(a)for(let b of a){let a=this.M(b);this.j.set(b.id,a),this.overlay.append(a)}}M(a){let b=document.createElement("div");return Q(b,"region"),P(b,"id",a.id),P(b,"scroll",a.scroll),O(b,"region-width",a.width+"%"),O(b,"region-anchor-x",a.regionAnchorX),O(b,"region-anchor-y",a.regionAnchorY),O(b,"region-viewport-anchor-x",a.viewportAnchorX),O(b,"region-viewport-anchor-y",a.viewportAnchorY),O(b,"region-lines",a.lines),b}L(a){let b=document.createElement("div"),c=function(a){if("auto"===a.position)switch(a.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return a.position}(a),d=function(a,b){if("auto"===a.positionAlign)switch(a.align){case"start":return"ltr"===b?"line-left":"line-right";case"end":return"ltr"===b?"line-right":"line-left";case"center":return"center";default:return`line-${a.align}`}return a.positionAlign}(a,this.C);if(Q(b,"cue-display"),""!==a.vertical&&P(b,"vertical"),O(b,"cue-text-align",a.align),a.style)for(let c of Object.keys(a.style))b.style.setProperty(c,a.style[c]);if(this.F(a))O(b,"cue-offset",`${c-("line-right"===d?100:50*("center"===d))}%`);else if(O(b,"cue-writing-mode",""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl"),!a.style?.["--cue-width"]){let e=c;"line-left"===d?e=100-c:"center"===d&&c<=50?e=2*c:"center"===d&&c>50&&(e=(100-c)*2);let f=a.size<e?a.size:e;""===a.vertical?O(b,"cue-width",f+"%"):O(b,"cue-height",f+"%")}let e=document.createElement("div");return Q(e,"cue"),a.id&&P(e,"id",a.id),e.innerHTML=S(a),b.append(e),b}F(a){return a.region&&100===a.size&&""===a.vertical&&"auto"===a.line}}a.s(["C",()=>ae,"P",()=>c,"T",()=>k,"V",()=>C,"a",()=>B,"b",()=>n,"c",()=>b,"d",()=>i,"e",()=>j,"f",()=>g,"g",()=>h,"h",()=>o,"i",()=>R,"j",()=>T,"p",()=>D,"r",()=>S,"t",()=>M,"u",()=>U])}];

//# sourceMappingURL=node_modules_media-captions_dist_prod_index_fe131185.js.map