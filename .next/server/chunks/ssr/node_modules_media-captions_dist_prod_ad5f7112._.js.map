{"version":3,"sources":["../../../../node_modules/media-captions/dist/prod/ssa-parser.js"],"sourcesContent":["import { b as VTTCue, p as parseVTTTimestamp } from './index.js';\n\nconst FORMAT_START_RE = /^Format:[\\s\\t]*/, STYLE_START_RE = /^Style:[\\s\\t]*/, DIALOGUE_START_RE = /^Dialogue:[\\s\\t]*/, FORMAT_SPLIT_RE = /[\\s\\t]*,[\\s\\t]*/, STYLE_FUNCTION_RE = /\\{[^}]+\\}/g, NEW_LINE_RE = /\\\\N/g, STYLES_SECTION_START_RE = /^\\[(.*)[\\s\\t]?Styles\\]$/, EVENTS_SECTION_START_RE = /^\\[(.*)[\\s\\t]?Events\\]$/;\nclass SSAParser {\n  h;\n  O = 0;\n  c = null;\n  l = [];\n  m = [];\n  N = null;\n  f;\n  P = {};\n  async init(init) {\n    this.h = init;\n    if (init.errors)\n      this.f = (await import('./errors.js')).ParseErrorBuilder;\n  }\n  parse(line, lineCount) {\n    if (this.O) {\n      switch (this.O) {\n        case 1:\n          if (line === \"\") {\n            this.O = 0;\n          } else if (STYLE_START_RE.test(line)) {\n            if (this.N) {\n              const styles = line.replace(STYLE_START_RE, \"\").split(FORMAT_SPLIT_RE);\n              this.S(styles);\n            } else {\n              this.g(this.f?.T(\"Style\", lineCount));\n            }\n          } else if (FORMAT_START_RE.test(line)) {\n            this.N = line.replace(FORMAT_START_RE, \"\").split(FORMAT_SPLIT_RE);\n          } else if (EVENTS_SECTION_START_RE.test(line)) {\n            this.N = null;\n            this.O = 2;\n          }\n          break;\n        case 2:\n          if (line === \"\") {\n            this.Q();\n          } else if (DIALOGUE_START_RE.test(line)) {\n            this.Q();\n            if (this.N) {\n              const dialogue = line.replace(DIALOGUE_START_RE, \"\").split(FORMAT_SPLIT_RE), cue = this.U(dialogue, lineCount);\n              if (cue)\n                this.c = cue;\n            } else {\n              this.g(this.f?.T(\"Dialogue\", lineCount));\n            }\n          } else if (this.c) {\n            this.c.text += \"\\n\" + line.replace(STYLE_FUNCTION_RE, \"\").replace(NEW_LINE_RE, \"\\n\");\n          } else if (FORMAT_START_RE.test(line)) {\n            this.N = line.replace(FORMAT_START_RE, \"\").split(FORMAT_SPLIT_RE);\n          } else if (STYLES_SECTION_START_RE.test(line)) {\n            this.N = null;\n            this.O = 1;\n          } else if (EVENTS_SECTION_START_RE.test(line)) {\n            this.N = null;\n          }\n      }\n    } else if (line === \"\") ; else if (STYLES_SECTION_START_RE.test(line)) {\n      this.N = null;\n      this.O = 1;\n    } else if (EVENTS_SECTION_START_RE.test(line)) {\n      this.N = null;\n      this.O = 2;\n    }\n  }\n  done() {\n    return {\n      metadata: {},\n      cues: this.l,\n      regions: [],\n      errors: this.m\n    };\n  }\n  Q() {\n    if (!this.c)\n      return;\n    this.l.push(this.c);\n    this.h.onCue?.(this.c);\n    this.c = null;\n  }\n  S(values) {\n    let name = \"Default\", styles = {}, outlineX, align = \"center\", vertical = \"bottom\", marginV, outlineY = 1.2, outlineColor, bgColor, borderStyle = 3, transform = [];\n    for (let i = 0; i < this.N.length; i++) {\n      const field = this.N[i], value = values[i];\n      switch (field) {\n        case \"Name\":\n          name = value;\n          break;\n        case \"Fontname\":\n          styles[\"font-family\"] = value;\n          break;\n        case \"Fontsize\":\n          styles[\"font-size\"] = `calc(${value} / var(--overlay-height))`;\n          break;\n        case \"PrimaryColour\":\n          const color = parseColor(value);\n          if (color)\n            styles[\"--cue-color\"] = color;\n          break;\n        case \"BorderStyle\":\n          borderStyle = parseInt(value, 10);\n          break;\n        case \"BackColour\":\n          bgColor = parseColor(value);\n          break;\n        case \"OutlineColour\":\n          const _outlineColor = parseColor(value);\n          if (_outlineColor)\n            outlineColor = _outlineColor;\n          break;\n        case \"Bold\":\n          if (parseInt(value))\n            styles[\"font-weight\"] = \"bold\";\n          break;\n        case \"Italic\":\n          if (parseInt(value))\n            styles[\"font-style\"] = \"italic\";\n          break;\n        case \"Underline\":\n          if (parseInt(value))\n            styles[\"text-decoration\"] = \"underline\";\n          break;\n        case \"StrikeOut\":\n          if (parseInt(value))\n            styles[\"text-decoration\"] = \"line-through\";\n          break;\n        case \"Spacing\":\n          styles[\"letter-spacing\"] = value + \"px\";\n          break;\n        case \"AlphaLevel\":\n          styles[\"opacity\"] = parseFloat(value);\n          break;\n        case \"ScaleX\":\n          transform.push(`scaleX(${parseFloat(value) / 100})`);\n          break;\n        case \"ScaleY\":\n          transform.push(`scaleY(${parseFloat(value) / 100})`);\n          break;\n        case \"Angle\":\n          transform.push(`rotate(${value}deg)`);\n          break;\n        case \"Shadow\":\n          outlineY = parseInt(value, 10) * 1.2;\n          break;\n        case \"MarginL\":\n          styles[\"--cue-width\"] = \"auto\";\n          styles[\"--cue-left\"] = parseFloat(value) + \"px\";\n          break;\n        case \"MarginR\":\n          styles[\"--cue-width\"] = \"auto\";\n          styles[\"--cue-right\"] = parseFloat(value) + \"px\";\n          break;\n        case \"MarginV\":\n          marginV = parseFloat(value);\n          break;\n        case \"Outline\":\n          outlineX = parseInt(value, 10);\n          break;\n        case \"Alignment\":\n          const alignment = parseInt(value, 10);\n          if (alignment >= 4)\n            vertical = alignment >= 7 ? \"top\" : \"center\";\n          switch (alignment % 3) {\n            case 1:\n              align = \"start\";\n              break;\n            case 2:\n              align = \"center\";\n              break;\n            case 3:\n              align = \"end\";\n              break;\n          }\n      }\n    }\n    styles.R = vertical;\n    styles[\"--cue-white-space\"] = \"normal\";\n    styles[\"--cue-line-height\"] = \"normal\";\n    styles[\"--cue-text-align\"] = align;\n    if (vertical === \"center\") {\n      styles[`--cue-top`] = \"50%\";\n      transform.push(\"translateY(-50%)\");\n    } else {\n      styles[`--cue-${vertical}`] = (marginV || 0) + \"px\";\n    }\n    if (borderStyle === 1) {\n      styles[\"--cue-padding-y\"] = \"0\";\n    }\n    if (borderStyle === 1 || bgColor) {\n      styles[\"--cue-bg-color\"] = borderStyle === 1 ? \"none\" : bgColor;\n    }\n    if (borderStyle === 3 && outlineColor) {\n      styles[\"--cue-outline\"] = `${outlineX}px solid ${outlineColor}`;\n    }\n    if (borderStyle === 1 && typeof outlineX === \"number\") {\n      const color = bgColor ?? \"#000\";\n      styles[\"--cue-text-shadow\"] = [\n        outlineColor && buildTextShadow(outlineX * 1.2, outlineY * 1.2, outlineColor),\n        outlineColor ? buildTextShadow(outlineX * (outlineX / 2), outlineY * (outlineX / 2), color) : buildTextShadow(outlineX, outlineY, color)\n      ].filter(Boolean).join(\", \");\n    }\n    if (transform.length)\n      styles[\"--cue-transform\"] = transform.join(\" \");\n    this.P[name] = styles;\n  }\n  U(values, lineCount) {\n    const fields = this.V(values);\n    const timestamp = this.q(fields.Start, fields.End, lineCount);\n    if (!timestamp)\n      return;\n    const cue = new VTTCue(timestamp[0], timestamp[1], \"\"), styles = { ...this.P[fields.Style] || {} }, voice = fields.Name ? `<v ${fields.Name}>` : \"\";\n    const vertical = styles.R, marginLeft = fields.MarginL && parseFloat(fields.MarginL), marginRight = fields.MarginR && parseFloat(fields.MarginR), marginV = fields.MarginV && parseFloat(fields.MarginV);\n    if (marginLeft) {\n      styles[\"--cue-width\"] = \"auto\";\n      styles[\"--cue-left\"] = marginLeft + \"px\";\n    }\n    if (marginRight) {\n      styles[\"--cue-width\"] = \"auto\";\n      styles[\"--cue-right\"] = marginRight + \"px\";\n    }\n    if (marginV && vertical !== \"center\") {\n      styles[`--cue-${vertical}`] = marginV + \"px\";\n    }\n    cue.text = voice + values.slice(this.N.length - 1).join(\", \").replace(STYLE_FUNCTION_RE, \"\").replace(NEW_LINE_RE, \"\\n\");\n    delete styles.R;\n    if (Object.keys(styles).length)\n      cue.style = styles;\n    return cue;\n  }\n  V(values) {\n    const fields = {};\n    for (let i = 0; i < this.N.length; i++) {\n      fields[this.N[i]] = values[i];\n    }\n    return fields;\n  }\n  q(startTimeText, endTimeText, lineCount) {\n    const startTime = parseVTTTimestamp(startTimeText), endTime = parseVTTTimestamp(endTimeText);\n    if (startTime !== null && endTime !== null && endTime > startTime) {\n      return [startTime, endTime];\n    } else {\n      if (startTime === null) {\n        this.g(this.f?.s(startTimeText, lineCount));\n      }\n      if (endTime === null) {\n        this.g(this.f?.t(endTimeText, lineCount));\n      }\n      if (startTime != null && endTime !== null && endTime > startTime) {\n        this.g(this.f?.u(startTime, endTime, lineCount));\n      }\n    }\n  }\n  g(error) {\n    if (!error)\n      return;\n    this.m.push(error);\n    if (this.h.strict) {\n      this.h.cancel();\n      throw error;\n    } else {\n      this.h.onError?.(error);\n    }\n  }\n}\nfunction parseColor(color) {\n  const abgr = parseInt(color.replace(\"&H\", \"\"), 16);\n  if (abgr >= 0) {\n    const a = abgr >> 24 & 255 ^ 255;\n    const alpha = a / 255;\n    const b = abgr >> 16 & 255;\n    const g = abgr >> 8 & 255;\n    const r = abgr & 255;\n    return \"rgba(\" + [r, g, b, alpha].join(\",\") + \")\";\n  }\n  return null;\n}\nfunction buildTextShadow(x, y, color) {\n  const noOfShadows = Math.ceil(2 * Math.PI * x);\n  let textShadow = \"\";\n  for (let i = 0; i < noOfShadows; i++) {\n    const theta = 2 * Math.PI * i / noOfShadows;\n    textShadow += x * Math.cos(theta) + \"px \" + y * Math.sin(theta) + \"px 0 \" + color + (i == noOfShadows - 1 ? \"\" : \",\");\n  }\n  return textShadow;\n}\nfunction createSSAParser() {\n  return new SSAParser();\n}\n\nexport { SSAParser, createSSAParser as default };\n"],"names":[],"mappings":"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","ignoreList":[0]}