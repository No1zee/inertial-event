module.exports=[85389,a=>{"use strict";let b=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)(?:\/shorts)?\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,c=new Map,d=new Map;function e(a){return a.match(b)?.[1]}async function f(a,b){if(c.has(a))return c.get(a);if(d.has(a))return d.get(a);let e=new Promise(async d=>{for(let h of["maxresdefault","sddefault","hqdefault"])for(let i of[!0,!1]){var e,f,g;let j=(e=a,f=h,g=i,`https://i.ytimg.com/${g?"vi_webp":"vi"}/${e}/${f}.${g?"webp":"jpg"}`);if((await fetch(j,{mode:"no-cors",signal:b.signal})).status<400){c.set(a,j),d(j);return}}}).catch(()=>"").finally(()=>d.delete(a));return d.set(a,e),e}a.s(["findYouTubePoster",()=>f,"resolveYouTubeVideoId",()=>e])},36334,a=>{"use strict";var b=a.i(5816),c=a.i(30770);class d{#a;src=(0,c.signal)("");referrerPolicy=null;get iframe(){return this.#a}constructor(a){this.#a=a,a.setAttribute("frameBorder","0"),a.setAttribute("aria-hidden","true"),a.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&a.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){(0,c.listenEvent)(window,"message",this.#b.bind(this)),(0,c.listenEvent)(this.#a,"load",this.onLoad.bind(this)),(0,c.effect)(this.#c.bind(this))}#c(){let a=this.src();if(!a.length)return void this.#a.setAttribute("src","");let d=(0,c.peek)(()=>this.buildParams());this.#a.setAttribute("src",(0,b.appendParamsToURL)(a,d))}postMessage(a,c){b.IS_SERVER||this.#a.contentWindow?.postMessage(JSON.stringify(a),c??"*")}#b(a){let b=this.getOrigin();if((null===a.source||a.source===this.#a?.contentWindow)&&(!(0,c.isString)(b)||b===a.origin)){try{let b=JSON.parse(a.data);b&&this.onMessage(b,a);return}catch(a){}a.data&&this.onMessage(a.data,a)}}}a.s(["EmbedProvider",()=>d])},81790,a=>{"use strict";var b=a.i(30770),c=a.i(5816),d=a.i(36334),e=a.i(85389);a.i(72131);class f extends d.EmbedProvider{$$PROVIDER_TYPE="YOUTUBE";scope=(0,b.createScope)();#d;#e=(0,b.signal)("");#f=-1;#g=null;#h=-1;#i=!1;#j=new Map;constructor(a,b){super(a),this.#d=b}language="en";color="red";cookies=!1;get currentSrc(){return this.#g}get type(){return"youtube"}get videoId(){return this.#e()}preconnect(){(0,c.preconnect)(this.getOrigin())}setup(){super.setup(),(0,b.effect)(this.#k.bind(this)),this.#d.notify("provider-setup",this)}destroy(){for(let a of(this.#l(),this.#j.values()))for(let{reject:b}of a)b("provider destroyed");this.#j.clear()}async play(){return this.#m("playVideo")}#n(a){this.#o("playVideo")?.reject(a)}async pause(){return this.#m("pauseVideo")}#p(a){this.#o("pauseVideo")?.reject(a)}setMuted(a){a?this.#m("mute"):this.#m("unMute")}setCurrentTime(a){this.#m("seekTo",a),this.#d.notify("seeking",a)}setVolume(a){this.#m("setVolume",100*a)}setPlaybackRate(a){this.#m("setPlaybackRate",a)}async loadSource(a){if(!(0,b.isString)(a.src)){this.#g=null,this.#e.set("");return}let c=(0,e.resolveYouTubeVideoId)(a.src);this.#e.set(c??""),this.#g=a}getOrigin(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}#k(){this.#l();let a=this.#e();a?(this.src.set(`${this.getOrigin()}/embed/${a}`),this.#d.notify("load-start")):this.src.set("")}buildParams(){let{keyDisabled:a}=this.#d.$props,{muted:b,playsInline:c,nativeControls:d}=this.#d.$state,e=d();return{rel:0,autoplay:0,cc_lang_pref:this.language,cc_load_policy:e?1:void 0,color:this.color,controls:+!!e,disablekb:!e||a()?1:0,enablejsapi:1,fs:1,hl:this.language,iv_load_policy:e?1:3,mute:+!!b(),playsinline:+!!c()}}#m(a,c){let d=(0,b.deferredPromise)(),e=this.#j.get(a);return e||this.#j.set(a,e=[]),e.push(d),this.postMessage({event:"command",func:a,args:c?[c]:void 0}),d.promise}onLoad(){window.setTimeout(()=>this.postMessage({event:"listening"}),100)}#q(a){this.#d.notify("loaded-metadata"),this.#d.notify("loaded-data"),this.#d.delegate.ready(void 0,a)}#r(a){this.#o("pauseVideo")?.resolve(),this.#d.notify("pause",void 0,a)}#s(a,b){let{duration:c,realCurrentTime:d}=this.#d.$state,e=0===this.#f,f=e?c():a;this.#d.notify("time-change",f,b),!e&&Math.abs(f-d())>1&&this.#d.notify("seeking",f,b)}#t(a,b,d){let e={buffered:new c.TimeRange(0,a),seekable:b};this.#d.notify("progress",e,d);let{seeking:f,realCurrentTime:g}=this.#d.$state;f()&&a>g()&&this.#u(d)}#u(a){let{paused:b,realCurrentTime:c}=this.#d.$state;window.clearTimeout(this.#h),this.#h=window.setTimeout(()=>{this.#d.notify("seeked",c(),a),this.#h=-1},100*!!b())}#v(a){let{seeking:b}=this.#d.$state;b()&&this.#u(a),this.#d.notify("pause",void 0,a),this.#d.notify("end",void 0,a)}#w(a,b){let{paused:c,seeking:d}=this.#d.$state,e=1===a,f=3===a,g=this.#x("playVideo"),h=c()&&(f||e);if(f&&this.#d.notify("waiting",void 0,b),d()&&e&&this.#u(b),this.#i&&e){this.pause(),this.#i=!1,this.setMuted(this.#d.$state.muted());return}if(!g&&h){this.#i=!0,this.setMuted(!0);return}switch(h&&(this.#o("playVideo")?.resolve(),this.#d.notify("play",void 0,b)),a){case 5:this.#q(b);break;case 1:this.#d.notify("playing",void 0,b);break;case 2:this.#r(b);break;case 0:this.#v(b)}this.#f=a}onMessage({info:a},d){if(!a)return;let{title:e,intrinsicDuration:f,playbackRate:g}=this.#d.$state;if((0,b.isObject)(a.videoData)&&a.videoData.title!==e()&&this.#d.notify("title-change",a.videoData.title,d),(0,b.isNumber)(a.duration)&&a.duration!==f()){if((0,b.isNumber)(a.videoLoadedFraction)){let b=a.progressState?.loaded??a.videoLoadedFraction*a.duration,e=new c.TimeRange(0,a.duration);this.#t(b,e,d)}this.#d.notify("duration-change",a.duration,d)}if((0,b.isNumber)(a.playbackRate)&&a.playbackRate!==g()&&this.#d.notify("rate-change",a.playbackRate,d),a.progressState){let{current:b,seekableStart:e,seekableEnd:g,loaded:h,duration:i}=a.progressState;this.#s(b,d),this.#t(h,new c.TimeRange(e,g),d),i!==f()&&this.#d.notify("duration-change",i,d)}if((0,b.isNumber)(a.volume)&&(0,b.isBoolean)(a.muted)&&!this.#i){let b={muted:a.muted,volume:a.volume/100};this.#d.notify("volume-change",b,d)}(0,b.isNumber)(a.playerState)&&a.playerState!==this.#f&&this.#w(a.playerState,d)}#l(){this.#f=-1,this.#h=-1,this.#i=!1}#o(a){return this.#j.get(a)?.shift()}#x(a){return!!this.#j.get(a)?.length}}a.s(["YouTubeProvider",()=>f])}];

//# sourceMappingURL=node_modules_%40vidstack_react_prod_chunks_ac5dd4c1._.js.map