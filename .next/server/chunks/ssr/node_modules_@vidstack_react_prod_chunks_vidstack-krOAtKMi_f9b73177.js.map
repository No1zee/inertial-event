{"version":3,"sources":["../../../../node_modules/%40vidstack/react/prod/chunks/vidstack-krOAtKMi.js"],"sourcesContent":["\"use client\"\n\nconst videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:(?:\\?hash=|\\?h=|\\/)(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort, videoHash) {\n  if (infoCache.has(videoId)) return infoCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  let oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  if (videoHash) {\n    oembedSrc = oembedSrc.concat(`?h=${videoHash}`);\n  }\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\nexport { getVimeoVideoInfo, resolveVimeoVideoId };\n"],"names":[],"mappings":"uCAEA,IAAM,EAAY,6FACZ,EAA4B,IAAI,IAChC,EADY,AACmB,IAAI,IACzC,KAF+B,AACV,IACZ,EAAoB,CAAG,EAC9B,IAFgC,AAE1B,EAAU,EAAI,KAAK,CAAC,GAC1B,MAAO,CAAE,QAAS,GAAS,CAAC,EAAE,CAAE,KAAM,GAAS,CAAC,EAAE,AAAC,CACrD,CACA,eAAe,EAAkB,CAAO,CAAE,CAAK,CAAE,CAAS,EACxD,GAAI,EAAU,GAAG,CAAC,GAAU,OAAO,EAAU,GAAG,CAAC,GACjD,GAAI,EAAa,GAAG,CAAC,GAAU,OAAO,EAAa,GAAG,CAAC,GACvD,IAAI,EAAY,CAAC,qEAAqE,EAAE,EAAA,CAAS,CAC7F,IACF,EAAY,EAAU,GADT,GACe,CAAC,CAAC,GAAG,EAAE,EAAA,EAAW,EAEhD,IAAM,EAAU,OAAO,KAAK,CAAC,EAAW,CACtC,KAAM,OACN,OAAQ,EAAM,MAAM,AACtB,GAAG,IAAI,CAAC,AAAC,GAAa,EAAS,IAAI,IAAI,IAAI,CAAC,AAAC,IAC3C,IAAqD,EAAc,AAA7D,GAAmE,eAAe,MAAlE,AAAwE,gCAAgB,CAAC,EAAE,CAAE,EAAS,EAAc,CAAC,6BAA6B,EAAE,EAAY,eAAe,CAAC,CAAG,GAAI,EAAO,CAClN,MAAO,GAAM,OAAS,GACtB,SAAU,GAAM,UAAY,SAC5B,EACA,IAA2B,UAAtB,EAAK,YAAY,AACxB,EAEA,OADA,EAAU,GAAG,CAAC,EAAS,GAChB,CACT,GAAG,OAAO,CAAC,IAAM,EAAa,MAAM,CAAC,IAErC,OADA,EAAa,GAAG,CAAC,EAAS,GACnB,CACT","ignoreList":[0]}