module.exports=[20796,a=>{"use strict";var b=a.i(5816),c=a.i(30770);function d(){return e().getCastState()===cast.framework.CastState.CONNECTED}function e(){return window.cast.framework.CastContext.getInstance()}function f(){return e().getCurrentSession()}function g(){return f()?.getSessionObj().media[0]}function h(a){return g()?.media.contentId===a?.src}function i(a){return`Google Cast Error Code: ${a}`}function j(a,b){return(0,c.listenEvent)(e(),a,b)}var k=Object.freeze({__proto__:null,GoogleCastLoader:class{name="google-cast";target;#a;get cast(){return e()}mediaType(){return"video"}canPlay(a){return b.IS_CHROME&&!b.IS_IOS&&(0,b.canGoogleCastSrc)(a)}async prompt(a){let b,e,g;try{b=await this.#b(a),this.#a||(this.#a=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this.#a)),e=a.player.createEvent("google-cast-prompt-open",{trigger:b}),a.player.dispatchEvent(e),this.#c(a,"connecting",e),await this.#d((0,c.peek)(a.$props.googleCast)),a.$state.remotePlaybackInfo.set({deviceName:f()?.getCastDevice().friendlyName}),d()&&this.#c(a,"connected",e)}catch(f){let c=f instanceof Error?f:this.#e((f+"").toUpperCase(),"Prompt failed.");throw g=a.player.createEvent("google-cast-prompt-error",{detail:c,trigger:e??b,cancelable:!0}),a.player.dispatch(g),this.#c(a,d()?"connected":"disconnected",g),c}finally{a.player.dispatch("google-cast-prompt-close",{trigger:g??e??b})}}async load(c){if(b.IS_SERVER)throw Error("[vidstack] can not load google cast provider server-side");if(!this.#a)throw Error("[vidstack] google cast player was not initialized");return new(await a.A(7589)).GoogleCastProvider(this.#a,c)}async #b(a){if(window.cast?.framework)return;let c=a.player.createEvent("google-cast-load-start");a.player.dispatch(c),await (0,b.loadScript)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),await customElements.whenDefined("google-cast-launcher");let d=a.player.createEvent("google-cast-loaded",{trigger:c});if(a.player.dispatch(d),!window.chrome?.cast?.isAvailable)throw this.#e("CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return d}async #d(a){this.#f(a);let b=await this.cast.requestSession();if(b)throw this.#e(b.toUpperCase(),i(b))}#f(a){this.cast?.setOptions({...{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0},...a})}#c(a,b,c){a.notify("remote-playback-change",{type:"google-cast",state:b},c)}#e(a,b){let c=Error(b);return c.code=a,c}}});a.s(["getCastContext",()=>e,"getCastErrorMessage",()=>i,"getCastSession",()=>f,"getCastSessionMedia",()=>g,"hasActiveCastSession",()=>h,"listenCastContextEvent",()=>j,"loader",()=>k])},7589,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_@vidstack_react_prod_chunks_6101b56c._.js"].map(b=>a.l(b))).then(()=>b(55578)))}];

//# sourceMappingURL=node_modules_%40vidstack_react_prod_chunks_6571e304._.js.map