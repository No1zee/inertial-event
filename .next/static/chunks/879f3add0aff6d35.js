(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,388,e=>{"use strict";var t=e.i(43476),r=e.i(68834),s=e.i(79473);let a=(0,r.create)()((0,s.persist)(e=>({user:null,token:null,isAuthenticated:!1,login:(t,r)=>e({user:t,token:r,isAuthenticated:!0}),logout:()=>e({user:null,token:null,isAuthenticated:!1}),updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null}))}),{name:"novastream-auth-storage"}));var i=e.i(18566),l=e.i(71645),n=e.i(22016),o=e=>e instanceof Date,u=e=>null==e,d=e=>!u(e)&&!Array.isArray(e)&&"object"==typeof e&&!o(e),f="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function c(e){let t;if(e instanceof Date)return new Date(e);let r="undefined"!=typeof FileList&&e instanceof FileList;if(f&&(e instanceof Blob||r))return e;let s=Array.isArray(e);if(!s&&!(d(e)&&d(t=e.constructor&&e.constructor.prototype)&&t.hasOwnProperty("isPrototypeOf")))return e;let a=s?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=c(e[t]));return a}var y=e=>void 0===e,m=e=>Array.isArray(e)?e.filter(Boolean):[],h=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),p=(e,t,r)=>{if(!t||!d(e))return r;let s=(/^\w*$/.test(t)?[t]:h(t)).reduce((e,t)=>u(e)?e:e[t],e);return y(s)||s===e?y(e[t])?r:e[t]:s},b=e=>"function"==typeof e,v=(e,t,r)=>{let s=-1,a=/^\w*$/.test(t)?[t]:h(t),i=a.length,l=i-1;for(;++s<i;){let t=a[s],i=r;if(s!==l){let r=e[t];i=d(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};let g="onChange",x="onSubmit",w="maxLength",V="minLength",_="pattern",k="required";l.default.createContext(null).displayName="HookFormControlContext";let F="undefined"!=typeof window?l.default.useLayoutEffect:l.default.useEffect;var A=e=>"string"==typeof e,S=e=>u(e)||"object"!=typeof e;function j(e,t,r=new WeakSet){if(S(e)||S(t))return Object.is(e,t);if(o(e)&&o(t))return Object.is(e.getTime(),t.getTime());let s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;for(let i of(r.add(e),r.add(t),s)){let s=e[i];if(!a.includes(i))return!1;if("ref"!==i){let e=t[i];if(o(s)&&o(e)||d(s)&&d(e)||Array.isArray(s)&&Array.isArray(e)?!j(s,e,r):!Object.is(s,e))return!1}}return!0}l.default.createContext(null).displayName="HookFormContext";var D=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},N=e=>Array.isArray(e)?e:[e],O=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},E=e=>d(e)&&!Object.keys(e).length,C=e=>{if(!f)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},T=e=>C(e)&&e.isConnected;function M(e,t){let r=Array.isArray(t)?t:/^\w*$/.test(t)?[t]:h(t),s=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,s=0;for(;s<r;)e=y(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,i=r[a];return s&&delete s[i],0!==a&&(d(s)&&E(s)||Array.isArray(s)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!y(e[t]))return!1;return!0}(s))&&M(e,r.slice(0,-1)),e}function R(e){return Array.isArray(e)||d(e)&&!(e=>{for(let t in e)if(b(e[t]))return!0;return!1})(e)}function U(e,t={}){for(let r in e){let s=e[r];R(s)?(t[r]=Array.isArray(s)?[]:{},U(s,t[r])):y(s)||(t[r]=!0)}return t}function L(e,t,r){for(let s in r||(r=U(t)),e){let a=e[s];if(R(a))y(t)||S(r[s])?r[s]=U(a,Array.isArray(a)?[]:{}):L(a,u(t)?{}:t[s],r[s]);else{let e=t[s];r[s]=!j(a,e)}}return r}let z={value:!1,isValid:!1},B={value:!0,isValid:!0};var P=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!y(e[0].attributes.value)?y(e[0].value)||""===e[0].value?B:{value:e[0].value,isValid:!0}:B:z}return z},q=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>y(e)?e:t?""===e?NaN:e?+e:e:r&&A(e)?new Date(e):s?s(e):e;let I={isValid:!1,value:null};var W=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,I):I;function $(e){let t=e.ref;return"file"===t.type?t.files:"radio"===t.type?W(e.refs).value:"select-multiple"===t.type?[...t.selectedOptions].map(({value:e})=>e):"checkbox"===t.type?P(e.refs).value:q(y(t.value)?e.ref.value:t.value,e)}var H=e=>y(e)?e:e instanceof RegExp?e.source:d(e)?e.value instanceof RegExp?e.value.source:e.value:e,K=e=>({isOnSubmit:!e||e===x,isOnBlur:"onBlur"===e,isOnChange:e===g,isOnAll:"all"===e,isOnTouch:"onTouched"===e});let Z="AsyncFunction";var G=e=>!!e&&!!e.validate&&!!(b(e.validate)&&e.validate.constructor.name===Z||d(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Z)),J=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let Q=(e,t,r,s)=>{for(let a of r||Object.keys(e)){let r=p(e,a);if(r){let{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!s)return!0;else if(e.ref&&t(e.ref,e.name)&&!s)return!0;else if(Q(i,t))break}else if(d(i)&&Q(i,t))break}}};function X(e,t,r){let s=p(e,r);if(s||/^\w*$/.test(r))return{error:s,name:r};let a=r.split(".");for(;a.length;){let s=a.join("."),i=p(t,s),l=p(e,s);if(i&&!Array.isArray(i)&&r!==s)break;if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var Y=(e,t,r)=>{let s=N(p(e,r));return v(s,"root",t[r]),v(e,r,s),e};function ee(e,t,r="validate"){if(A(e)||Array.isArray(e)&&e.every(A)||"boolean"==typeof e&&!e)return{type:r,message:A(e)?e:"",ref:t}}var et=e=>!d(e)||e instanceof RegExp?{value:e,message:""}:e,er=async(e,t,r,s,a,i)=>{let{ref:l,refs:n,required:o,maxLength:f,minLength:c,min:m,max:h,pattern:v,validate:g,name:x,valueAsNumber:F,mount:S}=e._f,j=p(r,x);if(!S||t.has(x))return{};let N=n?n[0]:l,O=e=>{a&&N.reportValidity&&(N.setCustomValidity("boolean"==typeof e?"":e||""),N.reportValidity())},T={},M="radio"===l.type,R="checkbox"===l.type,U=(F||"file"===l.type)&&y(l.value)&&y(j)||C(l)&&""===l.value||""===j||Array.isArray(j)&&!j.length,L=D.bind(null,x,s,T),z=(e,t,r,s=w,a=V)=>{let i=e?t:r;T[x]={type:e?s:a,message:i,ref:l,...L(e?s:a,i)}};if(i?!Array.isArray(j)||!j.length:o&&(!(M||R)&&(U||u(j))||"boolean"==typeof j&&!j||R&&!P(n).isValid||M&&!W(n).isValid)){let{value:e,message:t}=A(o)?{value:!!o,message:o}:et(o);if(e&&(T[x]={type:k,message:t,ref:N,...L(k,t)},!s))return O(t),T}if(!U&&(!u(m)||!u(h))){let e,t,r=et(h),a=et(m);if(u(j)||isNaN(j)){let s=l.valueAsDate||new Date(j),i=e=>new Date(new Date().toDateString()+" "+e),n="time"==l.type,o="week"==l.type;A(r.value)&&j&&(e=n?i(j)>i(r.value):o?j>r.value:s>new Date(r.value)),A(a.value)&&j&&(t=n?i(j)<i(a.value):o?j<a.value:s<new Date(a.value))}else{let s=l.valueAsNumber||(j?+j:j);u(r.value)||(e=s>r.value),u(a.value)||(t=s<a.value)}if((e||t)&&(z(!!e,r.message,a.message,"max","min"),!s))return O(T[x].message),T}if((f||c)&&!U&&(A(j)||i&&Array.isArray(j))){let e=et(f),t=et(c),r=!u(e.value)&&j.length>+e.value,a=!u(t.value)&&j.length<+t.value;if((r||a)&&(z(r,e.message,t.message),!s))return O(T[x].message),T}if(v&&!U&&A(j)){let{value:e,message:t}=et(v);if(e instanceof RegExp&&!j.match(e)&&(T[x]={type:_,message:t,ref:l,...L(_,t)},!s))return O(t),T}if(g){if(b(g)){let e=ee(await g(j,r),N);if(e&&(T[x]={...e,...L("validate",e.message)},!s))return O(e.message),T}else if(d(g)){let e={};for(let t in g){if(!E(e)&&!s)break;let a=ee(await g[t](j,r),N,t);a&&(e={...a,...L(t,a.message)},O(a.message),s&&(T[x]=e))}if(!E(e)&&(T[x]={ref:N,...e},!s))return T}}return O(!0),T};let es={mode:x,reValidateMode:g,shouldFocusError:!0};var ea=e.i(75254);let ei=(0,ea.default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),el=(0,ea.default)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var en=e.i(29377);function eo(){let e=(0,i.useRouter)(),{login:r}=a(),[s,h]=(0,l.useState)(!1),[g,x]=(0,l.useState)(!1),{register:w,handleSubmit:V,formState:{errors:_}}=function(e={}){let t=l.default.useRef(void 0),r=l.default.useRef(void 0),[s,a]=l.default.useState({isDirty:!1,isValidating:!1,isLoading:b(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:b(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!b(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...a}=function(e={}){let t,r={...es,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:b(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},i=(d(r.defaultValues)||d(r.values))&&c(r.defaultValues||r.values)||{},l=r.shouldUnregister?{}:c(i),n={action:!1,mount:!1,watch:!1,keepIsValid:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g=0,x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={...x},V={...w},_={array:O(),state:O()},k="all"===r.criteriaMode,F=async e=>{if(!n.keepIsValid&&!r.disabled&&(w.isValid||V.isValid||e)){let e;r.resolver?(e=E((await U()).errors),S()):e=await B(a,!0),e!==s.isValid&&_.state.next({isValid:e})}},S=(e,t)=>{!r.disabled&&(w.isValidating||w.validatingFields||V.isValidating||V.validatingFields)&&((e||Array.from(h.mount)).forEach(e=>{e&&(t?v(s.validatingFields,e,t):M(s.validatingFields,e))}),_.state.next({validatingFields:s.validatingFields,isValidating:!E(s.validatingFields)}))},D=(e,t,r,s)=>{let o=p(a,e);if(o){let a=p(l,e,y(r)?p(i,e):r);y(a)||s&&s.defaultChecked||t?v(l,e,t?a:$(o._f)):W(e,a),n.mount&&!n.action&&F()}},R=(e,t,a,l,n)=>{let o=!1,u=!1,d={name:e};if(!r.disabled){if(!a||l){(w.isDirty||V.isDirty)&&(u=s.isDirty,s.isDirty=d.isDirty=P(),o=u!==d.isDirty);let r=j(p(i,e),t);u=!!p(s.dirtyFields,e),r?M(s.dirtyFields,e):v(s.dirtyFields,e,!0),d.dirtyFields=s.dirtyFields,o=o||(w.dirtyFields||V.dirtyFields)&&!r!==u}if(a){let t=p(s.touchedFields,e);t||(v(s.touchedFields,e,a),d.touchedFields=s.touchedFields,o=o||(w.touchedFields||V.touchedFields)&&t!==a)}o&&n&&_.state.next(d)}return o?d:{}},U=async e=>(S(e,!0),await r.resolver(l,r.context,((e,t,r,s)=>{let a={};for(let r of e){let e=p(t,r);e&&v(a,r,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||h.mount,a,r.criteriaMode,r.shouldUseNativeValidation))),z=async e=>{let{errors:t}=await U(e);if(S(e),e)for(let r of e){let e=p(t,r);e?v(s.errors,r,e):M(s.errors,r)}else s.errors=t;return t},B=async(t,a,i={valid:!0})=>{for(let n in t){let o=t[n];if(o){let{_f:t,...n}=o;if(t){let n=h.array.has(t.name),u=o._f&&G(o._f);u&&w.validatingFields&&S([t.name],!0);let d=await er(o,h.disabled,l,k,r.shouldUseNativeValidation&&!a,n);if(u&&w.validatingFields&&S([t.name]),d[t.name]&&(i.valid=!1,a||e.shouldUseNativeValidation))break;a||(p(d,t.name)?n?Y(s.errors,d,t.name):v(s.errors,t.name,d[t.name]):M(s.errors,t.name))}E(n)||await B(n,a,i)}}return i.valid},P=(e,t)=>!r.disabled&&(e&&t&&v(l,e,t),!j(el(),i)),I=(e,t,r)=>{var s,a;return s=h,a={...n.mount?l:y(t)?i:A(e)?{[e]:t}:t},A(e)?(r&&s.watch.add(e),p(a,e,t)):Array.isArray(e)?e.map(e=>(r&&s.watch.add(e),p(a,e))):(r&&(s.watchAll=!0),a)},W=(e,t,r={})=>{let s=p(a,e),i=t;if(s){let r=s._f;r&&(r.disabled||v(l,e,q(t,r)),i=C(r.ref)&&u(t)?"":t,"select-multiple"===r.ref.type?[...r.ref.options].forEach(e=>e.selected=i.includes(e.value)):r.refs?"checkbox"===r.ref.type?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(t=>t===e.value):e.checked=i===e.value||!!i)}):r.refs.forEach(e=>e.checked=e.value===i):"file"===r.ref.type?r.ref.value="":(r.ref.value=i,r.ref.type||_.state.next({name:e,values:c(l)})))}(r.shouldDirty||r.shouldTouch)&&R(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ei(e)},Z=(e,t,r)=>{for(let s in t){if(!t.hasOwnProperty(s))return;let i=t[s],l=e+"."+s,n=p(a,l);(h.array.has(e)||d(i)||n&&!n._f)&&!o(i)?Z(l,i,r):W(l,i,r)}},ee=(e,t,r={})=>{let o=p(a,e),d=h.array.has(e),f=c(t);v(l,e,f),d?(_.array.next({name:e,values:c(l)}),(w.isDirty||w.dirtyFields||V.isDirty||V.dirtyFields)&&r.shouldDirty&&_.state.next({name:e,dirtyFields:L(i,l),isDirty:P(e,f)})):!o||o._f||u(f)?W(e,f,r):Z(e,f,r),J(e,h)?_.state.next({...s,name:e,values:c(l)}):_.state.next({name:n.mount?e:void 0,values:c(l)})},et=async e=>{n.mount=!0;let i=e.target,u=i.name,f=!0,y=p(a,u),m=e=>{f=Number.isNaN(e)||o(e)&&isNaN(e.getTime())||j(e,p(l,u,e))},b=K(r.mode),x=K(r.reValidateMode);if(y){let n,o,P,q,I=i.type?$(y._f):d(n=e)&&n.target?"checkbox"===n.target.type?n.target.checked:n.target.value:n,W="blur"===e.type||"focusout"===e.type,H=!((q=y._f).mount&&(q.required||q.min||q.max||q.maxLength||q.minLength||q.pattern||q.validate))&&!r.resolver&&!p(s.errors,u)&&!y._f.deps||(A=W,D=p(s.touchedFields,u),N=s.isSubmitted,O=x,!(C=b).isOnAll&&(!N&&C.isOnTouch?!(D||A):(N?O.isOnBlur:C.isOnBlur)?!A:(N?!O.isOnChange:!C.isOnChange)||A)),K=J(u,h,W);v(l,u,I),W?i&&i.readOnly||(y._f.onBlur&&y._f.onBlur(e),t&&t(0)):y._f.onChange&&y._f.onChange(e);let Z=R(u,I,W),G=!E(Z)||K;if(W||_.state.next({name:u,type:e.type,values:c(l)}),H)return(w.isValid||V.isValid)&&("onBlur"===r.mode?W&&F():W||F()),G&&_.state.next({name:u,...K?{}:Z});if(!W&&K&&_.state.next({...s}),r.resolver){let{errors:e}=await U([u]);if(S([u]),m(I),f){let t=X(s.errors,a,u),r=X(e,a,t.name||u);o=r.error,u=r.name,P=E(e)}}else S([u],!0),o=(await er(y,h.disabled,l,k,r.shouldUseNativeValidation))[u],S([u]),m(I),f&&(o?P=!1:(w.isValid||V.isValid)&&(P=await B(a,!0)));if(f){y._f.deps&&(!Array.isArray(y._f.deps)||y._f.deps.length>0)&&ei(y._f.deps);var A,D,N,O,C,T=u,L=P,z=o;let e=p(s.errors,T),a=(w.isValid||V.isValid)&&"boolean"==typeof L&&s.isValid!==L;if(r.delayError&&z){let e;e=()=>{v(s.errors,T,z),_.state.next({errors:s.errors})},(t=t=>{clearTimeout(g),g=setTimeout(e,t)})(r.delayError)}else clearTimeout(g),t=null,z?v(s.errors,T,z):M(s.errors,T);if((z?!j(e,z):e)||!E(Z)||a){let e={...Z,...a&&"boolean"==typeof L?{isValid:L}:{},errors:s.errors,name:T};s={...s,...e},_.state.next(e)}}}},ea=(e,t)=>{if(p(s.errors,t)&&e.focus)return e.focus(),1},ei=async(e,t={})=>{let i,l,n=N(e);if(r.resolver){let t=await z(y(e)?e:n);i=E(t),l=e?!n.some(e=>p(t,e)):i}else e?((l=(await Promise.all(n.map(async e=>{let t=p(a,e);return await B(t&&t._f?{[e]:t}:t)}))).every(Boolean))||s.isValid)&&F():l=i=await B(a);return _.state.next({...!A(e)||(w.isValid||V.isValid)&&i!==s.isValid?{}:{name:e},...r.resolver||!e?{isValid:i}:{},errors:s.errors}),t.shouldFocus&&!l&&Q(a,ea,e?n:h.mount),l},el=(e,t)=>{let r={...n.mount?l:i};return t&&(r=function e(t,r){let s={};for(let a in t)if(t.hasOwnProperty(a)){let i=t[a],l=r[a];if(i&&d(i)&&l){let t=e(i,l);d(t)&&(s[a]=t)}else t[a]&&(s[a]=l)}return s}(t.dirtyFields?s.dirtyFields:s.touchedFields,r)),y(e)?r:A(e)?p(r,e):e.map(e=>p(r,e))},en=(e,t)=>({invalid:!!p((t||s).errors,e),isDirty:!!p((t||s).dirtyFields,e),error:p((t||s).errors,e),isValidating:!!p(s.validatingFields,e),isTouched:!!p((t||s).touchedFields,e)}),eo=(e,t,r)=>{let i=(p(a,e,{_f:{}})._f||{}).ref,{ref:l,message:n,type:o,...u}=p(s.errors,e)||{};v(s.errors,e,{...u,...t,ref:i}),_.state.next({name:e,errors:s.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},eu=e=>_.state.subscribe({next:t=>{let r,a,n;r=e.name,a=t.name,n=e.exact,(!r||!a||r===a||N(r).some(e=>e&&(n?e===a:e.startsWith(a)||a.startsWith(e))))&&((e,t,r,s)=>{r(e);let{name:a,...i}=e;return E(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!s||"all"))})(t,e.formState||w,eb,e.reRenderRoot)&&e.callback({values:{...l},...s,...t,defaultValues:i})}}).unsubscribe,ed=(e,t={})=>{for(let n of e?N(e):h.mount)h.mount.delete(n),h.array.delete(n),t.keepValue||(M(a,n),M(l,n)),t.keepError||M(s.errors,n),t.keepDirty||M(s.dirtyFields,n),t.keepTouched||M(s.touchedFields,n),t.keepIsValidating||M(s.validatingFields,n),r.shouldUnregister||t.keepDefaultValue||M(i,n);_.state.next({values:c(l)}),_.state.next({...s,...!t.keepDirty?{}:{isDirty:P()}}),t.keepIsValid||F()},ef=({disabled:e,name:t})=>{if("boolean"==typeof e&&n.mount||e||h.disabled.has(t)){let r=h.disabled.has(t);e?h.disabled.add(t):h.disabled.delete(t),!!e!==r&&n.mount&&!n.action&&F()}},ec=(e,t={})=>{let s=p(a,e),l="boolean"==typeof t.disabled||"boolean"==typeof r.disabled;return(v(a,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...t}}),h.mount.add(e),s)?ef({disabled:"boolean"==typeof t.disabled?t.disabled:r.disabled,name:e}):D(e,!0,t.value),{...l?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:H(t.min),max:H(t.max),minLength:H(t.minLength),maxLength:H(t.maxLength),pattern:H(t.pattern)}:{},name:e,onChange:et,onBlur:et,ref:l=>{if(l){let r;ec(e,t),s=p(a,e);let n=y(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,o="radio"===(r=n).type||"checkbox"===r.type,u=s._f.refs||[];(o?u.find(e=>e===n):n===s._f.ref)||(v(a,e,{_f:{...s._f,...o?{refs:[...u.filter(T),n,...Array.isArray(p(i,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),D(e,!1,void 0,n))}else{var o;(s=p(a,e,{}))._f&&(s._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(o=h.array,!o.has(e.substring(0,e.search(/\.\d+(\.|$)/))||e)||!n.action)&&h.unMount.add(e)}}}},ey=()=>r.shouldFocusError&&Q(a,ea,h.mount),em=(e,t)=>async i=>{let n;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let o=c(l);if(_.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await U();S(),s.errors=e,o=c(t)}else await B(a);if(h.disabled.size)for(let e of h.disabled)M(o,e);if(M(s.errors,"root"),E(s.errors)){_.state.next({errors:{}});try{await e(o,i)}catch(e){n=e}}else t&&await t({...s.errors},i),ey(),setTimeout(ey);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:E(s.errors)&&!n,submitCount:s.submitCount+1,errors:s.errors}),n)throw n},eh=(e,t={})=>{let o=e?c(e):i,u=c(o),d=E(e),m=d?i:u;if(t.keepDefaultValues||(i=o),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...h.mount,...Object.keys(L(i,l))]))){let t=p(s.dirtyFields,e),r=p(l,e),a=p(m,e);t&&!y(r)?v(m,e,r):t||y(a)||ee(e,a)}else{if(f&&y(e))for(let e of h.mount){let t=p(a,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(C(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of h.mount)ee(e,p(m,e));else a={}}l=r.shouldUnregister?t.keepDefaultValues?c(i):{}:c(m),_.array.next({values:{...m}}),_.state.next({values:{...m}})}h={mount:t.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},n.mount=!w.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!E(m),n.watch=!!r.shouldUnregister,n.keepIsValid=!!t.keepIsValid,n.action=!1,t.keepErrors||(s.errors={}),_.state.next({submitCount:t.keepSubmitCount?s.submitCount:0,isDirty:!d&&(t.keepDirty?s.isDirty:!!(t.keepDefaultValues&&!j(e,i))),isSubmitted:!!t.keepIsSubmitted&&s.isSubmitted,dirtyFields:d?{}:t.keepDirtyValues?t.keepDefaultValues&&l?L(i,l):s.dirtyFields:t.keepDefaultValues&&e?L(i,e):t.keepDirty?s.dirtyFields:{},touchedFields:t.keepTouched?s.touchedFields:{},errors:t.keepErrors?s.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},ep=(e,t)=>eh(b(e)?e(l):e,{...r.resetOptions,...t}),eb=e=>{s={...s,...e}},ev={control:{register:ec,unregister:ed,getFieldState:en,handleSubmit:em,setError:eo,_subscribe:eu,_runSchema:U,_updateIsValidating:S,_focusError:ey,_getWatch:I,_getDirty:P,_setValid:F,_setFieldArray:(e,t=[],o,u,d=!0,f=!0)=>{if(u&&o&&!r.disabled){if(n.action=!0,f&&Array.isArray(p(a,e))){let t=o(p(a,e),u.argA,u.argB);d&&v(a,e,t)}if(f&&Array.isArray(p(s.errors,e))){let t,r=o(p(s.errors,e),u.argA,u.argB);d&&v(s.errors,e,r),m(p(t=s.errors,e)).length||M(t,e)}if((w.touchedFields||V.touchedFields)&&f&&Array.isArray(p(s.touchedFields,e))){let t=o(p(s.touchedFields,e),u.argA,u.argB);d&&v(s.touchedFields,e,t)}(w.dirtyFields||V.dirtyFields)&&(s.dirtyFields=L(i,l)),_.state.next({name:e,isDirty:P(e,t),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else v(l,e,t)},_setDisabledField:ef,_setErrors:e=>{s.errors=e,_.state.next({errors:s.errors,isValid:!1})},_getFieldArray:e=>m(p(n.mount?l:i,e,r.shouldUnregister?p(i,e,[]):[])),_reset:eh,_resetDefaultValues:()=>b(r.defaultValues)&&r.defaultValues().then(e=>{ep(e,r.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of h.unMount){let t=p(a,e);t&&(t._f.refs?t._f.refs.every(e=>!T(e)):!T(t._f.ref))&&ed(e)}h.unMount=new Set},_disableForm:e=>{"boolean"==typeof e&&(_.state.next({disabled:e}),Q(a,(t,r)=>{let s=p(a,r);s&&(t.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach(t=>{t.disabled=s._f.disabled||e}))},0,!1))},_subjects:_,_proxyFormState:w,get _fields(){return a},get _formValues(){return l},get _state(){return n},set _state(value){n=value},get _defaultValues(){return i},get _names(){return h},set _names(value){h=value},get _formState(){return s},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(n.mount=!0,V={...V,...e.formState},eu({...e,formState:{...x,...e.formState}})),trigger:ei,register:ec,handleSubmit:em,watch:(e,t)=>b(e)?_.state.subscribe({next:r=>"values"in r&&e(I(void 0,t),r)}):I(e,t,!0),setValue:ee,getValues:el,reset:ep,resetField:(e,t={})=>{p(a,e)&&(y(t.defaultValue)?ee(e,c(p(i,e))):(ee(e,t.defaultValue),v(i,e,c(t.defaultValue))),t.keepTouched||M(s.touchedFields,e),t.keepDirty||(M(s.dirtyFields,e),s.isDirty=t.defaultValue?P(e,c(p(i,e))):P()),!t.keepError&&(M(s.errors,e),w.isValid&&F()),_.state.next({...s}))},clearErrors:e=>{e&&N(e).forEach(e=>M(s.errors,e)),_.state.next({errors:e?s.errors:{}})},unregister:ed,setError:eo,setFocus:(e,t={})=>{let r=p(a,e),s=r&&r._f;if(s){let e=s.refs?s.refs[0]:s.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&b(e.select)&&e.select()})}},getFieldState:en};return{...ev,formControl:ev}}(e);t.current={...a,formState:s}}let i=t.current.control;return i._options=e,F(()=>{let e=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(e=>({...e,isReady:!0})),i._formState.isReady=!0,e},[i]),l.default.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),l.default.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),l.default.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),l.default.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),l.default.useEffect(()=>{if(i._proxyFormState.isDirty){let e=i._getDirty();e!==s.isDirty&&i._subjects.state.next({isDirty:e})}},[i,s.isDirty]),l.default.useEffect(()=>{var t;e.values&&!j(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),(null==(t=i._options.resetOptions)?void 0:t.keepIsValid)||i._setValid(),r.current=e.values,a(e=>({...e}))):i._resetDefaultValues()},[i,e.values]),l.default.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=l.default.useMemo(()=>((e,t,r,s=!0)=>{let a={defaultValues:t._defaultValues};for(let r in e)Object.defineProperty(a,r,{get:()=>("all"!==t._proxyFormState[r]&&(t._proxyFormState[r]=!s||"all"),e[r])});return a})(s,i),[i,s]),t.current}(),k=async t=>{h(!0),setTimeout(()=>{r({id:"1",username:"Demo User",email:t.email,role:"user",avatar:"https://github.com/shadcn.png"},"fake-jwt-token"),h(!1),e.push("/")},1500)};return(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8 animate-in fade-in zoom-in duration-500",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-red-600 rounded-xl flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("span",{className:"font-bold text-white text-xl",children:"N"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Welcome back"}),(0,t.jsx)("p",{className:"text-zinc-400",children:"Enter your credentials to access your library"})]}),(0,t.jsxs)("form",{onSubmit:V(k),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-300",children:"Email"}),(0,t.jsx)("input",{...w("email",{required:!0}),type:"email",className:"w-full bg-zinc-900 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-transparent transition-all",placeholder:"name@example.com"}),_.email&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Email is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-300",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{...w("password",{required:!0}),type:g?"text":"password",className:"w-full bg-zinc-900 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-transparent transition-all pr-10",placeholder:"••••••••"}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-white transition-colors",children:g?(0,t.jsx)(el,{size:18}):(0,t.jsx)(ei,{size:18})})]}),_.password&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Password is required"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded border-zinc-700 bg-zinc-900 text-red-600 focus:ring-red-600"}),(0,t.jsx)("span",{className:"text-zinc-400",children:"Remember me"})]}),(0,t.jsx)(n.default,{href:"/forgot-password",className:"text-red-500 hover:text-red-400 font-medium",children:"Forgot password?"})]}),(0,t.jsxs)("button",{disabled:s,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3.5 rounded-lg transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&(0,t.jsx)(en.Loader2,{size:18,className:"animate-spin"}),s?"Signing in...":"Sign in"]})]}),(0,t.jsxs)("p",{className:"text-center text-sm text-zinc-500",children:["Don't have an account?"," ",(0,t.jsx)(n.default,{href:"/register",className:"text-white hover:underline underline-offset-4",children:"Sign up"})]})]})})}e.s(["default",()=>eo],388)}]);