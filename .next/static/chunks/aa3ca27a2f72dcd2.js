(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24161,e=>{"use strict";var t=e.i(21440),a=e.i(2316);function r(){return o().getCastState()===cast.framework.CastState.CONNECTED}function o(){return window.cast.framework.CastContext.getInstance()}function s(){return o().getCurrentSession()}function n(){return s()?.getSessionObj().media[0]}function i(e){return n()?.media.contentId===e?.src}function c(e){return`Google Cast Error Code: ${e}`}function l(e,t){return(0,a.listenEvent)(o(),e,t)}var g=Object.freeze({__proto__:null,GoogleCastLoader:class{name="google-cast";target;#e;get cast(){return o()}mediaType(){return"video"}canPlay(e){return t.IS_CHROME&&!t.IS_IOS&&(0,t.canGoogleCastSrc)(e)}async prompt(e){let t,o,n;try{t=await this.#t(e),this.#e||(this.#e=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this.#e)),o=e.player.createEvent("google-cast-prompt-open",{trigger:t}),e.player.dispatchEvent(o),this.#a(e,"connecting",o),await this.#r((0,a.peek)(e.$props.googleCast)),e.$state.remotePlaybackInfo.set({deviceName:s()?.getCastDevice().friendlyName}),r()&&this.#a(e,"connected",o)}catch(s){let a=s instanceof Error?s:this.#o((s+"").toUpperCase(),"Prompt failed.");throw n=e.player.createEvent("google-cast-prompt-error",{detail:a,trigger:o??t,cancelable:!0}),e.player.dispatch(n),this.#a(e,r()?"connected":"disconnected",n),a}finally{e.player.dispatch("google-cast-prompt-close",{trigger:n??o??t})}}async load(a){if(t.IS_SERVER)throw Error("[vidstack] can not load google cast provider server-side");if(!this.#e)throw Error("[vidstack] google cast player was not initialized");return new(await e.A(66040)).GoogleCastProvider(this.#e,a)}async #t(e){if(window.cast?.framework)return;let a=e.player.createEvent("google-cast-load-start");e.player.dispatch(a),await (0,t.loadScript)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),await customElements.whenDefined("google-cast-launcher");let r=e.player.createEvent("google-cast-loaded",{trigger:a});if(e.player.dispatch(r),!window.chrome?.cast?.isAvailable)throw this.#o("CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return r}async #r(e){this.#s(e);let t=await this.cast.requestSession();if(t)throw this.#o(t.toUpperCase(),c(t))}#s(e){this.cast?.setOptions({...{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0},...e})}#a(e,t,a){e.notify("remote-playback-change",{type:"google-cast",state:t},a)}#o(e,t){let a=Error(t);return a.code=e,a}}});e.s(["getCastContext",()=>o,"getCastErrorMessage",()=>c,"getCastSession",()=>s,"getCastSessionMedia",()=>n,"hasActiveCastSession",()=>i,"listenCastContextEvent",()=>l,"loader",()=>g])},66040,e=>{e.v(t=>Promise.all(["static/chunks/1deda875182a4d4f.js"].map(t=>e.l(t))).then(()=>t(7350)))}]);