(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31343,e=>{"use strict";let t=(0,e.i(75254).default)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);e.s(["Play",()=>t],31343)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},16137,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),i=e.i(27025);let s=(0,e.i(75254).default)("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);var l=e.i(15186),o=e.i(71689),a=e.i(31343),c=e.i(75157),n=e.i(18566);function d(){let e=(0,n.useRouter)(),[d,h]=(0,r.useState)("/"),[p,x]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),[y,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{b(d)},[]);let b=async e=>{m(!0),g(null);try{let t=encodeURIComponent(e),r=await fetch(`http://localhost:5000/api/tunnel/list?path=${t}`);if(!r.ok)throw Error("Failed to load directory");let i=await r.json(),s=(i.files||[]).sort((e,t)=>e.isDirectory===t.isDirectory?e.name.localeCompare(t.name):e.isDirectory?-1:1);x(s),h(i.path)}catch(e){g(e.message)}finally{m(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-zinc-900 p-4 rounded-xl border border-white/5",children:[(0,t.jsx)("button",{onClick:()=>{let e=d.includes("\\")?"\\":"/",t=d.split(e);t.pop(),b(t.join(e)||e)},disabled:u,className:"p-2 hover:bg-white/10 rounded-full transition-colors disabled:opacity-50",children:(0,t.jsx)(o.ArrowLeft,{size:20})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide flex-1 font-mono text-sm text-zinc-400",children:[(0,t.jsx)(l.Home,{size:16,className:"shrink-0"}),(0,t.jsx)("span",{className:"text-zinc-600",children:"/"}),(0,t.jsx)("span",{className:"text-white whitespace-nowrap",children:d})]})]}),y&&(0,t.jsxs)("div",{className:"p-4 bg-red-500/10 text-red-500 rounded-xl border border-red-500/20",children:["Error: ",y]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[p.map(r=>(0,t.jsxs)("div",{onClick:()=>{let t;return r.isDirectory?void b(r.path):(t=encodeURIComponent(r.path),void e.push(`/watch/local?path=${t}&name=${encodeURIComponent(r.name)}`))},className:(0,c.cn)("group flex items-center gap-3 p-3 rounded-lg border border-white/5 transition-all cursor-pointer",r.isDirectory?"bg-zinc-900/50 hover:bg-zinc-800 hover:border-white/10":"bg-zinc-950 hover:bg-zinc-900 hover:border-red-500/20"),children:[(0,t.jsx)("div",{className:(0,c.cn)("w-10 h-10 rounded-lg flex items-center justify-center shrink-0 transition-colors",r.isDirectory?"bg-blue-500/10 text-blue-500 group-hover:bg-blue-500/20":"bg-red-500/10 text-red-500 group-hover:bg-red-500/20"),children:r.isDirectory?(0,t.jsx)(i.Folder,{size:20}):(0,t.jsx)(s,{size:20})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-white truncate group-hover:text-red-500 transition-colors",children:r.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 truncate",children:r.isDirectory?"Folder":"Media File"})]}),!r.isDirectory&&(0,t.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(a.Play,{size:16,className:"text-white fill-current"})})]},r.path)),0===p.length&&!u&&!y&&(0,t.jsx)("div",{className:"col-span-full py-12 text-center text-zinc-500",children:"This folder is empty."})]})]})}e.s(["FileExplorer",()=>d],16137)}]);