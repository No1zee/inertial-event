(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78082,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(18566),l=e.i(71689),r=e.i(29377),s=e.i(75254);let i=(0,s.default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var o=e.i(25491);class c{consumetAPI="https://api.consumet.org";cache=new Map;async getSources(e,t,a){try{console.log(`[SourceProvider] Fetching: /api/sources?id=${e}&type=${t}&title=${a}`);let n=await fetch(`/api/sources?id=${e}&type=${t}&title=${encodeURIComponent(a)}`);if(!n.ok)return console.error("[SourceProvider] API error:",n.status,n.statusText),[];let l=await n.json();return console.log("[SourceProvider] Raw API Data:",l),l.sources||[]}catch(e){return console.error("Source fetch error:",e),[]}}async getAllSources(e){let t=`${e.type}:${e.id}`;if(this.cache.has(t))return this.cache.get(t);let a=new Map,n=await this.getSources(e.id,e.type,e.title);if(n.length>0){let e=n.filter(e=>"hls"===e.type||"embed"===e.type),t=n.filter(e=>"torrent"===e.type||"mp4"===e.type);e.length>0&&a.set("vidlink",e),t.length>0&&a.set("torrent",t)}return this.cache.set(t,a),a}clearCache(){this.cache.clear()}}let u=new c;var d=e.i(21440),m=e.i(2316),p=e.i(74080);function f(){return(0,m.useReactContext)(d.mediaContext)}let v=(0,m.createReactComponent)(d.AirPlayButtonInstance,{domEventsRegex:/^onMedia/}),E=a.forwardRef(({children:e,...t},n)=>a.createElement(v,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));E.displayName="AirPlayButton";let h=(0,m.createReactComponent)(d.PlayButtonInstance,{domEventsRegex:/^onMedia/}),g=a.forwardRef(({children:e,...t},n)=>a.createElement(h,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));g.displayName="PlayButton";let y=(0,m.createReactComponent)(d.CaptionButtonInstance,{domEventsRegex:/^onMedia/}),w=a.forwardRef(({children:e,...t},n)=>a.createElement(y,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));w.displayName="CaptionButton";let b=(0,m.createReactComponent)(d.FullscreenButtonInstance,{domEventsRegex:/^onMedia/}),x=a.forwardRef(({children:e,...t},n)=>a.createElement(b,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));x.displayName="FullscreenButton";let N=(0,m.createReactComponent)(d.MuteButtonInstance,{domEventsRegex:/^onMedia/}),S=a.forwardRef(({children:e,...t},n)=>a.createElement(N,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));S.displayName="MuteButton";let C=(0,m.createReactComponent)(d.PIPButtonInstance,{domEventsRegex:/^onMedia/}),k=a.forwardRef(({children:e,...t},n)=>a.createElement(C,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));k.displayName="PIPButton";let M=(0,m.createReactComponent)(d.SeekButtonInstance,{domEventsRegex:/^onMedia/}),I=a.forwardRef(({children:e,...t},n)=>a.createElement(M,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));I.displayName="SeekButton";let P=(0,m.createReactComponent)(d.LiveButtonInstance,{domEventsRegex:/^onMedia/}),R=a.forwardRef(({children:e,...t},n)=>a.createElement(P,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));R.displayName="LiveButton";let D=["onDragStart","onDragEnd","onDragValueChange","onValueChange","onPointerValueChange"],T=(0,m.createReactComponent)(d.SliderValueInstance),A=(0,m.createReactComponent)(d.SliderInstance,{events:D}),_=a.forwardRef(({children:e,...t},n)=>a.createElement(A,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));_.displayName="Slider";let j=a.forwardRef((e,t)=>a.createElement(d.Primitive.div,{...e,ref:t}));j.displayName="SliderThumb";let G=a.forwardRef((e,t)=>a.createElement(d.Primitive.div,{...e,ref:t}));G.displayName="SliderTrack";let $=a.forwardRef((e,t)=>a.createElement(d.Primitive.div,{...e,ref:t}));$.displayName="SliderTrackFill";let B=(0,m.createReactComponent)(d.SliderPreviewInstance),O=a.forwardRef(({children:e,...t},n)=>a.createElement(B,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));O.displayName="SliderPreview";let V=a.forwardRef(({children:e,...t},n)=>a.createElement(T,{...t},(t,l)=>{let r=(0,m.useSignal)(()=>l.getValueText(),l);return a.createElement(d.Primitive.div,{...t,ref:n},r,e)}));V.displayName="SliderValue";let L=a.forwardRef(({children:e,...t},n)=>{let l=(0,d.useSliderState)("min"),r=(0,d.useSliderState)("max"),s=(0,d.useSliderState)("step");return a.createElement(d.Primitive.div,{...t,ref:n},Array.from({length:Math.floor((r-l)/s)+1}).map((t,a)=>e(a)))});L.displayName="SliderSteps";let F=(0,m.createReactComponent)(d.VolumeSliderInstance,{events:D,domEventsRegex:/^onMedia/}),U=a.forwardRef(({children:e,...t},n)=>a.createElement(F,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));U.displayName="VolumeSlider";let z=(0,m.createReactComponent)(d.ThumbnailInstance),K=a.forwardRef(({children:e,...t},n)=>a.createElement(z,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));K.displayName="Thumbnail";let W=a.forwardRef(({children:e,...t},n)=>{let{src:l,img:r,crossOrigin:s}=(0,m.useStateContext)(d.ThumbnailInstance.state),i=(0,m.useSignal)(l),o=(0,m.useSignal)(s);return a.createElement(d.Primitive.img,{crossOrigin:o,...t,src:i||void 0,ref:(0,m.composeRefs)(r.set,n)},e)});W.displayName="ThumbnailImg";let Q=a.createContext({$chapters:(0,m.signal)(null)});Q.displayName="TimeSliderContext";let q=(0,m.createReactComponent)(d.TimeSliderInstance,{events:D,domEventsRegex:/^onMedia/}),H=a.forwardRef(({children:e,...t},n)=>{let l=a.useMemo(()=>(0,m.signal)(null),[]);return a.createElement(Q.Provider,{value:{$chapters:l}},a.createElement(q,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)))});H.displayName="TimeSlider";let Y=(0,m.createReactComponent)(d.SliderChaptersInstance),J=a.forwardRef(({children:e,...t},n)=>a.createElement(Y,{...t},(t,l)=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},a.createElement(X,{instance:l},e))));function X({instance:e,children:t}){let n=(0,m.useSignal)(()=>e.cues,e),l=a.useRef([]),r=a.useRef(null),{$chapters:s}=a.useContext(Q);return r.current||(r.current=function(e=0,t=0,a=""){return d.IS_SERVER?{startTime:e,endTime:t,text:a,addEventListener:m.noop,removeEventListener:m.noop,dispatchEvent:m.noop}:new window.VTTCue(e,t,a)}()),a.useEffect(()=>(s.set(e),()=>void s.set(null)),[e]),a.useEffect(()=>{e.setRefs(l.current)},[n]),t(n.length?n:[r.current],e=>{if(!e){l.current.length=0;return}l.current.push(e)})}J.displayName="SliderChapters",X.displayName="SliderChapterTracks";let Z=a.forwardRef(({children:e,...t},n)=>{let{$chapters:l}=a.useContext(Q),[r,s]=a.useState();return a.useEffect(()=>(0,m.effect)(()=>{let e=l(),t=e?.activePointerCue||e?.activeCue;s(t?.text||"")}),[]),a.createElement(d.Primitive.div,{...t,ref:n},r,e)});Z.displayName="SliderChapterTitle";let ee=a.forwardRef((e,t)=>a.createElement(d.Primitive.div,{...e,ref:t}));ee.displayName="SliderProgress";let et=(0,m.createReactComponent)(d.SliderThumbnailInstance),ea=a.forwardRef(({children:e,...t},n)=>a.createElement(et,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));ea.displayName="SliderThumbnail";let en=(0,m.createReactComponent)(d.SliderVideoInstance,{events:["onCanPlay","onError"]});a.forwardRef(({children:e,...t},n)=>a.createElement(en,{...t},(t,l)=>a.createElement(el,{...t,instance:l,ref:(0,m.composeRefs)(t.ref,n)},e))).displayName="SliderVideo";let el=a.forwardRef(({instance:e,children:t,...n},l)=>{let{canLoad:r}=(0,m.useStateContext)(d.mediaState),{src:s,video:i,crossOrigin:o}=e.$state,c=(0,m.useSignal)(s),u=(0,m.useSignal)(r),p=(0,m.useSignal)(o);return a.createElement(d.Primitive.video,{style:{maxWidth:"unset"},...n,src:c||void 0,muted:!0,playsInline:!0,preload:u?"auto":"none",crossOrigin:p||void 0,ref:(0,m.composeRefs)(i.set,l)},t)});el.displayName="SliderVideoProvider";let er=(0,m.createReactComponent)(d.RadioGroupInstance,{events:["onChange"]}),es=a.forwardRef(({children:e,...t},n)=>a.createElement(er,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));es.displayName="RadioGroup";let ei=(0,m.createReactComponent)(d.RadioInstance,{events:["onChange","onSelect"]}),eo=a.forwardRef(({children:e,...t},n)=>a.createElement(ei,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));eo.displayName="RadioItem";let ec=(0,m.createReactComponent)(d.MenuInstance,{events:["onOpen","onClose"],domEventsRegex:/^onMedia/}),eu=a.forwardRef(({children:e,...t},n)=>a.createElement(ec,{...t,ref:n},(t,n)=>a.createElement(d.Primitive.div,{...t,style:{display:n.isSubmenu?void 0:"contents",...t.style}},e)));eu.displayName="Menu";let ed=(0,m.createReactComponent)(d.MenuButtonInstance,{events:["onSelect"]}),em=a.forwardRef(({children:e,...t},n)=>a.createElement(ed,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));em.displayName="MenuButton";let ep=a.forwardRef(({container:e=null,disabled:t=!1,children:n,...l},r)=>{let s=(0,d.useMediaState)("fullscreen"),i=a.useMemo(()=>d.IS_SERVER?null:((0,m.isString)(e)?document.querySelector(e):e)??document.body,[e]);return!i||("fullscreen"===t?s:t)?n:(0,p.createPortal)(a.createElement(d.Primitive.div,{...l,style:{display:"contents",...l.style},ref:r},n),i)});ep.displayName="MenuPortal";let ef=(0,m.createReactComponent)(d.MenuItemsInstance),ev=a.forwardRef(({children:e,...t},n)=>a.createElement(ef,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));ev.displayName="MenuItems";let eE=(0,m.createReactComponent)(d.MenuItemInstance);a.forwardRef(({children:e,...t},n)=>a.createElement(eE,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e))).displayName="MenuItem";let eh=(0,m.createReactComponent)(d.GestureInstance,{events:["onWillTrigger","onTrigger"]}),eg=a.forwardRef(({children:e,...t},n)=>a.createElement(eh,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));eg.displayName="Gesture";let ey=(0,m.createReactComponent)(d.TimeInstance),ew=a.forwardRef(({children:e,...t},n)=>a.createElement(ey,{...t},(t,l)=>a.createElement(eb,{...t,instance:l,ref:(0,m.composeRefs)(t.ref,n)},e)));ew.displayName="Time";let eb=a.forwardRef(({instance:e,children:t,...n},l)=>{let{timeText:r}=e.$state,s=(0,m.useSignal)(r);return a.createElement(d.Primitive.div,{...n,ref:l},s,t)});function ex(){let e=f();return e?.player||null}function eN(e){return e.label.toLowerCase()}function eS(e){return e.id+":"+e.kind+"-"+e.label.toLowerCase()}eb.displayName="TimeText";let eC=(0,m.createReactComponent)(d.MediaAnnouncerInstance,{events:["onChange"]}),ek=a.forwardRef(({style:e,children:t,...n},l)=>a.createElement(eC,{...n},n=>a.createElement(d.Primitive.div,{...n,style:{display:"contents",...e},ref:(0,m.composeRefs)(n.ref,l)},t)));ek.displayName="MediaAnnouncer";let eM=(0,m.createReactComponent)(d.ControlsInstance),eI=a.forwardRef(({children:e,...t},n)=>a.createElement(eM,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));eI.displayName="Controls";let eP=(0,m.createReactComponent)(d.ControlsGroupInstance),eR=a.forwardRef(({children:e,...t},n)=>a.createElement(eP,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));eR.displayName="ControlsGroup";let eD=(0,m.createReactComponent)(d.TooltipInstance);function eT({children:e,...t}){return a.createElement(eD,{...t},e)}eT.displayName="Tooltip";let eA=(0,m.createReactComponent)(d.TooltipTriggerInstance),e_=a.forwardRef(({children:e,...t},n)=>a.createElement(eA,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));e_.displayName="TooltipTrigger";let ej=(0,m.createReactComponent)(d.TooltipContentInstance),eG=a.forwardRef(({children:e,...t},n)=>a.createElement(ej,{...t},t=>a.createElement(d.Primitive.div,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));eG.displayName="TooltipContent";let e$=(0,m.createReactComponent)(d.GoogleCastButtonInstance,{domEventsRegex:/^onMedia/}),eB=a.forwardRef(({children:e,...t},n)=>a.createElement(e$,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e)));eB.displayName="GoogleCastButton";let eO=(0,m.createReactComponent)(d.QualitySliderInstance,{events:D,domEventsRegex:/^onMedia/}),eV=a.forwardRef(({children:e,...t},n)=>a.createElement(eO,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));eV.displayName="QualitySlider";let eL=(0,m.createReactComponent)(d.AudioGainSliderInstance,{events:D,domEventsRegex:/^onMedia/}),eF=a.forwardRef(({children:e,...t},n)=>a.createElement(eL,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));eF.displayName="AudioGainSlider";let eU=(0,m.createReactComponent)(d.SpeedSliderInstance,{events:D,domEventsRegex:/^onMedia/}),ez=a.forwardRef(({children:e,...t},n)=>a.createElement(eU,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));ez.displayName="SpeedSlider";let eK=a.forwardRef(({children:e,...t},n)=>{let l=(0,d.useMediaState)("title");return a.createElement(d.Primitive.span,{...t,ref:n},l,e)});function eW(e){let[t,n]=a.useState([]);return a.useEffect(()=>{if(!e)return void n([]);function t(){e&&n(e.activeCues)}return t(),(0,m.listenEvent)(e,"cue-change",t)},[e]),t}function eQ(e){let t=f(),[n,l]=a.useState(null);return a.useEffect(()=>(0,d.watchActiveTextTrack)(t.textTracks,e,l),[e]),n}function eq(){let e=eW(eQ("chapters"));return e[0]?.text||""}eK.displayName="Title";let eH=a.forwardRef(({defaultText:e="",children:t,...n},l)=>{let r=eq();return a.createElement(d.Primitive.span,{...n,ref:l},r||e,t)});eH.displayName="ChapterTitle";let eY=(0,m.createReactComponent)(d.CaptionsInstance),eJ=a.forwardRef(({children:e,...t},n)=>a.createElement(eY,{...t,ref:n},t=>a.createElement(d.Primitive.div,{...t},e)));eJ.displayName="Captions";let eX=a.forwardRef(({size:e=96,children:t,...n},l)=>a.createElement("svg",{width:e,height:e,fill:"none",viewBox:"0 0 120 120","aria-hidden":"true","data-part":"root",...n,ref:l},t)),eZ=a.forwardRef(({width:e=8,children:t,...n},l)=>a.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:e,"data-part":"track",...n,ref:l},t)),e0=a.forwardRef(({width:e=8,fillPercent:t=50,children:n,...l},r)=>a.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",pathLength:"100",strokeWidth:e,strokeDasharray:100,strokeDashoffset:100-t,"data-part":"track-fill",...l,ref:r},n));function e1(e,t=[]){let n=(0,m.useReactScope)();return a.useMemo(()=>(0,m.scoped)(()=>(0,m.signal)(e),n),[n,...t])}function e2(e,t=[]){let n=(0,m.useReactScope)();return a.useMemo(()=>(0,m.scoped)(()=>(0,m.computed)(e),n),[n,...t])}let e3=a.forwardRef((e,t)=>{let{width:n,height:l,size:r=null,paths:s,...i}=e;return a.createElement("svg",{viewBox:"0 0 32 32",...i,width:n??r,height:l??r,fill:"none","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",ref:t,dangerouslySetInnerHTML:{__html:s}})});e3.displayName="VidstackIcon";let e4=Symbol(0);class e5{constructor(e,t,a,n,l){this.logger=e,this.level=t,this.title=a,this.root=n,this.parent=l}[e4]=!0;logs=[];log(...e){return this.logs.push({data:e}),this}labelledLog(e,...t){return this.logs.push({label:e,data:t}),this}groupStart(e){return new e5(this.logger,this.level,e,this.root??this,this)}groupEnd(){return this.parent?.logs.push(this),this.parent??this}dispatch(){return this.logger.dispatch(this.level,this.root??this)}}let e6=[1,1.25,1.5,1.75,2,2.5,3,4];class e8 extends m.Component{static props={normalLabel:"Disabled",gains:e6};#e;#t;#a;get value(){return this.#a.value}get disabled(){let{gains:e}=this.$props,{canSetAudioGain:t}=this.#e.$state;return!t()||0===e().length}constructor(){super(),this.#a=new d.RadioGroupController,this.#a.onValueChange=this.#n.bind(this)}onSetup(){this.#e=(0,d.useMediaContext)(),(0,m.hasProvidedContext)(d.menuContext)&&(this.#t=(0,m.useContext)(d.menuContext))}onConnect(e){(0,m.effect)(this.#l.bind(this)),(0,m.effect)(this.#r.bind(this)),(0,m.effect)(this.#s.bind(this))}getOptions(){let{gains:e,normalLabel:t}=this.$props;return e().map(e=>({label:1===e||null===e?t:String(100*e)+"%",value:e.toString()}))}#l(){this.#a.value=this.#i()}#r(){let{normalLabel:e}=this.$props,{audioGain:t}=this.#e.$state,a=t();this.#t?.hint.set(1===a||null==a?e():String(100*a)+"%")}#s(){this.#t?.disable(this.disabled)}#i(){let{audioGain:e}=this.#e.$state;return e()?.toString()??"1"}#n(e,t){if(this.disabled)return;let a=+e;this.#e.remote.changeAudioGain(a,t),this.dispatch("change",{detail:a,trigger:t})}}let e7=e8.prototype;(0,m.prop)(e7,"value"),(0,m.prop)(e7,"disabled"),(0,m.method)(e7,"getOptions");let e9=(0,m.createReactComponent)(d.MediaPlayerInstance,{events:["onAbort","onAudioTrackChange","onAudioTracksChange","onAutoPlay","onAutoPlayChange","onAutoPlayFail","onCanLoad","onCanPlay","onCanPlayThrough","onControlsChange","onDestroy","onDurationChange","onEmptied","onEnd","onEnded","onError","onFindMediaPlayer","onFullscreenChange","onFullscreenError","onLiveChange","onLiveEdgeChange","onLoadedData","onLoadedMetadata","onLoadStart","onLoopChange","onOrientationChange","onPause","onPictureInPictureChange","onPictureInPictureError","onPlay","onPlayFail","onPlaying","onPlaysInlineChange","onPosterChange","onProgress","onProviderChange","onProviderLoaderChange","onProviderSetup","onQualitiesChange","onQualityChange","onRateChange","onReplay","onSeeked","onSeeking","onSourceChange","onSourceChange","onStalled","onStarted","onStreamTypeChange","onSuspend","onTextTrackChange","onTextTracksChange","onTimeUpdate","onTitleChange","onVdsLog","onVideoPresentationChange","onVolumeChange","onWaiting"],eventsRegex:/^onHls/,domEventsRegex:/^onMedia/}),te=a.forwardRef(({aspectRatio:e,children:t,...n},l)=>a.createElement(e9,{...n,src:n.src,ref:l,style:{aspectRatio:e,...n.style}},e=>a.createElement(d.Primitive.div,{...e},t)));te.displayName="MediaPlayer";let tt=(0,m.createReactComponent)(d.MediaProviderInstance),ta=a.forwardRef(({loaders:e=[],children:t,iframeProps:n,mediaProps:l,...r},s)=>{let i=a.useMemo(()=>e.map(e=>new e),e);return a.createElement(tt,{...r,loaders:i,ref:s},(e,r)=>a.createElement("div",{...e},a.createElement(tn,{provider:r,mediaProps:l,iframeProps:n}),t))});function tn({provider:t,mediaProps:n,iframeProps:l}){let{sources:r,crossOrigin:s,poster:i,remotePlaybackInfo:o,nativeControls:c,viewType:u}=(0,m.useStateContext)(d.mediaState),{loader:p}=t.$state,{$provider:v,$providerSetup:E}=f(),h=(0,m.useSignal)(r),g=(0,m.useSignal)(c),y=(0,m.useSignal)(s),w=(0,m.useSignal)(i),b=(0,m.useSignal)(p),x=(0,m.useSignal)(v),N=(0,m.useSignal)(E),S=(0,m.useSignal)(o),C=b?.mediaType(),k=(0,m.useSignal)(u),M=b?.name==="youtube",I=b?.name==="vimeo",P=b?.name==="remotion",R=b?.name==="google-cast",[D,T]=a.useState(""),[A,_]=a.useState(!1);return(a.useEffect(()=>{R&&!D&&e.A(88096).then(function(e){return e.chromecast}).then(e=>{T(e.default)})},[R]),a.useEffect(()=>{_(!0)},[]),R)?a.createElement("div",{className:"vds-google-cast",ref:e=>{t.load(e)}},a.createElement(e3,{paths:D}),S?.deviceName?a.createElement("span",{className:"vds-google-cast-info"},"Google Cast on"," ",a.createElement("span",{className:"vds-google-cast-device-name"},S.deviceName)):null):P?a.createElement("div",{"data-remotion-canvas":!0},a.createElement("div",{"data-remotion-container":!0,ref:e=>{t.load(e)}},(0,d.isRemotionProvider)(x)&&N?a.createElement(x.render):null)):M||I?a.createElement(a.Fragment,null,a.createElement("iframe",{...l,className:(l?.className?`${l.className} `:"")+M?"vds-youtube":"vds-vimeo",suppressHydrationWarning:!0,tabIndex:g?void 0:-1,"aria-hidden":"true","data-no-controls":g?void 0:"",ref(e){t.load(e)}}),g||"audio"===k?null:a.createElement("div",{className:"vds-blocker"})):C?a.createElement("audio"===C?"audio":"video",{...n,controls:!!g||null,crossOrigin:"boolean"==typeof y?"":y,poster:"video"===C&&g&&w?w:null,suppressHydrationWarning:!0,children:A?null:h.map(({src:e,type:t})=>(0,m.isString)(e)?a.createElement("source",{src:e,type:"?"!==t?t:void 0,key:e}):null),ref(e){t.load(e)}}):null}function tl({lang:e,...t}){var n;let l,r;return n={language:e,...t},l=f(),r=a.useMemo(()=>new d.TextTrack(n),Object.values(n)),a.useEffect(()=>(l.textTracks.add(r),()=>void l.textTracks.remove(r)),[r]),null}ta.displayName="MediaProvider",tn.displayName="MediaOutlet",tl.displayName="Track";let tr=(0,m.createReactComponent)(d.ToggleButtonInstance);a.forwardRef(({children:e,...t},n)=>a.createElement(tr,{...t},t=>a.createElement(d.Primitive.button,{...t,ref:(0,m.composeRefs)(t.ref,n)},e))).displayName="ToggleButton";let ts=(0,m.createReactComponent)(d.PosterInstance),ti=a.forwardRef(({children:e,...t},n)=>a.createElement(ts,{src:t.asChild&&a.isValidElement(e)?e.props.src:void 0,...t},(t,l)=>a.createElement(to,{...t,instance:l,ref:(0,m.composeRefs)(t.ref,n)},e)));ti.displayName="Poster";let to=a.forwardRef(({instance:e,children:t,...n},l)=>{let{src:r,img:s,alt:i,crossOrigin:o,hidden:c}=e.$state,u=(0,m.useSignal)(r),p=(0,m.useSignal)(i),f=(0,m.useSignal)(o),v=(0,m.useSignal)(c);return a.createElement(d.Primitive.img,{...n,src:u||void 0,alt:p||void 0,crossOrigin:f||void 0,ref:(0,m.composeRefs)(s.set,l),style:{display:v?"none":void 0}},t)});function tc(e,t){a.useEffect(()=>{if(!e)return;t();let a=new ResizeObserver((0,m.animationFrameThrottle)(t));return a.observe(e),()=>a.disconnect()},[e,t])}function tu(e){let t=ex();a.useEffect(()=>{if(t)return(0,m.effect)(()=>{let a=t.$el;return a?.setAttribute("data-layout",e),()=>a?.removeAttribute("data-layout")})},[t])}to.displayName="PosterImg",a.forwardRef(({children:e,...t},n)=>a.createElement(d.Primitive.div,{translate:"yes","aria-live":"off","aria-atomic":"true",...t,ref:n},e)).displayName="Caption",a.forwardRef((e,t)=>{let n=(0,d.useMediaState)("textTrack"),[l,r]=a.useState();return a.useEffect(()=>{if(n)return n.addEventListener("cue-change",e),()=>{n.removeEventListener("cue-change",e),r(void 0)};function e(){r(n?.activeCues[0])}},[n]),a.createElement(d.Primitive.span,{...e,"data-part":"cue",dangerouslySetInnerHTML:{__html:l?.text||""},ref:t})}).displayName="CaptionText";let td=(0,m.signal)(null),tm=(0,m.signal)(null),tp=a.createContext({});function tf(){return a.useContext(tp)}function tv(e){var t,a;let{translations:n}=tf();return t=n,a=e,t?.[a]??a}function tE(e){let t=function(){let[e,t]=a.useState("dark");return a.useEffect(()=>{let e=window.matchMedia("(prefers-color-scheme: light)");function a(){t(e.matches?"light":"dark")}return a(),(0,m.listenEvent)(e,"change",a)},[]),e}();return"default"===e?null:"system"===e?t:e}function th({type:e,smLayoutWhen:t,renderLayout:n}){let l=a.forwardRef(({children:l,className:r,disableTimeSlider:s=!1,hideQualityBitrate:i=!1,icons:o,colorScheme:c="system",download:u=null,menuContainer:p=null,menuGroup:v="bottom",noAudioGain:E=!1,audioGains:h={min:0,max:300,step:25},noGestures:g=!1,noKeyboardAnimations:y=!1,noModal:w=!1,noScrubGesture:b,playbackRates:x={min:0,max:2,step:.25},seekStep:N=10,showMenuDelay:S,showTooltipDelay:C=700,sliderChaptersMinWidth:k=325,slots:M,smallLayoutWhen:I=t,thumbnails:P=null,translations:R,...D},T)=>{let A=f(),_=(0,m.useSignal)(A.$props.load),j=(0,d.useMediaState)("canLoad"),G=(0,d.useMediaState)("viewType"),$=(0,d.useMediaState)("streamType"),B=e2(()=>(0,m.isBoolean)(I)?I:I(A.player.state),[I]),O=e1(!0),V=e1(!0),L=G===e,F=B(),U=(0,m.isBoolean)(I),z="play"===_&&!j,K=j||U||z,W=tE(c),Q=e1(null);return(0,m.useSignal)(B),a.createElement("div",{...D,className:`vds-${e}-layout`+(W?` ${W}`:"")+(r?` ${r}`:""),"data-match":L?"":null,"data-sm":F?"":null,"data-lg":F?null:"","data-size":F?"sm":"lg","data-no-scrub-gesture":b?"":null,ref:(0,m.composeRefs)(Q.set,T)},K&&L?a.createElement(tp.Provider,{value:{disableTimeSlider:s,hideQualityBitrate:i,icons:o,colorScheme:c,download:u,isSmallLayout:F,menuContainer:p,menuGroup:v,noAudioGain:E,audioGains:h,layoutEl:Q,noGestures:g,noKeyboardAnimations:y,noModal:w,noScrubGesture:b,showMenuDelay:S,showTooltipDelay:C,sliderChaptersMinWidth:k,slots:M,seekStep:N,playbackRates:x,thumbnails:P,translations:R,userPrefersAnnouncements:O,userPrefersKeyboardAnimations:V}},n({streamType:$,isSmallLayout:F,isLoadLayout:z}),l):null)});return l.displayName="DefaultMediaLayout",l}function tg(){return a.useContext(tp).slots}function ty(){return a.useContext(tp).slots}function tw(e,t,n){let l=e?.[t],r=(0,m.uppercaseFirstChar)(t);return a.createElement(a.Fragment,null,e?.[`before${r}`],(0,m.isUndefined)(l)?n:l,e?.[`after${r}`])}function tb(){let{userPrefersAnnouncements:e,translations:t}=tf();return(0,m.useSignal)(e)?a.createElement(ek,{translations:t}):null}function tx({content:e,placement:t,children:n}){let{showTooltipDelay:l}=tf();return a.createElement(eT,{showDelay:l},a.createElement(e_,{asChild:!0},n),a.createElement(eG,{className:"vds-tooltip-content",placement:t},e))}function tN({tooltip:e}){let{icons:t}=tf(),n=tv("Play"),l=tv("Pause"),r=(0,d.useMediaState)("paused"),s=(0,d.useMediaState)("ended");return a.createElement(tx,{content:r?n:l,placement:e},a.createElement(g,{className:"vds-play-button vds-button","aria-label":n},s?a.createElement(t.PlayButton.Replay,{className:"vds-icon"}):r?a.createElement(t.PlayButton.Play,{className:"vds-icon"}):a.createElement(t.PlayButton.Pause,{className:"vds-icon"})))}tp.displayName="DefaultLayoutContext",tb.displayName="DefaultAnnouncer",tx.displayName="DefaultTooltip",tN.displayName="DefaultPlayButton";let tS=a.forwardRef(({tooltip:e},t)=>{let{icons:n}=tf(),l=tv("Mute"),r=tv("Unmute"),s=(0,d.useMediaState)("muted"),i=(0,d.useMediaState)("volume");return a.createElement(tx,{content:s?r:l,placement:e},a.createElement(S,{className:"vds-mute-button vds-button","aria-label":l,ref:t},s||0==i?a.createElement(n.MuteButton.Mute,{className:"vds-icon"}):i<.5?a.createElement(n.MuteButton.VolumeLow,{className:"vds-icon"}):a.createElement(n.MuteButton.VolumeHigh,{className:"vds-icon"})))});function tC({tooltip:e}){let{icons:t}=tf(),n=tv("Captions"),l=tv("Closed-Captions On"),r=tv("Closed-Captions Off"),s=(0,d.useMediaState)("textTrack"),i=s&&(0,d.isTrackCaptionKind)(s);return a.createElement(tx,{content:i?l:r,placement:e},a.createElement(w,{className:"vds-caption-button vds-button","aria-label":n},i?a.createElement(t.CaptionButton.On,{className:"vds-icon"}):a.createElement(t.CaptionButton.Off,{className:"vds-icon"})))}function tk({tooltip:e}){let{icons:t}=tf(),n=tv("PiP"),l=tv("Enter PiP"),r=tv("Exit PiP"),s=(0,d.useMediaState)("pictureInPicture");return a.createElement(tx,{content:s?r:l,placement:e},a.createElement(k,{className:"vds-pip-button vds-button","aria-label":n},s?a.createElement(t.PIPButton.Exit,{className:"vds-icon"}):a.createElement(t.PIPButton.Enter,{className:"vds-icon"})))}function tM({tooltip:e}){let{icons:t}=tf(),n=tv("Fullscreen"),l=tv("Enter Fullscreen"),r=tv("Exit Fullscreen"),s=(0,d.useMediaState)("fullscreen");return a.createElement(tx,{content:s?r:l,placement:e},a.createElement(x,{className:"vds-fullscreen-button vds-button","aria-label":n},s?a.createElement(t.FullscreenButton.Exit,{className:"vds-icon"}):a.createElement(t.FullscreenButton.Enter,{className:"vds-icon"})))}function tI({backward:e,tooltip:t}){let{icons:n,seekStep:l}=tf(),r=tv("Seek Forward"),s=tv("Seek Backward"),i=(e?-1:1)*l,o=i>=0?r:s;return a.createElement(tx,{content:o,placement:t},a.createElement(I,{className:"vds-seek-button vds-button",seconds:i,"aria-label":o},i>=0?a.createElement(n.SeekButton.Forward,{className:"vds-icon"}):a.createElement(n.SeekButton.Backward,{className:"vds-icon"})))}function tP({tooltip:e}){let{icons:t}=tf(),n=tv("AirPlay"),l=(0,d.useMediaState)("remotePlaybackState"),r=tv((0,m.uppercaseFirstChar)(l)),s=`${n} ${r}`,i=("connecting"===l?t.AirPlayButton.Connecting:"connected"===l?t.AirPlayButton.Connected:null)??t.AirPlayButton.Default;return a.createElement(tx,{content:n,placement:e},a.createElement(E,{className:"vds-airplay-button vds-button","aria-label":s},a.createElement(i,{className:"vds-icon"})))}function tR({tooltip:e}){let{icons:t}=tf(),n=tv("Google Cast"),l=(0,d.useMediaState)("remotePlaybackState"),r=tv((0,m.uppercaseFirstChar)(l)),s=`${n} ${r}`,i=("connecting"===l?t.GoogleCastButton.Connecting:"connected"===l?t.GoogleCastButton.Connected:null)??t.GoogleCastButton.Default;return a.createElement(tx,{content:n,placement:e},a.createElement(eB,{className:"vds-google-cast-button vds-button","aria-label":s},a.createElement(i,{className:"vds-icon"})))}function tD(){let e=(0,d.useMediaState)("live"),t=tv("Skip To Live"),n=tv("LIVE");return e?a.createElement(R,{className:"vds-live-button","aria-label":t},a.createElement("span",{className:"vds-live-button-text"},n)):null}function tT(){let{download:e,icons:t}=tf(),n=(0,d.useMediaState)("source"),l=(0,d.useMediaState)("title"),r=(0,d.getDownloadFile)({title:l,src:n,download:e}),s=tv("Download");return(0,m.isString)(r?.url)?a.createElement(tx,{content:s,placement:"top"},a.createElement("a",{role:"button",className:"vds-download-button vds-button","aria-label":s,href:function(e,t){let a=new URL(e);for(let e of Object.keys(t))a.searchParams.set(e,t[e]+"");return a.toString()}(r.url,{download:r.name}),download:r.name,target:"_blank"},t.DownloadButton?a.createElement(t.DownloadButton.Default,{className:"vds-icon"}):null)):null}function tA(){let e=tv("Captions look like this");return a.createElement(eJ,{className:"vds-captions",exampleText:e})}function t_(){return a.createElement("div",{className:"vds-controls-spacer"})}function tj(){let{layoutEl:e}=tf(),t=(0,m.useSignal)(e);return a.useMemo(()=>t?.closest("dialog"),[t])}function tG({tooltip:e,placement:t,portalClass:n=""}){let l,r,s,i,o,{showMenuDelay:c,noModal:u,isSmallLayout:v,icons:E,menuGroup:h,menuContainer:g,colorScheme:y}=tf(),w=tv("Chapters"),b=(l=f(),s=function(e){let[t,n]=a.useState([]);return a.useEffect(()=>{if(!e)return;function t(){e&&n([...e.cues])}let a=new m.EventsController(e).add("add-cue",t).add("remove-cue",t);return t(),()=>{n([]),a.abort()}},[e]),t}(r=eQ("chapters")),i=(0,m.useSignal)(l.$state.seekableStart),o=(0,m.useSignal)(l.$state.seekableEnd),eW(r),a.useMemo(()=>{let e=r?s.filter(e=>e.startTime<=o&&e.endTime>=i).map((e,t)=>{let a=null,n;return{cue:e,label:e.text,value:t.toString(),startTimeText:(0,d.formatTime)(Math.max(0,e.startTime-i)),durationText:(0,d.formatSpokenTime)(Math.min(o,e.endTime)-Math.max(i,e.startTime)),get selected(){return e===r.activeCues[0]},setProgressVar(t){if(!t||e!==r.activeCues[0]){n?.(),n=void 0,t?.style.setProperty("--progress","0%"),a=null;return}a!==t&&(a=t,n?.(),n=(0,m.effect)(()=>{let{realCurrentTime:a}=l.$state,n=a(),r=Math.max(i,e.startTime),s=Math.min(o,e.endTime)-r,c=Math.max(0,n-r)/s*100;t.style.setProperty("--progress",c.toFixed(3)+"%")}))},select(t){l.remote.seek(e.startTime-i,t)}}}):[];return Object.defineProperty(e,"selectedValue",{get(){let t=e.findIndex(e=>e.selected);return(t>=0?t:0).toString()}}),e},[s,i,o])),x=!b.length,{thumbnails:N}=tf(),S=(0,d.useMediaState)("currentSrc"),C=(0,d.useMediaState)("viewType"),k=(0,m.useSignal)(td),M=tE(y),[I,P]=a.useState(!1),R=tj();if(x)return null;let D=a.createElement(ev,{className:"vds-chapters-menu-items vds-menu-items",placement:t,offset:26*(!v&&"bottom"===h&&"video"===C)},I?a.createElement(es,{className:"vds-chapters-radio-group vds-radio-group",value:b.selectedValue,"data-thumbnails":N?"":null},b.map(({cue:e,label:t,value:n,startTimeText:l,durationText:r,select:s,setProgressVar:i})=>a.createElement(eo,{className:"vds-chapter-radio vds-radio",value:n,key:n,onSelect:s,ref:i},N?a.createElement(K,{src:N,className:"vds-thumbnail",time:e.startTime},a.createElement(W,null)):k&&(0,d.isRemotionSrc)(S)?a.createElement(k,{className:"vds-thumbnail",frame:e.startTime*S.fps}):null,a.createElement("div",{className:"vds-chapter-radio-content"},a.createElement("span",{className:"vds-chapter-radio-label"},t),a.createElement("span",{className:"vds-chapter-radio-start-time"},l),a.createElement("span",{className:"vds-chapter-radio-duration"},r))))):null);return a.createElement(eu,{className:"vds-chapters-menu vds-menu",showDelay:c,onOpen:function(){(0,p.flushSync)(()=>{P(!0)})},onClose:function(){P(!1)}},a.createElement(tx,{content:w,placement:e},a.createElement(em,{className:"vds-menu-button vds-button",disabled:x,"aria-label":w},a.createElement(E.Menu.Chapters,{className:"vds-icon"}))),u||!v?D:a.createElement(ep,{container:g??R,className:n+(M?` ${M}`:""),disabled:"fullscreen","data-sm":v?"":null,"data-lg":v?null:"","data-size":v?"sm":"lg"},D))}tS.displayName="DefaultMuteButton",tC.displayName="DefaultCaptionButton",tk.displayName="DefaultPIPButton",tM.displayName="DefaultFullscreenButton",tI.displayName="DefaultSeekButton",tP.displayName="DefaultAirPlayButton",tR.displayName="DefaultGoogleCastButton",tD.displayName="DefaultLiveButton",tT.displayName="DefaultDownloadButton",tA.displayName="DefaultCaptions",t_.displayName="DefaultControlsSpacer",tG.displayName="DefaultChaptersMenu";let t$={type:"color"},tB={type:"radio",values:{"Monospaced Serif":"mono-serif","Proportional Serif":"pro-serif","Monospaced Sans-Serif":"mono-sans","Proportional Sans-Serif":"pro-sans",Casual:"casual",Cursive:"cursive","Small Capitals":"capitals"}},tO={type:"slider",min:0,max:400,step:25,upIcon:null,downIcon:null},tV={type:"slider",min:0,max:100,step:5,upIcon:null,downIcon:null},tL={type:"radio",values:["None","Drop Shadow","Raised","Depressed","Outline"]},tF={fontFamily:"pro-sans",fontSize:"100%",textColor:"#ffffff",textOpacity:"100%",textShadow:"none",textBg:"#000000",textBgOpacity:"100%",displayBg:"#000000",displayBgOpacity:"0%"},tU=Object.keys(tF).reduce((e,t)=>({...e,[t]:(0,m.signal)(tF[t])}),{});if(!d.IS_SERVER)for(let e of Object.keys(tU)){let t=localStorage.getItem(`vds-player:${(0,m.camelToKebabCase)(e)}`);(0,m.isString)(t)&&tU[e].set(t)}function tz(){for(let e of Object.keys(tU)){let t=tF[e];tU[e].set(t)}}function tK(e){let{style:t}=new Option;return t.color=e,t.color.match(/\((.*?)\)/)[1].replace(/,/g," ")}let tW=!1,tQ=new Set;function tq(){if(d.IS_SERVER)return;let{player:e}=(0,d.useMediaContext)();tQ.add(e),(0,m.onDispose)(()=>tQ.delete(e)),tW||((0,m.scoped)(()=>{for(let t of(0,m.keysOf)(tU)){let a=tU[t],n=tF[t],l=`--media-user-${(0,m.camelToKebabCase)(t)}`,r=`vds-player:${(0,m.camelToKebabCase)(t)}`;(0,m.effect)(()=>{let s=a(),i=s===n,o=i?null:function(e,t,a){switch(t){case"fontFamily":let n="capitals"===a?"small-caps":"";return e.el?.style.setProperty("--media-user-font-variant",n),function(e){switch(e){case"mono-serif":return'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';case"mono-sans":return'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';case"pro-sans":return'Roboto, "Arial Unicode Ms", Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif';case"casual":return'"Comic Sans MS", Impact, Handlee, fantasy';case"cursive":return'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';case"capitals":return'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif + font-variant=small-caps';default:return'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif'}}(a);case"fontSize":case"textOpacity":case"textBgOpacity":case"displayBgOpacity":return(parseInt(a)/100).toString();case"textColor":return`rgb(${tK(a)} / var(--media-user-text-opacity, 1))`;case"textShadow":var l=a;switch(l){case"drop shadow":return"rgb(34, 34, 34) 1.86389px 1.86389px 2.79583px, rgb(34, 34, 34) 1.86389px 1.86389px 3.72778px, rgb(34, 34, 34) 1.86389px 1.86389px 4.65972px";case"raised":return"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px";case"depressed":return"rgb(204, 204, 204) 1px 1px, rgb(34, 34, 34) -1px -1px";case"outline":return"rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px";default:return""}case"textBg":return`rgb(${tK(a)} / var(--media-user-text-bg-opacity, 1))`;case"displayBg":return`rgb(${tK(a)} / var(--media-user-display-bg-opacity, 1))`}}(e,t,s);for(let e of tQ)e.el?.style.setProperty(l,o);i?localStorage.removeItem(r):localStorage.setItem(r,s)})}},null),tW=!0)}function tH({label:e,value:t,children:n}){let l=a.useId();return e?a.createElement("section",{className:"vds-menu-section",role:"group","aria-labelledby":l},a.createElement("div",{className:"vds-menu-section-title"},a.createElement("header",{id:l},e),t?a.createElement("div",{className:"vds-menu-section-value"},t):null),a.createElement("div",{className:"vds-menu-section-body"},n)):a.createElement("div",{className:"vds-menu-section"},a.createElement("div",{className:"vds-menu-section-body"},n))}function tY({label:e,hint:t="",Icon:n,disabled:l=!1}){let{icons:r}=a.useContext(tp);return a.createElement(em,{className:"vds-menu-item",disabled:l},a.createElement(r.Menu.ArrowLeft,{className:"vds-menu-close-icon vds-icon"}),n?a.createElement(n,{className:"vds-menu-item-icon vds-icon"}):null,a.createElement("span",{className:"vds-menu-item-label"},e),a.createElement("span",{className:"vds-menu-item-hint"},t),a.createElement(r.Menu.ArrowRight,{className:"vds-menu-open-icon vds-icon"}))}function tJ({label:e,children:t}){return a.createElement("div",{className:"vds-menu-item"},a.createElement("div",{className:"vds-menu-item-label"},e),t)}function tX({value:e,options:t,onChange:n}){let{icons:l}=tf();return a.createElement(es,{className:"vds-radio-group",value:e,onChange:n},t.map(e=>a.createElement(eo,{className:"vds-radio",value:e.value,key:e.value},a.createElement(l.Menu.RadioCheck,{className:"vds-icon"}),a.createElement("span",{className:"vds-radio-label","data-part":"label"},e.label))))}function tZ({label:e,value:t,UpIcon:n,DownIcon:l,children:r,isMin:s,isMax:i}){let o=e||t,c=a.createElement(a.Fragment,null,l?a.createElement(l,{className:"vds-icon down"}):null,r,n?a.createElement(n,{className:"vds-icon up"}):null);return a.createElement("div",{className:`vds-menu-item vds-menu-slider-item${o?" group":""}`,"data-min":s?"":null,"data-max":i?"":null},o?a.createElement(a.Fragment,null,a.createElement("div",{className:"vds-menu-slider-title"},e?a.createElement("div",null,e):null,t?a.createElement("div",null,t):null),a.createElement("div",{className:"vds-menu-slider-body"},c)):c)}function t0(){return a.createElement(a.Fragment,null,a.createElement(G,{className:"vds-slider-track"}),a.createElement($,{className:"vds-slider-track-fill vds-slider-track"}),a.createElement(j,{className:"vds-slider-thumb"}))}function t1(){return a.createElement(L,{className:"vds-slider-steps"},e=>a.createElement("div",{className:"vds-slider-step",key:String(e)}))}function t2(){let e=tv("Caption Styles"),t=(0,d.useMediaState)("hasCaptions"),n=tv("Font"),l=tv("Text"),r=tv("Text Background"),s=tv("Display Background");return t?a.createElement(eu,{className:"vds-font-menu vds-menu"},a.createElement(tY,{label:e}),a.createElement(ev,{className:"vds-font-style-items vds-menu-items"},a.createElement(tH,{label:n},a.createElement(t3,null),a.createElement(t4,null)),a.createElement(tH,{label:l},a.createElement(t5,null),a.createElement(t8,null),a.createElement(t6,null)),a.createElement(tH,{label:r},a.createElement(t7,null),a.createElement(t9,null)),a.createElement(tH,{label:s},a.createElement(ae,null),a.createElement(at,null)),a.createElement(tH,null,a.createElement(al,null)))):null}function t3(){return a.createElement(aa,{label:"Family",type:"fontFamily",option:tB})}function t4(){let{icons:e}=tf(),t={...tO,upIcon:e.Menu.FontSizeUp,downIcon:e.Menu.FontSizeDown};return a.createElement(aa,{label:"Size",type:"fontSize",option:t})}function t5(){return a.createElement(aa,{label:"Color",type:"textColor",option:t$})}function t6(){let{icons:e}=tf(),t={...tV,upIcon:e.Menu.OpacityUp,downIcon:e.Menu.OpacityDown};return a.createElement(aa,{label:"Opacity",type:"textOpacity",option:t})}function t8(){return a.createElement(aa,{label:"Shadow",type:"textShadow",option:tL})}function t7(){return a.createElement(aa,{label:"Color",type:"textBg",option:t$})}function t9(){let{icons:e}=tf(),t={...tV,upIcon:e.Menu.OpacityUp,downIcon:e.Menu.OpacityDown};return a.createElement(aa,{label:"Opacity",type:"textBgOpacity",option:t})}function ae(){return a.createElement(aa,{label:"Color",type:"displayBg",option:t$})}function at(){let{icons:e}=tf(),t={...tV,upIcon:e.Menu.OpacityUp,downIcon:e.Menu.OpacityDown};return a.createElement(aa,{label:"Opacity",type:"displayBgOpacity",option:t})}function aa({label:e,option:t,type:n}){let l=ex(),r=tU[n],s=(0,m.useSignal)(r),i=tv(e),o=a.useCallback(()=>{l?.dispatchEvent(new Event("vds-font-change"))},[l]),c=a.useCallback(e=>{r.set(e),o()},[r,o]);if("color"===t.type)return a.createElement(tJ,{label:i},a.createElement("input",{className:"vds-color-picker",type:"color",value:s,onChange:function(e){c(e.target.value)}}));if("slider"===t.type){let e=function(e){c(e+"%")},{min:n,max:l,step:r,upIcon:o,downIcon:u}=t;return a.createElement(tZ,{label:i,value:s,UpIcon:o,DownIcon:u,isMin:s===n+"%",isMax:s===l+"%"},a.createElement(_,{className:"vds-slider",min:n,max:l,step:r,keyStep:r,value:parseInt(s),"aria-label":i,onValueChange:e,onDragValueChange:e},a.createElement(t0,null),a.createElement(t1,null)))}return"radio"===t.type?a.createElement(an,{id:(0,m.camelToKebabCase)(n),label:i,value:s,values:t.values,onChange:c}):null}function an({id:e,label:t,value:n,values:l,onChange:r}){let s=a.useMemo(()=>(0,m.isArray)(l)?l.map(e=>({label:e,value:e.toLowerCase()})):Object.keys(l).map(e=>({label:e,value:l[e]})),[l]),{translations:i}=tf(),o=a.useMemo(()=>{let e=s.find(e=>e.value===n)?.label||"";return i?.[e]??e},[n,s]);return a.createElement(eu,{className:`vds-${e}-menu vds-menu`},a.createElement(tY,{label:t,hint:o}),a.createElement(ev,{className:"vds-menu-items"},a.createElement(tX,{value:n,options:s,onChange:r})))}function al(){let e=tv("Reset");return a.createElement("button",{className:"vds-menu-item",role:"menuitem",onClick:tz},a.createElement("span",{className:"vds-menu-item-label"},e))}function ar({label:e,checked:t,storageKey:n,defaultChecked:l=!1,onChange:r}){let[s,i]=a.useState(l),[o,c]=a.useState(!1);function u(e){if(e&&"button"in e&&e?.button===1)return;let t=!s;i(t),n&&localStorage.setItem(n,t?"1":""),r?.(t,e?.nativeEvent),c(!1)}return a.useEffect(()=>{let e=!!((n?localStorage.getItem(n):null)??l);i(e),r?.(e)},[]),a.useEffect(()=>{(0,m.isBoolean)(t)&&i(t)},[t]),a.createElement("div",{className:"vds-menu-checkbox",role:"menuitemcheckbox",tabIndex:0,"aria-label":e,"aria-checked":s?"true":"false","data-active":o?"":null,onPointerUp:u,onPointerDown:function(e){0===e.button&&c(!0)},onKeyDown:function(e){(0,m.isKeyboardClick)(e.nativeEvent)&&u()}})}function as({slots:e}){let t=tv("Accessibility"),{icons:n}=tf();return a.createElement(eu,{className:"vds-accessibility-menu vds-menu"},a.createElement(tY,{label:t,Icon:n.Menu.Accessibility}),a.createElement(ev,{className:"vds-menu-items"},tw(e,"accessibilityMenuItemsStart",null),a.createElement(tH,null,a.createElement(ai,null),a.createElement(ao,null)),a.createElement(tH,null,a.createElement(t2,null)),tw(e,"accessibilityMenuItemsEnd",null)))}function ai(){let{userPrefersAnnouncements:e}=tf(),t=tv("Announcements");return a.createElement(tJ,{label:t},a.createElement(ar,{label:t,defaultChecked:!0,storageKey:"vds-player::announcements",onChange:function(t){e.set(t)}}))}function ao(){let e=(0,d.useMediaState)("viewType"),{userPrefersKeyboardAnimations:t,noKeyboardAnimations:n}=tf(),l=tv("Keyboard Animations");return"video"!==e||n?null:a.createElement(tJ,{label:l},a.createElement(ar,{label:l,defaultChecked:!0,storageKey:"vds-player::keyboard-animations",onChange:function(e){t.set(e)}}))}function ac({slots:e}){let t=tv("Audio"),n=(0,d.useMediaState)("canSetAudioGain"),l=(0,d.useMediaState)("audioTracks"),{noAudioGain:r,icons:s}=tf(),i=n&&!r;return!i&&l.length<=1?null:a.createElement(eu,{className:"vds-audio-menu vds-menu"},a.createElement(tY,{label:t,Icon:s.Menu.Audio}),a.createElement(ev,{className:"vds-menu-items"},tw(e,"audioMenuItemsStart",null),a.createElement(af,null),i?a.createElement(au,null):null,tw(e,"audioMenuItemsEnd",null)))}function au(){let e=(0,d.useMediaState)("audioGain"),t=tv("Boost"),n=Math.round(((e??1)-1)*100)+"%",l=(0,d.useMediaState)("canSetAudioGain"),{noAudioGain:r,icons:s}=tf(),i=ad(),o=am();return!l||r?null:a.createElement(tH,{label:t,value:n},a.createElement(tZ,{UpIcon:s.Menu.AudioBoostUp,DownIcon:s.Menu.AudioBoostDown,isMin:((e??1)-1)*100<=i,isMax:((e??1)-1)*100===o},a.createElement(ap,null)))}function ad(){let{audioGains:e}=tf();return((0,m.isArray)(e)?e[0]:e?.min)??0}function am(){let{audioGains:e}=tf();return((0,m.isArray)(e)?e[e.length-1]:e?.max)??300}function ap(){let e=tv("Audio Boost"),t=ad(),n=am(),l=function(){let{audioGains:e}=tf();return((0,m.isArray)(e)?e[1]-e[0]:e?.step)||25}();return a.createElement(eF,{className:"vds-audio-gain-slider vds-slider","aria-label":e,min:t,max:n,step:l,keyStep:l},a.createElement(t0,null),a.createElement(t1,null))}function af(){let{icons:e}=tf(),t=tv("Track"),n=tv("Default"),l=(0,d.useMediaState)("audioTrack"),r=function(){let e=f(),{audioTracks:t,audioTrack:n}=e.$state,l=(0,m.useSignal)(t);return(0,m.useSignal)(n),a.useMemo(()=>{let a=l.map(a=>({track:a,label:a.label,value:eN(a),get selected(){return n()===a},select(n){let l=t().indexOf(a);l>=0&&e.remote.changeAudioTrack(l,n)}}));return Object.defineProperty(a,"disabled",{get:()=>a.length<=1}),Object.defineProperty(a,"selectedTrack",{get:()=>n()}),Object.defineProperty(a,"selectedValue",{get(){let e=n();return e?eN(e):void 0}}),a},[l])}();return r.disabled?null:a.createElement(eu,{className:"vds-audio-track-menu vds-menu"},a.createElement(tY,{label:t,hint:l?.label??n,disabled:r.disabled,Icon:e.Menu.Audio}),a.createElement(ev,{className:"vds-menu-items"},a.createElement(es,{className:"vds-audio-radio-group vds-radio-group",value:r.selectedValue},r.map(({label:t,value:n,select:l})=>a.createElement(eo,{className:"vds-audio-radio vds-radio",value:n,onSelect:l,key:n},a.createElement(e.Menu.RadioCheck,{className:"vds-icon"}),a.createElement("span",{className:"vds-radio-label"},t))))))}function av({slots:e}){let{icons:t}=tf(),n=tv("Captions"),l=tv("Off"),r=function({off:e=!0}={}){let t=f(),{textTracks:n,textTrack:l}=t.$state,r=(0,m.useSignal)(n);return(0,m.useSignal)(l),a.useMemo(()=>{let a=r.filter(d.isTrackCaptionKind),s=a.map(e=>({track:e,label:e.label,value:eS(e),get selected(){return l()===e},select(a){let l=n().indexOf(e);l>=0&&t.remote.changeTextTrackMode(l,"showing",a)}}));return e&&s.unshift({track:null,label:(0,m.isString)(e)?e:"Off",value:"off",get selected(){return!l()},select(e){t.remote.toggleCaptions(e)}}),Object.defineProperty(s,"disabled",{get:()=>!a.length}),Object.defineProperty(s,"selectedTrack",{get:()=>l()}),Object.defineProperty(s,"selectedValue",{get(){let e=l();return e?eS(e):"off"}}),s},[r])}({off:l}),s=r.selectedTrack?.label??l;return r.disabled?null:a.createElement(eu,{className:"vds-captions-menu vds-menu"},a.createElement(tY,{label:n,hint:s,disabled:r.disabled,Icon:t.Menu.Captions}),a.createElement(ev,{className:"vds-menu-items"},tw(e,"captionsMenuItemsStart",null),a.createElement(es,{className:"vds-captions-radio-group vds-radio-group",value:r.selectedValue},r.map(({label:e,value:n,select:l})=>a.createElement(eo,{className:"vds-caption-radio vds-radio",value:n,onSelect:l,key:n},a.createElement(t.Menu.RadioCheck,{className:"vds-icon"}),a.createElement("span",{className:"vds-radio-label"},e)))),tw(e,"captionsMenuItemsEnd",null)))}function aE({slots:e}){let t=tv("Playback"),{icons:n}=tf();return a.createElement(eu,{className:"vds-playback-menu vds-menu"},a.createElement(tY,{label:t,Icon:n.Menu.Playback}),a.createElement(ev,{className:"vds-menu-items"},tw(e,"playbackMenuItemsStart",null),a.createElement(tH,null,tw(e,"playbackMenuLoop",a.createElement(ah,null))),a.createElement(ab,null),a.createElement(ay,null),tw(e,"playbackMenuItemsEnd",null)))}function ah(){let{remote:e}=f(),t=tv("Loop");return a.createElement(tJ,{label:t},a.createElement(ar,{label:t,storageKey:"vds-player::user-loop",onChange:function(t,a){e.userPrefersLoopChange(t,a)}}))}function ag(){let{remote:e,qualities:t}=f(),n=(0,d.useMediaState)("autoQuality"),l=tv("Auto");return a.createElement(tJ,{label:l},a.createElement(ar,{label:l,checked:n,onChange:function(a,n){a?e.requestAutoQuality(n):e.changeQuality(t.selectedIndex,n)},defaultChecked:n}))}function ay(){let{hideQualityBitrate:e,icons:t}=tf(),n=(0,d.useMediaState)("canSetQuality"),l=(0,d.useMediaState)("qualities"),r=(0,d.useMediaState)("quality"),s=tv("Quality"),i=tv("Auto"),o=a.useMemo(()=>(0,d.sortVideoQualities)(l),[l]);if(!n||l.length<=1)return null;let c=r?.height,u=e?null:r?.bitrate,m=u&&u>0?`${(u/1e6).toFixed(2)} Mbps`:null,p=c?`${c}p${m?` (${m})`:""}`:i,f=o[0]===r,v=o.at(-1)===r;return a.createElement(tH,{label:s,value:p},a.createElement(tZ,{UpIcon:t.Menu.QualityUp,DownIcon:t.Menu.QualityDown,isMin:f,isMax:v},a.createElement(aw,null)),a.createElement(ag,null))}function aw(){let e=tv("Quality");return a.createElement(eV,{className:"vds-quality-slider vds-slider","aria-label":e},a.createElement(t0,null),a.createElement(t1,null))}function ab(){let{icons:e}=tf(),t=(0,d.useMediaState)("playbackRate"),n=(0,d.useMediaState)("canSetPlaybackRate"),l=tv("Speed"),r=tv("Normal"),s=ax(),i=aN();return n?a.createElement(tH,{label:l,value:1===t?r:t+"x"},a.createElement(tZ,{UpIcon:e.Menu.SpeedUp,DownIcon:e.Menu.SpeedDown,isMin:t===s,isMax:t===i},a.createElement(aS,null))):null}function ax(){let{playbackRates:e}=tf();return((0,m.isArray)(e)?e[0]:e?.min)??0}function aN(){let{playbackRates:e}=tf();return((0,m.isArray)(e)?e[e.length-1]:e?.max)??2}function aS(){let e=tv("Speed"),t=ax(),n=aN(),l=function(){let{playbackRates:e}=tf();return((0,m.isArray)(e)?e[1]-e[0]:e?.step)||.25}();return a.createElement(ez,{className:"vds-speed-slider vds-slider","aria-label":e,min:t,max:n,step:l,keyStep:l},a.createElement(t0,null),a.createElement(t1,null))}function aC({tooltip:e,placement:t,portalClass:n="",slots:l}){let r,{showMenuDelay:s,icons:i,isSmallLayout:o,menuContainer:c,menuGroup:u,noModal:f,colorScheme:v}=tf(),E=tv("Settings"),h=(0,d.useMediaState)("viewType"),g=tE(v),[y,w]=a.useState(!1),b=tj();r=(0,m.useReactScope)(),a.useMemo(()=>(0,m.scoped)(tq,r),[r]);let x=a.createElement(ev,{className:"vds-settings-menu-items vds-menu-items",placement:t,offset:26*(!o&&"bottom"===u&&"video"===h)},y?a.createElement(a.Fragment,null,tw(l,"settingsMenuItemsStart",null),tw(l,"settingsMenuStartItems",null),a.createElement(aE,{slots:l}),a.createElement(as,{slots:l}),a.createElement(ac,{slots:l}),a.createElement(av,{slots:l}),tw(l,"settingsMenuEndItems",null),tw(l,"settingsMenuItemsEnd",null)):null);return a.createElement(eu,{className:"vds-settings-menu vds-menu",showDelay:s,onOpen:function(){(0,p.flushSync)(()=>{w(!0)})},onClose:function(){w(!1)}},a.createElement(tx,{content:E,placement:e},a.createElement(em,{className:"vds-menu-button vds-button","aria-label":E},a.createElement(i.Menu.Settings,{className:"vds-icon vds-rotate-icon"}))),f||!o?x:a.createElement(ep,{className:n+(g?` ${g}`:""),container:c??b,disabled:"fullscreen","data-sm":o?"":null,"data-lg":o?null:"","data-size":o?"sm":"lg","data-view-type":h},x))}function ak({tooltip:e,orientation:t,slots:n}){let l,r,s,i=(0,d.useMediaState)("pointer"),o=(0,d.useMediaState)("muted"),c=(0,d.useMediaState)("canSetVolume"),[u,p]=a.useState(null),f=(l=function(e){let[t,n]=a.useState(!1);return a.useEffect(()=>{if(!e)return;let t=new m.EventsController(e).add("mouseenter",()=>n(!0)).add("mouseleave",()=>n(!1));return()=>t.abort()},[e]),t}(u),r=function(e){let[t,n]=a.useState(!1);return a.useEffect(()=>{if(!e)return;let t=new m.EventsController(e).add("focusin",()=>n(!0)).add("focusout",()=>n(!1));return()=>t.abort()},[e]),t}(u),(!(s=a.useRef(!1)).current||!!l)&&(s.current=l,l||r)),v=tw(n,"muteButton",a.createElement(tS,{tooltip:e}));return c?"coarse"!==i||o?a.createElement("div",{className:"vds-volume","data-active":f?"":null,ref:p},v,a.createElement("div",{className:"vds-volume-popup"},tw(n,"volumeSlider",a.createElement(aM,{orientation:t})))):null:v}function aM(e){let t=tv("Volume");return a.createElement(U,{className:"vds-volume-slider vds-slider","aria-label":t,...e},a.createElement(G,{className:"vds-slider-track"}),a.createElement($,{className:"vds-slider-track-fill vds-slider-track"}),a.createElement(j,{className:"vds-slider-thumb"}),a.createElement(O,{className:"vds-slider-preview",noClamp:!0},a.createElement(V,{className:"vds-slider-value"})))}function aI(){let[e,t]=a.useState(null),[n,l]=a.useState(0),r=(0,d.useMediaState)("currentSrc"),{thumbnails:s,sliderChaptersMinWidth:i,disableTimeSlider:o,seekStep:c,noScrubGesture:u}=tf(),p=tv("Seek"),f=(0,m.useSignal)(tm),v=a.useCallback(()=>{let t=e?.el;t&&l(t.clientWidth)},[e]);return tc(e?.el,v),a.createElement(H,{className:"vds-time-slider vds-slider","aria-label":p,disabled:o,noSwipeGesture:u,keyStep:c,ref:t},a.createElement(J,{className:"vds-slider-chapters",disabled:n<i},(e,t)=>e.map(e=>a.createElement("div",{className:"vds-slider-chapter",key:e.startTime,ref:t},a.createElement(G,{className:"vds-slider-track"}),a.createElement($,{className:"vds-slider-track-fill vds-slider-track"}),a.createElement(ee,{className:"vds-slider-progress vds-slider-track"})))),a.createElement(j,{className:"vds-slider-thumb"}),a.createElement(O,{className:"vds-slider-preview"},s?a.createElement(ea,{src:s,className:"vds-slider-thumbnail vds-thumbnail"},a.createElement(W,null)):f&&(0,d.isRemotionSrc)(r)?a.createElement(f,{className:"vds-slider-thumbnail vds-thumbnail"}):null,a.createElement(Z,{className:"vds-slider-chapter-title"}),a.createElement(V,{className:"vds-slider-value"})))}function aP({slots:e}){return(0,d.useMediaState)("duration")?a.createElement("div",{className:"vds-time-group"},tw(e,"currentTime",a.createElement(ew,{className:"vds-time",type:"current"})),tw(e,"timeDivider",a.createElement("div",{className:"vds-time-divider"},"/")),tw(e,"endTime",a.createElement(ew,{className:"vds-time",type:"duration"}))):null}function aR({slots:e}){return(0,d.useMediaState)("live")?tw(e,"liveButton",a.createElement(tD,null)):a.createElement(aP,{slots:e})}function aD({slots:e}){let t=(0,d.useMediaState)("live"),n=(0,d.useMediaState)("duration");return t?tw(e,"liveButton",a.createElement(tD,null)):tw(e,"endTime",n?a.createElement(ew,{className:"vds-time",type:"current",toggle:!0,remainder:!0}):null)}function aT(){let e=tg();return tu("audio"),a.createElement(a.Fragment,null,a.createElement(tb,null),a.createElement(tA,null),a.createElement(eI,{className:"vds-controls"},a.createElement(eR,{className:"vds-controls-group"},tw(e,"seekBackwardButton",a.createElement(tI,{backward:!0,tooltip:"top start"})),tw(e,"playButton",a.createElement(tN,{tooltip:"top center"})),tw(e,"seekForwardButton",a.createElement(tI,{tooltip:"top center"})),a.createElement(a_,null),tw(e,"timeSlider",a.createElement(aI,null)),a.createElement(aD,{slots:e}),a.createElement(ak,{orientation:"vertical",tooltip:"top",slots:e}),tw(e,"captionButton",a.createElement(tC,{tooltip:"top center"})),tw(e,"downloadButton",a.createElement(tT,null)),a.createElement(aA,{slots:e}))))}function aA({slots:e}){let{isSmallLayout:t,noModal:n}=tf(),l=n?"top end":t?null:"top end";return a.createElement(a.Fragment,null,tw(e,"chaptersMenu",a.createElement(tG,{tooltip:"top",placement:l,portalClass:"vds-audio-layout"})),tw(e,"settingsMenu",a.createElement(aC,{tooltip:"top end",placement:l,portalClass:"vds-audio-layout",slots:e})))}function a_(){let[e,t]=a.useState(null),n=f(),{translations:l}=tf(),[r,s]=a.useState(!1),i=e2(()=>{let{started:e,currentTime:t}=n.$state;return e()||t()>0}),o=(0,m.useSignal)(e2(()=>{let{title:e,ended:t}=n.$state;if(!e())return"";let a=t()?"Replay":i()?"Continue":"Play";return`${l?.[a]??a}: ${e()}`})),c=eq(),u=(0,m.useSignal)(i)?c:"",d=function(e){let[t,n]=a.useState(!1);return a.useEffect(()=>{if(!e)return;let t=new m.EventsController(e).add("transitionstart",()=>n(!0)).add("transitionend",()=>n(!1));return()=>t.abort()},[e]),t}(e);a.useEffect(()=>{d&&document.activeElement===document.body&&n.player.el?.focus({preventScroll:!0})},[]);let p=a.useCallback(()=>{let t=!!e&&!d&&e.clientWidth<e.children[0].clientWidth;e&&(0,m.toggleClass)(e,"vds-marquee",t),s(t)},[e,d]);return tc(e,p),o?a.createElement("span",{className:"vds-title",title:o,ref:t},a.createElement(aj,{title:o,chapterTitle:u}),r&&!d?a.createElement(aj,{title:o,chapterTitle:u}):null):a.createElement(t_,null)}function aj({title:e,chapterTitle:t}){let n=tg();return a.createElement("span",{className:"vds-title-text"},tw(n,"title",e),tw(n,"chapterTitle",a.createElement("span",{className:"vds-chapter-title"},t)))}tH.displayName="DefaultMenuSection",tY.displayName="DefaultMenuButton",tJ.displayName="DefaultMenuItem",tX.displayName="DefaultMenuRadioGroup",tZ.displayName="DefaultMenuSliderItem",t0.displayName="DefaultSliderParts",t1.displayName="DefaultSliderSteps",t2.displayName="DefaultFontMenu",t3.displayName="DefaultFontFamilyMenu",t4.displayName="DefaultFontSizeSlider",t5.displayName="DefaultTextColorInput",t6.displayName="DefaultTextOpacitySlider",t8.displayName="DefaultTextShadowMenu",t7.displayName="DefaultTextBgInput",t9.displayName="DefaultTextBgOpacitySlider",ae.displayName="DefaultDisplayBgInput",at.displayName="DefaultDisplayBgOpacitySlider",aa.displayName="DefaultFontSetting",an.displayName="DefaultFontRadioGroup",al.displayName="DefaultResetMenuItem",ar.displayName="DefaultMenuCheckbox",as.displayName="DefaultAccessibilityMenu",ai.displayName="DefaultAnnouncementsMenuCheckbox",ao.displayName="DefaultKeyboardAnimationsMenuCheckbox",ac.displayName="DefaultAudioMenu",au.displayName="DefaultAudioBoostMenuSection",ap.displayName="DefaultAudioGainSlider",af.displayName="DefaultAudioTracksMenu",av.displayName="DefaultCaptionMenu",aE.displayName="DefaultPlaybackMenu",ah.displayName="DefaultLoopMenuCheckbox",ag.displayName="DefaultAutoQualityMenuCheckbox",ay.displayName="DefaultQualityMenuSection",aw.displayName="DefaultQualitySlider",aS.displayName="DefaultSpeedSlider",aC.displayName="DefaultSettingsMenu",ak.displayName="DefaultVolumePopup",aM.displayName="DefaultVolumeSlider",aI.displayName="DefaultTimeSlider",aP.displayName="DefaultTimeGroup",aR.displayName="DefaultTimeInfo",aD.displayName="DefaultTimeInvert",th({type:"audio",smLayoutWhen:({width:e})=>e<576,renderLayout:()=>a.createElement(aT,null)}),aT.displayName="AudioLayout",aA.displayName="DefaultAudioMenus",a_.displayName="DefaultAudioTitle",aj.displayName="AudioTitle";let aG=a.forwardRef(({icons:e,...t},n)=>{let[l,r]=a.useState(!1),[s,i]=a.useState(null),[o,c]=a.useState(0),u=(0,d.useMediaState)("lastKeyboardAction");a.useEffect(()=>{c(e=>e+1)},[u]);let p=a.useMemo(()=>{let e=u?.action;return e&&l?(0,m.camelToKebabCase)(e):null},[l,u]),f=a.useMemo(()=>`vds-kb-action${!l?" hidden":""}${t.className?` ${t.className}`:""}`,[l]),v=e2(a$),E=(0,m.useSignal)(v);return!function(e,t=[]){let n=(0,m.useReactScope)();a.useEffect(()=>(0,m.scoped)(()=>(0,m.effect)(e),n),[n,...t])}(()=>{let t=function(e){let{$state:t}=(0,m.useContext)(d.mediaContext);switch(t.lastKeyboardAction()?.action){case"togglePaused":return t.paused()?e.Pause:e.Play;case"toggleMuted":return t.muted()||0===t.volume()?e.Mute:t.volume()>=.5?e.VolumeUp:e.VolumeDown;case"toggleFullscreen":return t.fullscreen()?e.EnterFullscreen:e.ExitFullscreen;case"togglePictureInPicture":return t.pictureInPicture()?e.EnterPiP:e.ExitPiP;case"toggleCaptions":return t.hasCaptions()?t.textTrack()?e.CaptionsOn:e.CaptionsOff:null;case"volumeUp":return e.VolumeUp;case"volumeDown":return e.VolumeDown;case"seekForward":return e.SeekForward;case"seekBackward":return e.SeekBackward;default:return null}}(e);i(()=>t)},[e]),a.useEffect(()=>{r(!!u);let e=setTimeout(()=>r(!1),500);return()=>{r(!1),window.clearTimeout(e)}},[u]),s?a.createElement(d.Primitive.div,{...t,className:f,"data-action":p,ref:n},a.createElement("div",{className:"vds-kb-text-wrapper"},a.createElement("div",{className:"vds-kb-text"},E)),a.createElement("div",{className:"vds-kb-bezel",key:o},a.createElement("div",{className:"vds-kb-icon"},a.createElement(s,null)))):null});function a$(){let{$state:e}=(0,m.useContext)(d.mediaContext),t=e.lastKeyboardAction()?.action,a=e.audioGain()??1;switch(t){case"toggleMuted":return e.muted()?"0%":aB(e.volume(),a);case"volumeUp":case"volumeDown":return aB(e.volume(),a);default:return""}}function aB(e,t){return`${Math.round(e*t*100)}%`}function aO(){let e=(0,d.useMediaState)("started"),t=(0,d.useMediaState)("title");return eQ("chapters")&&(e||!t)?a.createElement(eH,{className:"vds-chapter-title"}):a.createElement(eK,{className:"vds-chapter-title"})}aG.displayName="DefaultKeyboardDisplay",aO.displayName="DefaultTitle";let aV=th({type:"video",smLayoutWhen:({width:e,height:t})=>e<576||t<380,renderLayout:e=>a.createElement(aF,{...e})});function aL(e){return a.createElement(aV,{...e})}function aF({streamType:e,isLoadLayout:t,isSmallLayout:n}){return tu("video"),t?a.createElement(aH,null):"unknown"===e?a.createElement(aQ,null):n?a.createElement(az,null):a.createElement(aU,null)}function aU(){let{menuGroup:e}=tf(),t=ty(),n={...t,...t?.largeLayout};return a.createElement(a.Fragment,null,a.createElement(tb,null),a.createElement(aW,null),a.createElement(aY,null),tw(n,"bufferingIndicator",a.createElement(aQ,null)),tw(n,"captions",a.createElement(tA,null)),a.createElement(eI,{className:"vds-controls"},a.createElement(eR,{className:"vds-controls-group"},tw(n,"topControlsGroupStart",null),a.createElement(t_,null),tw(n,"topControlsGroupCenter",null),a.createElement(t_,null),tw(n,"topControlsGroupEnd",null),"top"===e&&a.createElement(aq,{slots:n})),a.createElement(t_,null),a.createElement(eR,{className:"vds-controls-group"},tw(n,"centerControlsGroupStart",null),a.createElement(t_,null),tw(n,"centerControlsGroupCenter",null),a.createElement(t_,null),tw(n,"centerControlsGroupEnd",null)),a.createElement(t_,null),a.createElement(eR,{className:"vds-controls-group"},tw(n,"timeSlider",a.createElement(aI,null))),a.createElement(eR,{className:"vds-controls-group"},tw(n,"playButton",a.createElement(tN,{tooltip:"top start"})),a.createElement(ak,{orientation:"horizontal",tooltip:"top",slots:n}),a.createElement(aR,{slots:n}),tw(n,"chapterTitle",a.createElement(aO,null)),tw(n,"captionButton",a.createElement(tC,{tooltip:"top"})),"bottom"===e&&a.createElement(aq,{slots:n}),tw(n,"airPlayButton",a.createElement(tP,{tooltip:"top"})),tw(n,"googleCastButton",a.createElement(tR,{tooltip:"top"})),tw(n,"downloadButton",a.createElement(tT,null)),tw(n,"pipButton",a.createElement(tk,{tooltip:"top"})),tw(n,"fullscreenButton",a.createElement(tM,{tooltip:"top end"})))))}function az(){let e=ty(),t={...e,...e?.smallLayout};return a.createElement(a.Fragment,null,a.createElement(tb,null),a.createElement(aW,null),a.createElement(aY,null),tw(t,"bufferingIndicator",a.createElement(aQ,null)),tw(t,"captions",a.createElement(tA,null)),a.createElement(eI,{className:"vds-controls"},a.createElement(eR,{className:"vds-controls-group"},tw(t,"topControlsGroupStart",null),tw(t,"airPlayButton",a.createElement(tP,{tooltip:"top start"})),tw(t,"googleCastButton",a.createElement(tR,{tooltip:"top start"})),a.createElement(t_,null),tw(t,"topControlsGroupCenter",null),a.createElement(t_,null),tw(t,"captionButton",a.createElement(tC,{tooltip:"bottom"})),tw(t,"downloadButton",a.createElement(tT,null)),a.createElement(aq,{slots:t}),a.createElement(ak,{orientation:"vertical",tooltip:"bottom end",slots:t}),tw(t,"topControlsGroupEnd",null)),a.createElement(t_,null),a.createElement(eR,{className:"vds-controls-group",style:{pointerEvents:"none"}},tw(t,"centerControlsGroupStart",null),a.createElement(t_,null),tw(t,"centerControlsGroupCenter",null),tw(t,"playButton",a.createElement(tN,{tooltip:"top"})),a.createElement(t_,null),tw(t,"centerControlsGroupEnd",null)),a.createElement(t_,null),a.createElement(eR,{className:"vds-controls-group"},a.createElement(aR,{slots:t}),tw(t,"chapterTitle",a.createElement(aO,null)),tw(t,"fullscreenButton",a.createElement(tM,{tooltip:"top end"}))),a.createElement(eR,{className:"vds-controls-group"},tw(t,"timeSlider",a.createElement(aI,null)))),tw(t,"startDuration",a.createElement(aK,null)))}function aK(){return 0===(0,d.useMediaState)("duration")?null:a.createElement("div",{className:"vds-start-duration"},a.createElement(ew,{className:"vds-time",type:"duration"}))}function aW(){let{noGestures:e}=tf();return e?null:a.createElement("div",{className:"vds-gestures"},a.createElement(eg,{className:"vds-gesture",event:"pointerup",action:"toggle:paused"}),a.createElement(eg,{className:"vds-gesture",event:"pointerup",action:"toggle:controls"}),a.createElement(eg,{className:"vds-gesture",event:"dblpointerup",action:"toggle:fullscreen"}),a.createElement(eg,{className:"vds-gesture",event:"dblpointerup",action:"seek:-10"}),a.createElement(eg,{className:"vds-gesture",event:"dblpointerup",action:"seek:10"}))}function aQ(){return a.createElement("div",{className:"vds-buffering-indicator"},a.createElement(eX,{className:"vds-buffering-spinner"},a.createElement(eZ,{className:"vds-buffering-track"}),a.createElement(e0,{className:"vds-buffering-track-fill"})))}function aq({slots:e}){let{isSmallLayout:t,noModal:n,menuGroup:l}=tf(),r="top"===l||t?"bottom":"top",s=`${r} end`,i=n?`${r} end`:t?null:`${r} end`;return a.createElement(a.Fragment,null,tw(e,"chaptersMenu",a.createElement(tG,{tooltip:s,placement:i,portalClass:"vds-video-layout"})),tw(e,"settingsMenu",a.createElement(aC,{tooltip:s,placement:i,portalClass:"vds-video-layout",slots:e})))}function aH(){let{isSmallLayout:e}=tf(),t=ty(),n={...t,...t?.[e?"smallLayout":"largeLayout"]};return a.createElement("div",{className:"vds-load-container"},tw(n,"bufferingIndicator",a.createElement(aQ,null)),tw(n,"loadButton",a.createElement(tN,{tooltip:"top"})))}function aY(){let{noKeyboardAnimations:e,icons:t,userPrefersKeyboardAnimations:n}=tf(),l=(0,m.useSignal)(n);return!e&&l&&t.KeyboardDisplay?a.createElement(aG,{icons:t.KeyboardDisplay}):null}function aJ(e){function t(t){return a.createElement(e3,{paths:e,...t})}return t.displayName="DefaultLayoutIcon",t}aL.displayName="DefaultVideoLayout",aF.displayName="VideoLayout",aU.displayName="DefaultVideoLargeLayout",az.displayName="DefaultVideoSmallLayout",aK.displayName="DefaultVideoStartDuration",aW.displayName="DefaultVideoGestures",aQ.displayName="DefaultBufferingIndicator",aq.displayName="DefaultVideoMenus",aH.displayName="DefaultVideoLoadLayout",aY.displayName="DefaultVideoKeyboardDisplay";let aX={AirPlayButton:{Default:aJ(m.Icon$5)},GoogleCastButton:{Default:aJ(m.Icon$24)},PlayButton:{Play:aJ(m.Icon$62),Pause:aJ(m.Icon$59),Replay:aJ(m.Icon$74)},MuteButton:{Mute:aJ(m.Icon$54),VolumeLow:aJ(m.Icon$105),VolumeHigh:aJ(m.Icon$104)},CaptionButton:{On:aJ(m.Icon$26),Off:aJ(m.Icon$27)},PIPButton:{Enter:aJ(m.Icon$61),Exit:aJ(m.Icon$60)},FullscreenButton:{Enter:aJ(m.Icon$40),Exit:aJ(m.Icon$39)},SeekButton:{Backward:aJ(m.Icon$77),Forward:aJ(m.Icon$81)},DownloadButton:{Default:aJ(m.Icon$31)},Menu:{Accessibility:aJ(m.Icon$0),ArrowLeft:aJ(m.Icon$11),ArrowRight:aJ(m.Icon$22),Audio:aJ(m.Icon$53),Chapters:aJ(m.Icon$16),Captions:aJ(m.Icon$27),Playback:aJ(m.Icon$63),Settings:aJ(m.Icon$88),AudioBoostUp:aJ(m.Icon$104),AudioBoostDown:aJ(m.Icon$105),SpeedUp:aJ(m.Icon$35),SpeedDown:aJ(m.Icon$34),QualityUp:aJ(m.Icon$13),QualityDown:aJ(m.Icon$8),FontSizeUp:aJ(m.Icon$13),FontSizeDown:aJ(m.Icon$8),OpacityUp:aJ(m.Icon$33),OpacityDown:aJ(m.Icon$56),RadioCheck:aJ(m.Icon$19)},KeyboardDisplay:{Play:aJ(m.Icon$62),Pause:aJ(m.Icon$59),Mute:aJ(m.Icon$54),VolumeUp:aJ(m.Icon$104),VolumeDown:aJ(m.Icon$105),EnterFullscreen:aJ(m.Icon$40),ExitFullscreen:aJ(m.Icon$39),EnterPiP:aJ(m.Icon$61),ExitPiP:aJ(m.Icon$60),CaptionsOn:aJ(m.Icon$26),CaptionsOff:aJ(m.Icon$27),SeekForward:aJ(m.Icon$35),SeekBackward:aJ(m.Icon$34)}};var aZ=e.i(68834),a0=e.i(79473);let a1=(0,aZ.create)()((0,a0.persist)(e=>({isPlaying:!1,volume:1,muted:!1,currentTime:0,duration:0,playbackRate:1,quality:"auto",isFullscreen:!1,showControls:!0,setPlaying:t=>e({isPlaying:t}),setVolume:t=>e({volume:t}),setMuted:t=>e({muted:t}),setCurrentTime:t=>e({currentTime:t}),setDuration:t=>e({duration:t}),setPlaybackRate:t=>e({playbackRate:t}),setQuality:t=>e({quality:t}),setFullscreen:t=>e({isFullscreen:t}),setShowControls:t=>e({showControls:t}),reset:()=>e({isPlaying:!1,currentTime:0,duration:0,isFullscreen:!1,showControls:!0})}),{name:"novastream-player-storage",partialize:e=>({volume:e.volume,muted:e.muted,quality:e.quality,playbackRate:e.playbackRate})}));function a2({src:e,poster:n,title:l,subtitles:r,onEnded:s}){let i=(0,a.useRef)(null),{setPlaying:o,setDuration:c,setCurrentTime:u,setVolume:d,setMuted:m,setFullscreen:p}=a1();return(0,a.useEffect)(()=>{let e=i.current;if(e)return e.subscribe(e=>{o(e.playing),c(e.duration),u(e.currentTime),d(e.volume),m(e.muted),p(e.fullscreen),e.ended&&s?.()})},[e,s,o,c,u,d,m,p]),(0,t.jsx)("div",{className:"relative w-full aspect-video bg-black rounded-xl overflow-hidden ring-1 ring-white/10 shadow-2xl",children:(0,t.jsxs)(te,{ref:i,title:l,src:e,className:"w-full h-full",aspectRatio:"16/9",load:"eager",poster:n,children:[(0,t.jsxs)(ta,{children:[(0,t.jsx)(ti,{className:"vds-poster"}),r?.map((e,a)=>(0,t.jsx)(tl,{...e,kind:"subtitles"},a))]}),(0,t.jsx)(aL,{icons:aX})]})})}let a3=(0,s.default)("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]),a4=(0,s.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),a5=(0,s.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var a6=e.i(73375),a8=e.i(63059),a7=e.i(82373),a9=e.i(35116),ne=e.i(31343);let nt=(0,s.default)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var na=e.i(39616);let nn=(0,s.default)("PictureInPicture",[["path",{d:"M8 4.5v5H3m-1-6 6 6m13 0v-3c0-1.16-.84-2-2-2h-7m-9 9v2c0 1.05.95 2 2 2h3",key:"bcd8fb"}],["rect",{width:"10",height:"7",x:"12",y:"13.5",ry:"2",key:"136fx3"}]]);var nl=e.i(39312);let nr=e=>{if(!e)return"0:00";let t=Math.floor(e/60),a=Math.floor(e%60);return`${t}:${a<10?"0":""}${a}`};function ns({show:e,title:a,subTitle:r,backUrl:s,currentTime:i,duration:o,isPaused:c,volume:u,isMuted:d,isSaved:m,downloadUrl:p,isSeeking:f,seekValue:v,type:E,isTorrent:h,season:g,episode:y,seasons:w,onTogglePlay:b,onSeekChange:x,onSeekCommit:N,onVolumeChange:S,onToggleMute:C,onToggleLibrary:k,onDownload:M,onToggleSettings:I,onTogglePiP:P,onNext:R,onPrev:D,onSeasonChange:T,onEpisodeChange:A}){let _,j=(0,n.useRouter)(),G=parseInt(g),$=parseInt(y),B=Number.isFinite(o)&&o>0?o:0,O=Number.isFinite(i)&&i>=0?i:0,V=f?v:O;return(0,t.jsxs)("div",{className:`absolute inset-0 z-[60] flex flex-col justify-between transition-opacity duration-300 pointer-events-none ${e?"opacity-100":"opacity-0"}`,children:[(0,t.jsxs)("div",{className:`pointer-events-auto bg-gradient-to-b from-black via-black/90 to-transparent p-6 pb-20 flex justify-between items-start transition-transform duration-300 ${e?"translate-y-0":"-translate-y-full"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{s?j.push(s):j.push("/")},"aria-label":"Go back",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 text-white backdrop-blur-md",children:(0,t.jsx)(l.ArrowLeft,{size:24,"aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex flex-col text-shadow",children:[(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:a}),r&&(0,t.jsx)("span",{className:"text-white/60 text-xs font-medium",children:r})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[("torrent"===E||h)&&(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-600/30 backdrop-blur-sm rounded-full border border-purple-400/30 shadow-[0_0_15px_rgba(147,51,234,0.3)] animate-pulse",children:(0,t.jsx)(nl.Zap,{size:20,className:"text-purple-300 drop-shadow-[0_0_5px_rgba(147,51,234,0.8)]",fill:"currentColor"})}),(0,t.jsx)("button",{onClick:k,"aria-label":m?"Remove from Library":"Add to Library",className:`p-2.5 rounded-full backdrop-blur-md transition-all ${m?"bg-purple-600/80 text-white":"bg-white/10 text-white/60 hover:text-white"}`,children:m?(0,t.jsx)(a3,{size:20,"aria-hidden":"true"}):(0,t.jsx)(a4,{size:20,"aria-hidden":"true"})}),(0,t.jsx)("button",{disabled:!p,onClick:M,"aria-label":"Download video",className:`p-2.5 rounded-full backdrop-blur-md transition-all ${p?"bg-white/10 text-white/60 hover:text-white hover:bg-white/20":"bg-white/5 text-white/20 cursor-not-allowed"}`,title:p?"Download":"Waiting for stream...",children:(0,t.jsx)(a5,{size:20,"aria-hidden":"true"})})]})]}),(0,t.jsxs)("div",{className:`pointer-events-auto bg-gradient-to-t from-black via-black/95 to-transparent pt-40 pb-8 px-6 transition-transform duration-300 ${e?"translate-y-0":"translate-y-full"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 group/progress",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-white/80 w-10 text-right",children:nr(V)}),(0,t.jsx)("input",{type:"range",min:0,max:B||100,value:Math.min(V,B||100),step:.1,onChange:x,onMouseUp:N,onTouchEnd:N,"aria-label":"Seek slider",className:"flex-1 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-purple-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-125 transition-all"}),(0,t.jsx)("span",{className:"text-xs font-medium text-white/60 w-10",children:nr(B)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("button",{onClick:b,"aria-label":c?"Play":"Pause",className:"p-2 hover:bg-white/10 rounded-full text-white transition-colors",children:c?(0,t.jsx)(ne.Play,{size:32,fill:"currentColor","aria-hidden":"true"}):(0,t.jsx)(nt,{size:32,fill:"currentColor","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 group/vol",children:[(0,t.jsx)("button",{onClick:C,"aria-label":d?"Unmute":"Mute",className:"text-white/80 hover:text-white",children:0===u?(0,t.jsx)(a9.VolumeX,{size:24,"aria-hidden":"true"}):(0,t.jsx)(a7.Volume2,{size:24,"aria-hidden":"true"})}),(0,t.jsx)("div",{className:"w-0 overflow-hidden group-hover/vol:w-24 transition-all duration-300",children:(0,t.jsx)("input",{type:"range",min:0,max:1,step:.05,value:d?0:u,onChange:e=>{let t=parseFloat(e.target.value);S(t),d&&t>0&&C()},className:"w-20 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer ml-2 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2 [&::-webkit-slider-thumb]:h-2 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"})})]}),"tv"===E&&w&&(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:D,"aria-label":"Previous episode",className:"p-1.5 hover:bg-white/10 rounded-full text-white/70 hover:text-white transition-colors",disabled:1===G&&1===$,children:(0,t.jsx)(a6.ChevronLeft,{size:20,"aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex items-center gap-0 bg-white/10 rounded-md border border-white/5 overflow-hidden",children:[(0,t.jsx)("select",{className:"bg-transparent text-white font-bold text-xs outline-none cursor-pointer hover:bg-white/5 px-2 py-1.5 appearance-none text-center min-w-[3rem]",value:G,"aria-label":"Select Season",onChange:e=>T&&T(Number(e.target.value)),children:w.filter(e=>e.season_number>0).map(e=>(0,t.jsxs)("option",{value:e.season_number,className:"bg-zinc-900 text-left",children:["S",e.season_number]},e.id))}),(0,t.jsx)("div",{className:"w-[1px] h-4 bg-white/10"}),(0,t.jsx)("select",{className:"bg-transparent text-white font-bold text-xs outline-none cursor-pointer hover:bg-white/5 px-2 py-1.5 appearance-none text-center min-w-[3rem]",value:$,"aria-label":"Select Episode",onChange:e=>A&&A(e.target.value),children:(_=w.find(e=>e.season_number===G),Array.from({length:_?.episode_count||1},(e,t)=>t+1).map(e=>(0,t.jsxs)("option",{value:e,className:"bg-zinc-900 text-left",children:["E",e]},e)))})]}),(0,t.jsx)("button",{onClick:R,"aria-label":"Next episode",className:"p-1.5 hover:bg-white/10 rounded-full text-white/70 hover:text-white transition-colors",children:(0,t.jsx)(a8.ChevronRight,{size:20,"aria-hidden":"true"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:I,"aria-label":"Open settings",className:"p-2 rounded-full transition-colors text-white/70 hover:text-white",children:(0,t.jsx)(na.Settings,{size:20,"aria-hidden":"true"})}),(0,t.jsx)("button",{onClick:P,"aria-label":"Toggle Picture in Picture",className:"p-2 rounded-full transition-colors text-white/70 hover:text-white",title:"Picture in Picture",children:(0,t.jsx)(nn,{size:20,"aria-hidden":"true"})})]})]})]})]})}var ni=e.i(37727),no=e.i(43531);function nc({show:e,onClose:n,tracks:l=[],audioTracks:r=[],qualities:s=[],playbackSpeed:i=1,onTrackChange:o,onAudioTrackChange:c,onQualityChange:u,onSpeedChange:d}){let[m,p]=(0,a.useState)("main");if(!e)return"main"!==m&&setTimeout(()=>p("main"),300),null;let f=[.25,.5,.75,1,1.25,1.5,2],v=(e,a,n,l,r)=>(0,t.jsxs)("div",{className:"flex flex-col gap-1 min-w-[250px] max-h-[60vh] overflow-y-auto",children:[(0,t.jsxs)("h2",{className:"text-white text-lg font-bold mb-2 flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>p("main"),children:(0,t.jsx)(ni.X,{className:"w-5 h-5 rotate-45"})}),e]}),a.map((e,a)=>{let s=r(e,a);return(0,t.jsxs)("button",{onClick:()=>{n(a),p("main")},className:`flex items-center justify-between p-3 rounded text-sm transition-colors ${s?"bg-white/20 text-white font-medium":"hover:bg-white/10 text-zinc-300"}`,children:[(0,t.jsx)("span",{children:l(e)}),s&&(0,t.jsx)(no.Check,{className:"w-4 h-4"})]},a)})]});return(0,t.jsx)("div",{className:"absolute inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,t.jsxs)("div",{className:"bg-zinc-900 border border-white/10 p-4 rounded-xl shadow-2xl animate-in fade-in zoom-in duration-200",children:["main"===m&&(0,t.jsxs)("div",{className:"flex flex-col gap-2 min-w-[250px]",children:[(0,t.jsxs)("h2",{className:"text-white text-lg font-bold mb-2 flex justify-between items-center",children:["Settings",(0,t.jsx)("button",{onClick:n,children:(0,t.jsx)(ni.X,{className:"w-5 h-5 text-zinc-400 hover:text-white"})})]}),s.length>0&&(0,t.jsxs)("button",{onClick:()=>p("quality"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,t.jsx)("span",{children:"Quality"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,t.jsx)("span",{children:s.find(e=>e.active)?.label||"Auto"}),(0,t.jsx)(a8.ChevronRight,{className:"w-4 h-4"})]})]}),r.length>0&&(0,t.jsxs)("button",{onClick:()=>p("audio"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,t.jsx)("span",{children:"Audio"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,t.jsx)("span",{children:r.find(e=>e.active)?.label||"Default"}),(0,t.jsx)(a8.ChevronRight,{className:"w-4 h-4"})]})]}),l.length>0&&(0,t.jsxs)("button",{onClick:()=>p("subtitle"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,t.jsx)("span",{children:"Subtitles"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,t.jsx)("span",{children:l.find(e=>e.active)?.label||"Off"}),(0,t.jsx)(a8.ChevronRight,{className:"w-4 h-4"})]})]}),(0,t.jsxs)("button",{onClick:()=>p("speed"),className:"flex items-center justify-between p-3 rounded hover:bg-white/10 text-white text-sm transition-colors",children:[(0,t.jsx)("span",{children:"Speed"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,t.jsxs)("span",{children:[i,"x"]}),(0,t.jsx)(a8.ChevronRight,{className:"w-4 h-4"})]})]})]}),"quality"===m&&v("Quality",s,u,e=>e.label,e=>e.active),"audio"===m&&v("Audio",r,c,e=>e.label,e=>e.active),"subtitle"===m&&v("Subtitles",[{label:"Off",active:!l.some(e=>e.active)},...l],e=>o(e-1),e=>e.label,e=>e.active),"speed"===m&&v("Playback Speed",f,e=>d(f[e]),e=>e+"x",e=>e===i)]})})}let nu=(0,a.forwardRef)(({src:e,title:n,initialVolume:l=1,subtitleStyle:s,onEnded:i,onStateUpdate:o},c)=>{let u=(0,a.useRef)(null),[d,m]=(0,a.useState)(!0),p=(0,a.useRef)(!1),f=(0,a.useRef)({onStateUpdate:o,onEnded:i,subtitleStyle:s}),[v,E]=(0,a.useState)(!1),h=(0,a.useRef)(),[g,y]=(0,a.useState)(!1),[w,b]=(0,a.useState)({currentTime:0,duration:0,volume:l,isMuted:!1,isPaused:!1,isSeeking:!1,seekValue:0,tracks:[],audioTracks:[],qualities:[]}),x=(e,t=!1)=>{if(p.current&&u.current)try{u.current.executeJavaScript(e,t).catch(e=>{e.message&&e.message.includes("GUEST_VIEW_MANAGER_CALL")||console.warn("[AG] Webview Exec Error:",e.message)})}catch(e){}};return(0,a.useImperativeHandle)(c,()=>({seek:e=>x(`window.AG_CMD_SEEK && window.AG_CMD_SEEK(${e})`),setVolume:e=>x(`window.AG_CMD_VOL && window.AG_CMD_VOL(${e})`),togglePlay:()=>x("window.AG_CMD_TOGGLE && window.AG_CMD_TOGGLE()"),setTrack:e=>x(`window.AG_CMD_TRACK && window.AG_CMD_TRACK(${e})`),setAudioTrack:e=>x(`window.AG_CMD_AUDIO_TRACK && window.AG_CMD_AUDIO_TRACK(${e})`),setQuality:e=>x(`window.AG_CMD_QUALITY && window.AG_CMD_QUALITY(${e})`),setSubtitleStyle:e=>x(`window.AG_CMD_SUB_STYLE && window.AG_CMD_SUB_STYLE(${JSON.stringify(e)})`),setPlaybackSpeed:e=>x(`window.AG_CMD_SPEED && window.AG_CMD_SPEED(${e})`),togglePiP:()=>x("window.AG_CMD_PIP && window.AG_CMD_PIP()",!0)})),(0,a.useEffect)(()=>{f.current={onStateUpdate:o,onEnded:i,subtitleStyle:s},p.current&&s&&x(`window.AG_CMD_SUB_STYLE && window.AG_CMD_SUB_STYLE(${JSON.stringify(s)})`)},[o,i,s]),(0,a.useEffect)(()=>{let e=u.current;if(!e)return;let t=()=>{if(p.current)return;m(!1);let t=`
                (function() {
                    const AG_VERSION = 6; 
                    console.log(" AG Script Injected & Started (v" + AG_VERSION + ")");
                    const START_VOLUME = ${l};
                    
                    if (window.AG_VERSION === AG_VERSION) {
                         return;
                    }
                    window.AG_INSTALLED = true;
                    window.AG_VERSION = AG_VERSION;
                    
                    if (window.AG_INTERVAL_ID) clearInterval(window.AG_INTERVAL_ID);

                    // ... [Existing HELPER functions: getFiber, scanFiber, findVideo, sanitizeAudio] ...
                    // Since specific helper code is redundant to repeat here fully if unchanged, 
                    // I will assume the previous helpers are preserved or re-inlined.
                    // IMPORTANT: For the tool to work, I must provide the FULL script 
                    // or carefully replace chunks. Since I am replacing the whole component logic,
                    // I will re-inline the critical parts but compacted for brevity where safe.
                    
                    const getFiber = (n) => {
                        if (!n) return null;
                        const k = Object.keys(n).find(k => k.startsWith('__reactFiber$'));
                        return k ? n[k] : null;
                    };
                    const scanFiber = (f) => {
                        if(!f) return null;
                        let c = f;
                        let d = 0;
                        while(c && d < 25) {
                            const p = c.memoizedProps || c.pendingProps;
                            if (p && (p.sources || p.tracks || p.qualityLevels || p.audioTracks || p.playlist || (p.config && (p.config.sources || p.config.tracks)))) return p.config || p;
                            c = c.return; d++;
                        }
                        return null;
                    };
                    const findVideo = (root, depth = 0) => {
                        if (!root) return null;
                        let v = root.querySelector('video');
                        if (v) return v;
                        const w = root.createTreeWalker ? root.createTreeWalker((root.body || root), NodeFilter.SHOW_ELEMENT, null, false) : null;
                        if (w) { let n; while(n = w.nextNode()) if(n.shadowRoot) { v = findVideo(n.shadowRoot, depth + 1); if(v) return v; } }
                        const fs = root.querySelectorAll('iframe');
                        for(let f of fs) { try { let d = f.contentDocument || f.contentWindow?.document; if(d) { v = findVideo(d, depth + 1); if(v) return v; } } catch(e){} }
                        return null;
                    };

                     // --- ENGINE ---
                    window.AG_VIDEO = null;
                    const updateState = () => {
                        if (!window.AG_VIDEO || !window.AG_VIDEO.isConnected) {
                            window.AG_VIDEO = findVideo(document);
                            if (window.AG_VIDEO) {
                                const v = window.AG_VIDEO;
                                if (!v.hasAGListeners) {
                                    v.hasAGListeners = true;
                                    console.log(' Video Attached');
                                    
                                    // AUTOPLAY FIX: Force Unmute
                                    const forceUnmute = () => {
                                        if (START_VOLUME > 0) {
                                            v.muted = false;
                                            v.volume = START_VOLUME;
                                        }
                                    };
                                    
                                    // Initial attempt
                                    forceUnmute();
                                    v.setAttribute('autoplay', 'true');
                                    
                                    // Persistent unmute for the first 5 seconds to fight player resets
                                    let attempts = 0;
                                    const unmuteInterval = setInterval(() => {
                                        forceUnmute();
                                        if (++attempts > 20) clearInterval(unmuteInterval); // Stop after 5s (250ms * 20)
                                    }, 250);

                                    const attemptPlay = () => {
                                        v.play().then(() => {
                                            console.log(" Playback started");
                                            forceUnmute(); // Ensure unmuted on success
                                        }).catch(e => {
                                            console.log(" Playback failed: " + e.message);
                                            // Recovery: mute only if strictly necessary, then user interaction will restore
                                            v.muted = true;
                                            v.play().then(() => {
                                                console.log(" Playback started (muted fallback)");
                                                // Try to unmute one last time just in case
                                                setTimeout(forceUnmute, 500);
                                            }).catch(() => {});
                                        });
                                    };
                                    
                                    if (v.readyState > 2) attemptPlay();
                                    else v.addEventListener('canplay', attemptPlay, { once: true });
                                }
                            }
                        }
                        // Retry finding video periodically
                        if (window.AG_VIDEO && !window.AG_VIDEO.isConnected) window.AG_VIDEO = null;
                        
                        const v = window.AG_VIDEO;
                        if (!v) return;

                        const s = {
                            currentTime: v.currentTime,
                            duration: v.duration,
                            volume: v.muted ? 0 : v.volume,
                            isPaused: v.paused,
                            tracks: [], audioTracks: [], qualities: []
                        };
                        
                        // Sync tracks (simplified from previous logic)
                         if(v.textTracks) for(let i=0; i<v.textTracks.length; i++) {
                            const t = v.textTracks[i];
                            s.tracks.push({ label: t.label || t.language || 'Track ' + (i+1), language: t.language, active: t.mode === 'showing' });
                        }
                        // ... (Other track logic omitted for brevity, assumed unnecessary for base playback)

                        console.log('ANTIGRAVITY_UPDATE:' + JSON.stringify(s));
                    };

                    window.AG_INTERVAL_ID = setInterval(updateState, 1000);

                    // --- COMMANDS ---
                    window.AG_CMD_SEEK = (t) => { if(window.AG_VIDEO) window.AG_VIDEO.currentTime = t; };
                    window.AG_CMD_VOL = (v) => { if(window.AG_VIDEO) { window.AG_VIDEO.volume = v; window.AG_VIDEO.muted = v === 0; } };
                    window.AG_CMD_TOGGLE = () => { if(window.AG_VIDEO) { if(window.AG_VIDEO.paused) window.AG_VIDEO.play(); else window.AG_VIDEO.pause(); } };
                    window.AG_CMD_PIP = () => { if(window.AG_VIDEO) { if (document.pictureInPictureElement) document.exitPictureInPicture(); else window.AG_VIDEO.requestPictureInPicture(); } };
                    
                    // --- BLOCKING ---
                    window.open = function() { return null; };
                    window.onbeforeunload = null; 
                    
                    const blockCss = \`
                        .ad, .ads, .popup, [class*="ad-"], [id*="ad-"], iframe[src*="ads"] { display: none !important; }
                        video::-webkit-media-controls { display: none !important; }
                    \`;
                    const styleEl = document.createElement('style');
                    styleEl.textContent = blockCss;
                    document.head.appendChild(styleEl);

                    // Kill popups
                    setInterval(() => {
                        const selectors = ['[class*="popup"]', '[id*="popup"]', 'iframe[src*="ads"]'];
                        selectors.forEach(sel => {
                            try {
                                document.querySelectorAll(sel).forEach(el => {
                                    if (el && el.parentNode && el.tagName !== 'VIDEO') {
                                        try { el.remove(); } catch(e){}
                                    }
                                });
                            } catch(e){}
                        });
                    }, 500);
                })();
            `;e.executeJavaScript(t),p.current=!0,s&&x(`window.AG_CMD_SUB_STYLE && window.AG_CMD_SUB_STYLE(${JSON.stringify(s)})`)},a=e=>{let t=e.message;if(t.startsWith("ANTIGRAVITY_UPDATE:"))try{let e=JSON.parse(t.substring(19));if(!e)return;b(t=>({...t,currentTime:e.currentTime||0,duration:e.duration||0,isPaused:e.isPaused,volume:e.volume,isMuted:0===e.volume,tracks:e.tracks||[],audioTracks:e.audioTracks||[],qualities:e.qualities||[]})),f.current.onStateUpdate?.(e)}catch(e){}else"ANTIGRAVITY_ENDED"===t&&f.current.onEnded?.()},n=()=>t(),r=()=>t();return e.addEventListener("did-finish-load",r),e.addEventListener("dom-ready",n),e.addEventListener("console-message",a),e.addEventListener("new-window",e=>{console.log("[Webview] Blocked popup:",e.url),e.preventDefault()}),()=>{p.current=!1,e.removeEventListener("did-finish-load",r),e.removeEventListener("dom-ready",n),e.removeEventListener("console-message",a)}},[e,l]),(0,t.jsxs)("div",{className:"relative w-full h-full bg-black flex items-center justify-center overflow-hidden group",onMouseMove:()=>{E(!0),h.current&&clearTimeout(h.current),w.isPaused||(h.current=setTimeout(()=>E(!1),3e3))},onMouseLeave:()=>E(!1),children:[d&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,t.jsx)(r.Loader2,{className:"w-10 h-10 text-white animate-spin"})}),(0,t.jsx)("webview",{ref:u,src:e,className:"w-full h-full border-0",style:{width:"100vw",height:"100vh",background:"#000"},allowpopups:"false",disablewebsecurity:"true",webpreferences:"contextIsolation=no, nodeIntegration=no, webSecurity=no, autoplayPolicy=no-user-gesture-required",useragent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}),(0,t.jsx)(ns,{show:v||w.isPaused,title:n||"",currentTime:w.currentTime,duration:w.duration,isPaused:w.isPaused,volume:w.volume,isMuted:w.isMuted,isSaved:!1,downloadUrl:null,isSeeking:w.isSeeking,seekValue:w.seekValue,type:"movie",season:"1",episode:"1",onTogglePlay:()=>{x("window.AG_CMD_TOGGLE && window.AG_CMD_TOGGLE()"),b(e=>({...e,isPaused:!e.isPaused}))},onSeekChange:e=>{let t=parseFloat(e.target.value);b(e=>({...e,isSeeking:!0,seekValue:t}))},onSeekCommit:()=>{x(`window.AG_CMD_SEEK && window.AG_CMD_SEEK(${w.seekValue})`),setTimeout(()=>b(e=>({...e,isSeeking:!1})),500)},onVolumeChange:e=>{x(`window.AG_CMD_VOL && window.AG_CMD_VOL(${e})`),b(t=>({...t,volume:e,isMuted:0===e}))},onToggleMute:()=>{let e=!w.isMuted,t=e?0:w.volume||1;x(`window.AG_CMD_VOL && window.AG_CMD_VOL(${t})`),b(a=>({...a,isMuted:e,volume:t}))},onToggleLibrary:()=>{},onDownload:()=>{},onToggleSettings:()=>y(!g),onTogglePiP:()=>x("window.AG_CMD_PIP && window.AG_CMD_PIP()",!0)}),(0,t.jsx)(nc,{show:g,onClose:()=>y(!1),tracks:w.tracks,audioTracks:w.audioTracks,qualities:w.qualities,playbackSpeed:1,onTrackChange:e=>x(`window.AG_CMD_TRACK && window.AG_CMD_TRACK(${e})`),onAudioTrackChange:e=>x(`window.AG_CMD_AUDIO_TRACK && window.AG_CMD_AUDIO_TRACK(${e})`),onQualityChange:e=>x(`window.AG_CMD_QUALITY && window.AG_CMD_QUALITY(${e})`),onSpeedChange:e=>x(`window.AG_CMD_SPEED && window.AG_CMD_SPEED(${e})`)})]})});nu.displayName="WebviewPlayer";var nd=e.i(16443);function nm({params:e}){let s=(0,n.useRouter)(),c=(0,n.useSearchParams)().get("type")||"movie",{id:d}=a.use(e),[m,p]=(0,a.useState)(null),[f,v]=(0,a.useState)(!0),[E,h]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),[w,b]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=!0;async function t(){v(!0),b(null);try{let t=await o.contentApi.getDetails(d,c);if(!e)return;if(!t){b("Content not found"),v(!1);return}p(t);let a="movie"===c?"movie":"tv"===c?"series":"anime",n=await u.getAllSources({id:t.id,title:t.title,type:a});if(!e)return;let l=null;console.log("[WatchPage] Sources Map keys:",Array.from(n.keys()));let r=n.get("vidlink"),s=n.get("torrent");console.log("[WatchPage] Vidlink sources:",r),console.log("[WatchPage] Torrent sources:",s),r&&r.length>0?l=r[0]:s&&s.length>0?l=s[0]:(console.warn("[WatchPage] No sources found in map."),b("No playable sources found")),l&&(h(l.url),y("embed"===l.type))}catch(t){console.error("Watch page error:",t),e&&b(t.message||"Failed to load content")}finally{e&&v(!1)}}return d&&t(),()=>{e=!1}},[d,c]),f)?(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-black",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(r.Loader2,{className:"h-10 w-10 animate-spin text-red-600"}),(0,t.jsx)("p",{className:"text-zinc-400 font-medium animate-pulse",children:"Locating stream..."})]})}):w||!m?(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-black",children:(0,t.jsxs)("div",{className:"text-center space-y-4 max-w-md px-6",children:[(0,t.jsx)(i,{className:"h-12 w-12 text-red-500 mx-auto"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Playback Error"}),(0,t.jsx)("p",{className:"text-zinc-400",children:w||"Unknown error occurred"}),(0,t.jsxs)(nd.Button,{onClick:()=>s.back(),variant:"secondary",children:[(0,t.jsx)(l.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}):(0,t.jsxs)("div",{className:"relative h-screen w-full bg-black overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:`absolute top-0 left-0 w-full z-20 p-6 bg-gradient-to-b from-black/80 to-transparent flex items-center justify-between pointer-events-none transition-opacity duration-300 ${g?"hover:opacity-100 opacity-0":"opacity-100"}`,children:[(0,t.jsxs)(nd.Button,{variant:"ghost",className:"pointer-events-auto hover:bg-white/10 text-white",onClick:()=>s.back(),children:[(0,t.jsx)(l.ArrowLeft,{className:"mr-2 h-5 w-5"}),"Back"]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-white drop-shadow-md",children:m.title}),"tv"===c&&(0,t.jsx)("p",{className:"text-sm text-zinc-300",children:"Season 1  Episode 1"})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex items-center justify-center bg-black",children:[E?g?(0,t.jsx)(nu,{src:E,title:m.title,onStateUpdate:e=>{console.log("[WatchPage] Webview State Update:",e)}}):(0,t.jsx)("div",{className:"w-full h-full max-w-[1920px]",children:(0,t.jsx)(a2,{src:E,poster:m.backdrop||m.poster,title:m.title,onEnded:()=>{console.log("Video ended")}})}):(0,t.jsx)("div",{className:"text-zinc-500",children:"Source URL missing"}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 z-50 p-2 bg-black/80 text-xs text-green-400 font-mono rounded pointer-events-none select-text",children:[(0,t.jsxs)("p",{children:["Status: ",f?"Loading":"Ready"]}),(0,t.jsxs)("p",{children:["Type: ",c]}),(0,t.jsxs)("p",{children:["Embed Mode: ",g?"YES":"NO"]}),(0,t.jsxs)("p",{children:["Source: ",E||"None"]})]})]})]})}e.s(["default",()=>nm],78082)}]);