{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/components/UI/button.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { motion, HTMLMotionProps } from \"framer-motion\";\r\nimport { Loader2, Check, X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: \"primary\" | \"secondary\" | \"ghost\" | \"danger\";\r\n    size?: \"sm\" | \"md\" | \"lg\";\r\n    state?: \"default\" | \"loading\" | \"success\" | \"error\";\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(({\r\n    className,\r\n    variant = \"primary\",\r\n    size = \"md\",\r\n    state = \"default\",\r\n    children,\r\n    disabled,\r\n    ...props\r\n}, ref) => {\r\n\r\n    const variants = {\r\n        primary: \"bg-white text-black hover:bg-zinc-200 shadow-lg hover:shadow-xl\",\r\n        secondary: \"bg-zinc-800 text-white border border-white/10 hover:bg-zinc-700 hover:border-white/20\",\r\n        ghost: \"bg-transparent text-zinc-300 hover:text-white hover:bg-white/5\",\r\n        danger: \"bg-red-600 text-white hover:bg-red-500 shadow-red-900/20\"\r\n    };\r\n\r\n    const sizes = {\r\n        sm: \"px-3 py-1.5 text-xs\",\r\n        md: \"px-6 py-3 text-sm font-semibold\",\r\n        lg: \"px-8 py-4 text-base font-bold\"\r\n    };\r\n\r\n    const widthMap = {\r\n        default: \"auto\",\r\n        loading: \"auto\",\r\n        success: \"auto\",\r\n        error: \"auto\"\r\n    }\r\n\r\n    return (\r\n        <motion.button\r\n            ref={ref}\r\n            className={cn(\r\n                \"relative rounded-full inline-flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden\",\r\n                variants[variant],\r\n                sizes[size],\r\n                className\r\n            )}\r\n            disabled={state === 'loading' || disabled}\r\n            whileHover={state === 'default' && !disabled ? { scale: 1.02, y: -1 } : {}}\r\n            whileTap={state === 'default' && !disabled ? { scale: 0.98 } : {}}\r\n            layout\r\n            {...props as any} // Cast to any to avoid complex framer-motion type conflicts with ref\r\n        >\r\n            {state === 'loading' && (\r\n                <motion.div\r\n                    initial={{ opacity: 0, width: 0 }}\r\n                    animate={{ opacity: 1, width: \"auto\" }}\r\n                    exit={{ opacity: 0, width: 0 }}\r\n                >\r\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                </motion.div>\r\n            )}\r\n\r\n            {children}\r\n\r\n            {state === 'success' && (\r\n                <motion.div\r\n                    initial={{ scale: 0 }}\r\n                    animate={{ scale: 1 }}\r\n                    className=\"ml-2 text-green-500\"\r\n                >\r\n                    <Check size={18} />\r\n                </motion.div>\r\n            )}\r\n        </motion.button>\r\n    );\r\n});\r\n\r\nButton.displayName = \"Button\";\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAcO,MAAM,uBAAS,2KAAgB,MAAiC,CAAC,EACpE,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,SAAS,EACjB,QAAQ,EACR,QAAQ,EACR,GAAG,OACN,EAAE;IAEC,MAAM,WAAW;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,QAAQ;IACZ;IAEA,MAAM,QAAQ;QACV,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,MAAM,WAAW;QACb,SAAS;QACT,SAAS;QACT,SAAS;QACT,OAAO;IACX;IAEA,qBACI,6LAAC,uLAAM,CAAC,MAAM;QACV,KAAK;QACL,WAAW,IAAA,4HAAE,EACT,yJACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;QAEJ,UAAU,UAAU,aAAa;QACjC,YAAY,UAAU,aAAa,CAAC,WAAW;YAAE,OAAO;YAAM,GAAG,CAAC;QAAE,IAAI,CAAC;QACzE,UAAU,UAAU,aAAa,CAAC,WAAW;YAAE,OAAO;QAAK,IAAI,CAAC;QAChE,MAAM;QACL,GAAG,KAAK;;YAER,UAAU,2BACP,6LAAC,uLAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAO;gBACrC,MAAM;oBAAE,SAAS;oBAAG,OAAO;gBAAE;0BAE7B,cAAA,6LAAC,0NAAO;oBAAC,WAAU;;;;;;;;;;;YAI1B;YAEA,UAAU,2BACP,6LAAC,uLAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,OAAO;gBAAE;gBACpB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,WAAU;0BAEV,cAAA,6LAAC,gNAAK;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAKjC;;AAEA,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/lib/api/content.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { Content } from \"@/lib/types/content\";\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\nexport const contentApi = {\r\n    getTrending: async (): Promise<Content[]> => {\r\n        try {\r\n            // Randomize page 1-3 to ensure freshness on reload\r\n            const randomPage = Math.floor(Math.random() * 3) + 1;\r\n            const res = await axios.get(`/tmdb-api/trending/all/day?language=en-US&page=${randomPage}`);\r\n            const data = res.data.results || [];\r\n            return data.map(transformToContent).sort(() => Math.random() - 0.5); // Shuffle results\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch trending:\", error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getPopularTV: async (): Promise<Content[]> => {\r\n        try {\r\n            const randomPage = Math.floor(Math.random() * 5) + 1;\r\n            // Exclude anime (210024) from generic TV popular list\r\n            const res = await axios.get(`/tmdb-api/tv/popular?language=en-US&page=${randomPage}&without_keywords=210024`);\r\n            const data = res.data.results || [];\r\n            return data.map((item: any) => transformToContent({ ...item, type: 'tv' })).sort(() => Math.random() - 0.5);\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch popular TV:\", error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getByGenre: async (genreId: number, type: 'movie' | 'tv' = 'movie', page?: number): Promise<Content[]> => {\r\n        try {\r\n            const randomPage = page || Math.floor(Math.random() * 5) + 1;\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n            const extraFilter = type === 'tv' ? '&without_keywords=210024' : ''; // Filter anime from generic TV genres\r\n            const res = await axios.get(`${endpoint}?with_genres=${genreId}&language=en-US&page=${randomPage}&sort_by=popularity.desc${extraFilter}`);\r\n            const data = res.data.results || [];\r\n            return data.map((item: any) => transformToContent({ ...item, type })); // Preserving order for relevance unless specifically shuffled elsewhere\r\n        } catch (error) {\r\n            console.error(`Failed to fetch genre ${genreId}:`, error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    // --- Dynamic Categories (The Candy Store) ---\r\n\r\n    getAnime: async (page?: number): Promise<Content[]> => {\r\n        try {\r\n            const randomPage = page || Math.floor(Math.random() * 3) + 1;\r\n            // Discover TV with 'anime' keyword (210024) and Animation genre (16)\r\n            const res = await axios.get(`/tmdb-api/discover/tv?with_keywords=210024&with_genres=16&language=en-US&sort_by=popularity.desc&page=${randomPage}`);\r\n            const data = res.data.results || [];\r\n            return data.map((item: any) => transformToContent({ ...item, type: 'anime' }));\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch anime:\", error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getBangers: async (type: 'movie' | 'tv' = 'movie', page?: number): Promise<Content[]> => {\r\n        try {\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n            const randomPage = page || 1;\r\n            const extraFilter = type === 'tv' ? '&without_keywords=210024' : '';\r\n            const res = await axios.get(`${endpoint}?sort_by=vote_average.desc&vote_count.gte=1000&language=en-US&page=${randomPage}${extraFilter}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getClassics: async (type: 'movie' | 'tv' = 'movie', page?: number): Promise<Content[]> => {\r\n        try {\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n            const randomPage = page || 1;\r\n            const dateFilter = type === 'movie' ? 'primary_release_date.lte=2010-01-01' : 'first_air_date.lte=2010-01-01';\r\n            const extraFilter = type === 'tv' ? '&without_keywords=210024' : '';\r\n            const res = await axios.get(`${endpoint}?sort_by=popularity.desc&vote_average.gte=7.5&${dateFilter}&language=en-US&page=${randomPage}${extraFilter}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getUnderrated: async (type: 'movie' | 'tv' = 'movie', page?: number): Promise<Content[]> => {\r\n        try {\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n            const randomPage = page || 1;\r\n            const extraFilter = type === 'tv' ? '&without_keywords=210024' : '';\r\n            const res = await axios.get(`${endpoint}?sort_by=vote_average.desc&vote_count.gte=200&vote_count.lte=2000&vote_average.gte=8.0&language=en-US&page=${randomPage}${extraFilter}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getFresh: async (type: 'movie' | 'tv' = 'movie', page?: number): Promise<Content[]> => {\r\n        try {\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n            const randomPage = page || 1;\r\n            const currentYear = new Date().getFullYear();\r\n            const dateFilter = type === 'movie' ? `primary_release_year=${currentYear}` : `first_air_date_year=${currentYear}`;\r\n            const extraFilter = type === 'tv' ? '&without_keywords=210024' : '';\r\n            const res = await axios.get(`${endpoint}?sort_by=popularity.desc&${dateFilter}&language=en-US&page=${randomPage}${extraFilter}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getRecommendations: async (id: string): Promise<Content[]> => {\r\n        try {\r\n            const cleanId = id.replace('tmdb_', '');\r\n            // We can't easily know the type from just ID here without lookup, but usually recommendations come from same type.\r\n            // Try movie first, if fail/empty try tv. Or better, pass type if possible.\r\n            // For now, let's assume we can get type or just try both.\r\n            // Actually, best is to ask the caller to provide valid context or just return empty if id invalid.\r\n            // Let's rely on the fact that we can often guess or duplicate.\r\n            // A safer bet: The history item SHOULD have the type. But if we only have ID...\r\n            // Optimization: The caller (Page) has the history item, so it knows the type.\r\n            // Let's update signature to take type.\r\n            return [];\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getSimilar: async (id: string, type: 'movie' | 'tv' | 'anime'): Promise<Content[]> => {\r\n        try {\r\n            // For Anime, we treat it as TV for TMDB queries usually\r\n            const queryType = type === 'anime' ? 'tv' : type;\r\n            const cleanId = id.replace('tmdb_', '');\r\n            const res = await axios.get(`/tmdb-api/${queryType}/${cleanId}/recommendations?language=en-US&page=1`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    // --- Anime Specific Categories ---\r\n    getAnimeByGenre: async (genreId: string, page?: number): Promise<Content[]> => { // genreId can be genre ID or keyword ID\r\n        try {\r\n            const randomPage = page || 1;\r\n            // 16 is Animation genre.\r\n            // Common Keywords:\r\n            // Isekai: 210024\r\n            // Mecha: 10701\r\n            // Dark Fantasy: 209252\r\n            // Slice of Life: 9840\r\n            // Sports: 6075\r\n            // Psychological: 9880 or genre 9648 (Mystery) + Animation\r\n\r\n            const res = await axios.get(`/tmdb-api/discover/tv?with_genres=16&${genreId}&language=en-US&sort_by=popularity.desc&page=${randomPage}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type: 'anime' }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getDayOneDrops: async (type: 'movie' | 'tv' = 'movie'): Promise<Content[]> => {\r\n        try {\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n\r\n            // Get date range for last 14 days (extended slightly from 7 for better results)\r\n            const today = new Date();\r\n            const pastDate = new Date();\r\n            pastDate.setDate(today.getDate() - 14);\r\n\r\n            const formatDate = (d: Date) => d.toISOString().split('T')[0];\r\n            const dateFilter = type === 'movie'\r\n                ? `primary_release_date.gte=${formatDate(pastDate)}&primary_release_date.lte=${formatDate(today)}`\r\n                : `first_air_date.gte=${formatDate(pastDate)}&first_air_date.lte=${formatDate(today)}`;\r\n\r\n            const extraFilter = type === 'tv' ? '&without_keywords=210024' : '';\r\n            const res = await axios.get(`${endpoint}?sort_by=popularity.desc&${dateFilter}&language=en-US&page=1${extraFilter}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    // Flexible discover for custom categories (A24, CBM, etc.)\r\n    discover: async (params: { with_companies?: string; with_keywords?: string; with_genres?: string; sort_by?: string; page?: number }, type: 'movie' | 'tv' = 'movie'): Promise<Content[]> => {\r\n        try {\r\n            const queryParams = new URLSearchParams({\r\n                language: 'en-US',\r\n                page: (params.page || Math.floor(Math.random() * 3) + 1).toString(),\r\n                sort_by: params.sort_by || 'popularity.desc',\r\n                ...params\r\n            } as any);\r\n\r\n            const endpoint = type === 'movie' ? '/tmdb-api/discover/movie' : '/tmdb-api/discover/tv';\r\n            const res = await axios.get(`${endpoint}?${queryParams.toString()}`);\r\n            return (res.data.results || []).map((item: any) => transformToContent({ ...item, type }));\r\n        } catch (error) {\r\n            console.error(\"Failed to discover content:\", error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    getTrailer: async (id: string, type: 'movie' | 'tv' = 'movie'): Promise<string | null> => {\r\n        try {\r\n            const cleanId = id.replace('tmdb_', '');\r\n            const res = await axios.get(`/tmdb-api/${type}/${cleanId}/videos?language=en-US`);\r\n            const videos = res.data.results || [];\r\n            const trailer = videos.find((v: any) => v.type === \"Trailer\" && v.site === \"YouTube\") || videos[0];\r\n            return trailer ? trailer.key : null;\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    getDetails: async (id: string | number, type: 'movie' | 'tv' = 'movie'): Promise<Content | null> => {\r\n        try {\r\n            // Ensure ID is a string\r\n            const idStr = String(id);\r\n            // Strip 'tmdb_' prefix if present\r\n            const cleanId = idStr.replace('tmdb_', '');\r\n\r\n            const endpoint = `/tmdb-api/${type}/${cleanId}?language=en-US&append_to_response=credits,recommendations,videos`;\r\n            const res = await axios.get(endpoint);\r\n            return transformToContent({ ...res.data, type });\r\n        } catch (error) {\r\n            console.error(`Failed to fetch ${type} details for ${id}:`, error);\r\n            return null;\r\n        }\r\n    },\r\n\r\n    getSeasonDetails: async (id: string | number, seasonNumber: number): Promise<any> => {\r\n        try {\r\n            const idStr = String(id).replace('tmdb_', '');\r\n            const res = await axios.get(`/tmdb-api/tv/${idStr}/season/${seasonNumber}?language=en-US`);\r\n            return res.data;\r\n        } catch (error) {\r\n            console.error(`Failed to fetch season ${seasonNumber} for ${id}:`, error);\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\nconst transformToContent = (item: any): Content => {\r\n    // Helper to extract path and ensure w500/original prefix for the proxy\r\n    const getProxyUrl = (tmdbPath: string | null, fallbackUrl: string | null, size: string, fallbackAsset: string) => {\r\n        if (tmdbPath) {\r\n            // Ensure path is clean (remove leading slash if it exists, proxy adds it)\r\n            const cleanPath = tmdbPath.startsWith('/') ? tmdbPath.substring(1) : tmdbPath;\r\n            return `/tmdb-img/${size}/${cleanPath}`;\r\n        }\r\n        if (fallbackUrl && fallbackUrl.includes('tmdb.org')) {\r\n            const parts = fallbackUrl.split('/t/p/');\r\n            if (parts[1]) return `/tmdb-img/${parts[1]}`;\r\n        }\r\n        return fallbackUrl || fallbackAsset;\r\n    };\r\n\r\n    return {\r\n        id: String(item._id || item.id || `tmdb_${item.tmdbId}`),\r\n        title: item.title || item.name || \"Unknown Title\",\r\n        description: item.description || item.overview || \"\",\r\n        poster: getProxyUrl(item.poster_path, item.posterUrl, 'w500', \"/images/placeholder.png\"),\r\n        backdrop: getProxyUrl(item.backdrop_path, item.backdropUrl, 'original', \"/images/hero_placeholder.jpg\"),\r\n        rating: item.rating || item.vote_average || 0,\r\n        releaseDate: item.year || item.release_date || item.first_air_date || \"2024\",\r\n        type: (item.type || item.media_type || \"movie\") as 'movie' | 'tv' | 'anime',\r\n        genres: (item.genres || []).map((g: any) => typeof g === 'object' ? g.name : g),\r\n        status: 'ongoing',\r\n        isAdult: false,\r\n        seasonsList: item.seasons?.map((s: any) => ({\r\n            id: s.id,\r\n            season_number: s.season_number,\r\n            episode_count: s.episode_count,\r\n            name: s.name\r\n        })) || [],\r\n        cast: item.credits?.cast?.slice(0, 10).map((c: any) => ({\r\n            id: c.id,\r\n            name: c.name,\r\n            character: c.character,\r\n            profilePath: c.profile_path ? `/tmdb-img/w185/${c.profile_path}` : null\r\n        })) || [],\r\n        recommendations: item.recommendations?.results?.slice(0, 5).map((r: any) => transformToContent({ ...r, type: r.media_type || item.type || 'movie' })) || [],\r\n        trailer: item.videos?.results?.find((v: any) => v.type === \"Trailer\" && v.site === \"YouTube\")?.key || null\r\n    };\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/components/content/Hero.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Play, Info, Volume2, VolumeX } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Button } from \"@/components/UI/button\";\r\nimport { Content } from \"@/lib/types/content\";\r\nimport { contentApi } from \"@/lib/api/content\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface HeroProps {\r\n    items?: Content[];\r\n}\r\n\r\nexport function Hero({ items = [] }: HeroProps) {\r\n    const [index, setIndex] = useState(0);\r\n    const [trailerKey, setTrailerKey] = useState<string | null>(null);\r\n    const [isMuted, setIsMuted] = useState(true);\r\n    const [showVideo, setShowVideo] = useState(false);\r\n\r\n    const currentItem = items && items.length > 0 ? items[index % items.length] : null;\r\n\r\n    // Auto-advance carousel\r\n    useEffect(() => {\r\n        if (!items || items.length === 0) return;\r\n\r\n        // Dynamic Duration: 12s default, extended to 90s if trailer is playing (~3/5 of avg trailer)\r\n        const duration = trailerKey ? 90000 : 12000;\r\n\r\n        const timer = setTimeout(() => {\r\n            setIndex((prev) => (prev + 1) % items.length);\r\n            setShowVideo(false);\r\n            setTrailerKey(null);\r\n        }, duration);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [index, trailerKey, items.length]);\r\n\r\n    // Fetch trailer when slide changes\r\n    useEffect(() => {\r\n        if (!currentItem) return;\r\n\r\n        let mounted = true;\r\n        const fetchTrailer = async () => {\r\n            // Delay slightly to let animation finish and user to settle\r\n            await new Promise(r => setTimeout(r, 1000));\r\n            if (!mounted) return;\r\n\r\n            // Only fetch for movies for now? or TV too if API supports\r\n            const safeId = String(currentItem.id);\r\n            const key = await contentApi.getTrailer(safeId, currentItem.type);\r\n            if (mounted && key) {\r\n                setTrailerKey(key);\r\n                // Delay showing video slightly to allow buffering\r\n                setTimeout(() => {\r\n                    if (mounted) setShowVideo(true);\r\n                }, 1500);\r\n            }\r\n        };\r\n        fetchTrailer();\r\n        return () => { mounted = false; };\r\n    }, [currentItem?.id, currentItem?.type]);\r\n\r\n    // Safety check: if no items, show a basic skeleton\r\n    if (!currentItem) return <HeroSkeleton />;\r\n\r\n    return (\r\n        <section className=\"relative h-[75vh] w-full group mx-auto overflow-hidden\">\r\n            <AnimatePresence mode=\"wait\">\r\n                <motion.div\r\n                    key={currentItem.id}\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    transition={{ duration: 1.5, ease: \"easeInOut\" }}\r\n                    className=\"absolute inset-0\"\r\n                >\r\n                    {/* Background Image (Base Layer) */}\r\n                    <div\r\n                        className=\"absolute inset-0 bg-cover bg-center\"\r\n                        style={{ backgroundImage: `url(${currentItem.backdrop || \"/images/hero_placeholder.jpg\"})` }}\r\n                    >\r\n                        {/* Gradients for readability */}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-[#141414] via-[#141414]/40 to-transparent\" />\r\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-[#141414] via-[#141414]/60 to-transparent\" />\r\n                    </div>\r\n\r\n                    {/* YouTube Video Layer (Fade In) */}\r\n                    {showVideo && trailerKey && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            transition={{ duration: 1 }}\r\n                            className=\"absolute inset-0 z-0 overflow-hidden pointer-events-none\"\r\n                        >\r\n                            <iframe\r\n                                className=\"w-[300%] h-[300%] -ml-[100%] -mt-[40%] opacity-60\"\r\n                                src={`https://www.youtube.com/embed/${trailerKey}?autoplay=1&mute=${isMuted ? 1 : 0}&controls=0&showinfo=0&rel=0&loop=1&playlist=${trailerKey}`}\r\n                                allow=\"autoplay; encrypted-media\"\r\n                                title=\"Background Trailer\"\r\n                            />\r\n                        </motion.div>\r\n                    )}\r\n                </motion.div>\r\n            </AnimatePresence>\r\n\r\n            {/* Content Overlay */}\r\n            <div className=\"absolute bottom-0 left-0 z-20 p-8 lg:p-16 w-full max-w-4xl space-y-6\">\r\n                <AnimatePresence mode=\"wait\">\r\n                    <motion.div\r\n                        key={currentItem.id + \"-text\"}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -20 }}\r\n                        transition={{ duration: 0.5, delay: 0.2 }}\r\n                        className=\"space-y-4\"\r\n                    >\r\n                        <span className=\"inline-flex items-center px-3 py-1 bg-red-600/90 backdrop-blur text-white text-xs font-bold rounded uppercase tracking-wider shadow-lg\">\r\n                            Trending Now\r\n                        </span>\r\n\r\n                        <h1 className=\"text-4xl md:text-6xl lg:text-7xl font-bold text-white tracking-tighter leading-tight drop-shadow-2xl\">\r\n                            {currentItem.title}\r\n                        </h1>\r\n\r\n                        <p className=\"text-zinc-200 text-lg md:text-xl font-medium leading-relaxed max-w-2xl drop-shadow-md line-clamp-3\">\r\n                            {currentItem.description}\r\n                        </p>\r\n\r\n                        <div className=\"flex items-center gap-4 pt-4\">\r\n                            <Link href={`/watch/${String(currentItem.id).replace('tmdb_', '')}?type=${currentItem.type}`}>\r\n                                <Button size=\"lg\" className=\"pl-6 pr-8 h-14 text-lg font-bold bg-white text-black hover:bg-zinc-200 transition-all rounded-lg shadow-xl shadow-white/10 hover:shadow-white/20 hover:scale-105 active:scale-95\">\r\n                                    <Play size={24} fill=\"currentColor\" className=\"mr-3\" />\r\n                                    Play Now\r\n                                </Button>\r\n                            </Link>\r\n\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                size=\"lg\"\r\n                                className=\"h-14 px-8 text-lg font-medium bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/20 text-white rounded-lg hover:scale-105 transition-all\"\r\n                            >\r\n                                <Info size={24} className=\"mr-3\" />\r\n                                More Info\r\n                            </Button>\r\n\r\n                            {trailerKey && showVideo && (\r\n                                <button\r\n                                    onClick={() => setIsMuted(!isMuted)}\r\n                                    className=\"h-14 w-14 flex items-center justify-center rounded-full bg-black/40 backdrop-blur border border-white/10 hover:bg-white/10 transition-all ml-auto md:ml-0\"\r\n                                >\r\n                                    {isMuted ? <VolumeX size={24} /> : <Volume2 size={24} />}\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Carousel Indicators */}\r\n            <div className=\"absolute right-8 bottom-48 flex flex-col gap-2 z-30\">\r\n                {items.map((_, i) => (\r\n                    <button\r\n                        key={i}\r\n                        onClick={() => setIndex(i)}\r\n                        className={cn(\r\n                            \"w-1.5 h-1.5 rounded-full transition-all duration-300 shadow shadow-black/50\",\r\n                            i === index ? \"h-6 bg-white\" : \"bg-white/30 hover:bg-white/60\"\r\n                        )}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction HeroSkeleton() {\r\n    return (\r\n        <section className=\"relative h-[70vh] w-full rounded-2xl overflow-hidden mx-auto bg-zinc-900 animate-pulse\">\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10\" />\r\n        </section>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/components/content/ContentCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport Link from \"next/link\";\r\nimport { Play, Plus, Info, Star } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Content } from \"@/lib/types/content\";\r\n\r\ninterface ContentCardProps {\r\n    item: Content;\r\n    aspectRatio?: \"portrait\" | \"landscape\";\r\n    showDetails?: boolean;\r\n}\r\n\r\nimport { useUIStore } from \"@/lib/store/uiStore\";\r\n\r\nexport function ContentCard({ item, aspectRatio = \"portrait\" }: ContentCardProps) {\r\n    const isPortrait = aspectRatio === \"portrait\";\r\n    const { openModal } = useUIStore();\r\n\r\n    // Animation variants\r\n    const cardVariants = {\r\n        rest: { scale: 1, y: 0, zIndex: 0, transition: { duration: 0.3, ease: \"easeInOut\" } },\r\n        hover: { scale: 1.05, y: -8, zIndex: 50, boxShadow: \"var(--glow-nova)\", transition: { duration: 0.3, ease: \"easeOut\" } }\r\n    };\r\n\r\n    const overlayVariants = {\r\n        rest: { opacity: 0, y: 10 },\r\n        hover: { opacity: 1, y: 0, transition: { duration: 0.2, delay: 0.1 } }\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            className={cn(\r\n                \"relative rounded-xl overflow-hidden bg-zinc-900 cursor-pointer group border border-white/5 shrink-0\",\r\n                isPortrait ? \"w-[160px] md:w-[200px] aspect-[2/3]\" : \"w-[260px] aspect-video\"\r\n            )}\r\n            initial=\"rest\"\r\n            whileHover=\"hover\"\r\n            animate=\"rest\"\r\n            variants={cardVariants}\r\n            onClick={() => openModal(item)}\r\n        >\r\n            {/* Poster Image with Zoom Effect */}\r\n            <div className=\"absolute inset-0 w-full h-full overflow-hidden\">\r\n                <motion.img\r\n                    src={item.poster || \"/images/placeholder.png\"}\r\n                    alt={item.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    variants={{ rest: { scale: 1 }, hover: { scale: 1.1 } }}\r\n                    transition={{ duration: 0.5 }}\r\n                />\r\n                <motion.div\r\n                    className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent\"\r\n                    variants={{ rest: { opacity: 0.6 }, hover: { opacity: 0.9 } }}\r\n                />\r\n            </div>\r\n\r\n            {/* Content Overlay */}\r\n            <motion.div\r\n                className=\"absolute inset-0 p-4 flex flex-col justify-end\"\r\n                variants={overlayVariants}\r\n            >\r\n                <div className=\"space-y-2\">\r\n                    {/* Play/Add Buttons */}\r\n                    <div className=\"flex gap-2 pb-2\">\r\n                        <motion.button\r\n                            className=\"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:bg-zinc-200\"\r\n                            whileTap={{ scale: 0.9 }}\r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                // Direct play if play button clicked\r\n                                const type = item.type || ((item as any).seasonsList?.length > 0 ? 'tv' : 'movie');\r\n                                window.location.href = `/watch/${item.id}?type=${type}`;\r\n                            }}\r\n                        >\r\n                            <Play size={18} fill=\"currentColor\" className=\"ml-0.5\" />\r\n                        </motion.button>\r\n                        <motion.button\r\n                            className=\"w-10 h-10 rounded-full bg-white/10 text-white flex items-center justify-center backdrop-blur-md hover:bg-white/20\"\r\n                            whileTap={{ scale: 0.9 }}\r\n                        >\r\n                            <Plus size={18} />\r\n                        </motion.button>\r\n                    </div>\r\n\r\n                    {/* Text Metadata */}\r\n                    <div>\r\n                        <h3 className=\"font-bold text-white text-base leading-tight line-clamp-2 drop-shadow-md\">\r\n                            {item.title}\r\n                        </h3>\r\n                        {/* ... existing metadata ... */}\r\n                        <div className=\"flex items-center gap-2 mt-2 text-xs font-medium text-zinc-300\">\r\n                            <span className=\"text-green-400 font-bold\">{Math.round((item.rating || 0) * 10)}% Match</span>\r\n                            <span>â€¢</span>\r\n                            <span>{item.releaseDate?.substring(0, 4) || \"N/A\"}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AACA;AASA;;;AAdA;;;;;AAgBO,SAAS,YAAY,EAAE,IAAI,EAAE,cAAc,UAAU,EAAoB;;IAC5E,MAAM,aAAa,gBAAgB;IACnC,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,+IAAU;IAEhC,qBAAqB;IACrB,MAAM,eAAe;QACjB,MAAM;YAAE,OAAO;YAAG,GAAG;YAAG,QAAQ;YAAG,YAAY;gBAAE,UAAU;gBAAK,MAAM;YAAY;QAAE;QACpF,OAAO;YAAE,OAAO;YAAM,GAAG,CAAC;YAAG,QAAQ;YAAI,WAAW;YAAoB,YAAY;gBAAE,UAAU;gBAAK,MAAM;YAAU;QAAE;IAC3H;IAEA,MAAM,kBAAkB;QACpB,MAAM;YAAE,SAAS;YAAG,GAAG;QAAG;QAC1B,OAAO;YAAE,SAAS;YAAG,GAAG;YAAG,YAAY;gBAAE,UAAU;gBAAK,OAAO;YAAI;QAAE;IACzE;IAEA,qBACI,6LAAC,uLAAM,CAAC,GAAG;QACP,WAAW,IAAA,4HAAE,EACT,uGACA,aAAa,wCAAwC;QAEzD,SAAQ;QACR,YAAW;QACX,SAAQ;QACR,UAAU;QACV,SAAS,IAAM,UAAU;;0BAGzB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,uLAAM,CAAC,GAAG;wBACP,KAAK,KAAK,MAAM,IAAI;wBACpB,KAAK,KAAK,KAAK;wBACf,WAAU;wBACV,UAAU;4BAAE,MAAM;gCAAE,OAAO;4BAAE;4BAAG,OAAO;gCAAE,OAAO;4BAAI;wBAAE;wBACtD,YAAY;4BAAE,UAAU;wBAAI;;;;;;kCAEhC,6LAAC,uLAAM,CAAC,GAAG;wBACP,WAAU;wBACV,UAAU;4BAAE,MAAM;gCAAE,SAAS;4BAAI;4BAAG,OAAO;gCAAE,SAAS;4BAAI;wBAAE;;;;;;;;;;;;0BAKpE,6LAAC,uLAAM,CAAC,GAAG;gBACP,WAAU;gBACV,UAAU;0BAEV,cAAA,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,uLAAM,CAAC,MAAM;oCACV,WAAU;oCACV,UAAU;wCAAE,OAAO;oCAAI;oCACvB,SAAS,CAAC;wCACN,EAAE,eAAe;wCACjB,qCAAqC;wCACrC,MAAM,OAAO,KAAK,IAAI,IAAI,CAAC,AAAC,KAAa,WAAW,EAAE,SAAS,IAAI,OAAO,OAAO;wCACjF,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC,MAAM,EAAE,MAAM;oCAC3D;8CAEA,cAAA,6LAAC,6MAAI;wCAAC,MAAM;wCAAI,MAAK;wCAAe,WAAU;;;;;;;;;;;8CAElD,6LAAC,uLAAM,CAAC,MAAM;oCACV,WAAU;oCACV,UAAU;wCAAE,OAAO;oCAAI;8CAEvB,cAAA,6LAAC,6MAAI;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAKpB,6LAAC;;8CACG,6LAAC;oCAAG,WAAU;8CACT,KAAK,KAAK;;;;;;8CAGf,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;;gDAA4B,KAAK,KAAK,CAAC,CAAC,KAAK,MAAM,IAAI,CAAC,IAAI;gDAAI;;;;;;;sDAChF,6LAAC;sDAAK;;;;;;sDACN,6LAAC;sDAAM,KAAK,WAAW,EAAE,UAAU,GAAG,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxE;GAtFgB;;QAEU,+IAAU;;;KAFpB"}},
    {"offset": {"line": 1049, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/components/content/ContentRail.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ChevronRight, ChevronLeft } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useRef, useState } from \"react\";\r\nimport { ContentCard } from \"./ContentCard\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { Content } from \"@/lib/types/content\";\r\n\r\ninterface ContentRailProps {\r\n    title: string;\r\n    items?: Content[];\r\n}\r\n\r\nexport function ContentRail({ title, items = [] }: ContentRailProps) {\r\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\r\n    const [showLeftArrow, setShowLeftArrow] = useState(false);\r\n\r\n    const scroll = (direction: \"left\" | \"right\") => {\r\n        if (!scrollContainerRef.current) return;\r\n\r\n        const container = scrollContainerRef.current;\r\n        const scrollAmount = container.clientWidth * 0.8;\r\n        const newScrollLeft = direction === \"right\"\r\n            ? container.scrollLeft + scrollAmount\r\n            : container.scrollLeft - scrollAmount;\r\n\r\n        container.scrollTo({\r\n            left: newScrollLeft,\r\n            behavior: \"smooth\"\r\n        });\r\n\r\n        if (direction === \"right\") setShowLeftArrow(true);\r\n        if (newScrollLeft <= 0 && direction === \"left\") setShowLeftArrow(false);\r\n    };\r\n\r\n    // Placeholder items with strict type support\r\n    const displayItems: Content[] = items.length > 0 ? items : Array(10).fill(null).map((_, i) => ({\r\n        id: `mock-${i}`,\r\n        title: \"Loading...\",\r\n        description: \"\",\r\n        poster: \"/images/placeholder.png\",\r\n        backdrop: \"/images/hero_placeholder.jpg\",\r\n        rating: 0,\r\n        releaseDate: \"2024\",\r\n        type: 'movie',\r\n        genres: [],\r\n        status: 'completed',\r\n        isAdult: false\r\n    }));\r\n\r\n    return (\r\n        <div className=\"space-y-4 group/rail\">\r\n            <h2 className=\"text-xl font-bold text-white tracking-tight flex items-center gap-2 group cursor-pointer w-fit px-4 lg:px-0\">\r\n                {title}\r\n                <Link\r\n                    href={`/browse/view-all?title=${encodeURIComponent(title)}`}\r\n                    className=\"text-xs font-normal text-zinc-500 bg-zinc-900 px-2 py-0.5 rounded-full border border-white/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center hover:text-white\"\r\n                >\r\n                    See All <ChevronRight size={12} className=\"ml-1\" />\r\n                </Link>\r\n            </h2>\r\n\r\n            <div className=\"relative group/scroll\">\r\n                {/* Left Arrow */}\r\n                <button\r\n                    onClick={() => scroll(\"left\")}\r\n                    className={cn(\r\n                        \"absolute left-0 top-0 bottom-0 z-30 w-12 bg-gradient-to-r from-black/80 to-transparent flex items-center justify-center opacity-0 group-hover/scroll:opacity-100 transition-opacity duration-300 disabled:opacity-0\",\r\n                        !showLeftArrow && \"hidden\"\r\n                    )}\r\n                >\r\n                    <ChevronLeft className=\"text-white hover:scale-125 transition-transform\" size={32} />\r\n                </button>\r\n\r\n                {/* Scroll Container */}\r\n                <div\r\n                    ref={scrollContainerRef}\r\n                    className=\"flex gap-4 overflow-x-auto pb-8 scrollbar-hide snap-x px-4 lg:px-0 scroll-smooth\"\r\n                    onScroll={(e) => setShowLeftArrow(e.currentTarget.scrollLeft > 0)}\r\n                >\r\n                    {displayItems.map((item) => (\r\n                        <ContentCard key={item.id} item={item} />\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Right Arrow */}\r\n                <button\r\n                    onClick={() => scroll(\"right\")}\r\n                    className=\"absolute right-0 top-0 bottom-0 z-30 w-12 bg-gradient-to-l from-black/80 to-transparent flex items-center justify-center opacity-0 group-hover/scroll:opacity-100 transition-opacity duration-300\"\r\n                >\r\n                    <ChevronRight className=\"text-white hover:scale-125 transition-transform\" size={32} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAeO,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAoB;;IAC/D,MAAM,qBAAqB,IAAA,uKAAM,EAAiB;IAClD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,MAAM,SAAS,CAAC;QACZ,IAAI,CAAC,mBAAmB,OAAO,EAAE;QAEjC,MAAM,YAAY,mBAAmB,OAAO;QAC5C,MAAM,eAAe,UAAU,WAAW,GAAG;QAC7C,MAAM,gBAAgB,cAAc,UAC9B,UAAU,UAAU,GAAG,eACvB,UAAU,UAAU,GAAG;QAE7B,UAAU,QAAQ,CAAC;YACf,MAAM;YACN,UAAU;QACd;QAEA,IAAI,cAAc,SAAS,iBAAiB;QAC5C,IAAI,iBAAiB,KAAK,cAAc,QAAQ,iBAAiB;IACrE;IAEA,6CAA6C;IAC7C,MAAM,eAA0B,MAAM,MAAM,GAAG,IAAI,QAAQ,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC;YAC3F,IAAI,CAAC,KAAK,EAAE,GAAG;YACf,OAAO;YACP,aAAa;YACb,QAAQ;YACR,UAAU;YACV,QAAQ;YACR,aAAa;YACb,MAAM;YACN,QAAQ,EAAE;YACV,QAAQ;YACR,SAAS;QACb,CAAC;IAED,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;;oBACT;kCACD,6LAAC,0KAAI;wBACD,MAAM,CAAC,uBAAuB,EAAE,mBAAmB,QAAQ;wBAC3D,WAAU;;4BACb;0CACW,6LAAC,yOAAY;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;;0BAIlD,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBACG,SAAS,IAAM,OAAO;wBACtB,WAAW,IAAA,4HAAE,EACT,uNACA,CAAC,iBAAiB;kCAGtB,cAAA,6LAAC,sOAAW;4BAAC,WAAU;4BAAkD,MAAM;;;;;;;;;;;kCAInF,6LAAC;wBACG,KAAK;wBACL,WAAU;wBACV,UAAU,CAAC,IAAM,iBAAiB,EAAE,aAAa,CAAC,UAAU,GAAG;kCAE9D,aAAa,GAAG,CAAC,CAAC,qBACf,6LAAC,8JAAW;gCAAe,MAAM;+BAAf,KAAK,EAAE;;;;;;;;;;kCAKjC,6LAAC;wBACG,SAAS,IAAM,OAAO;wBACtB,WAAU;kCAEV,cAAA,6LAAC,yOAAY;4BAAC,WAAU;4BAAkD,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKpG;GAlFgB;KAAA"}},
    {"offset": {"line": 1205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/components/content/ContentModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport * as Dialog from '@radix-ui/react-dialog';\r\nimport { Play, X } from 'lucide-react';\r\nimport { useUIStore } from '@/lib/store/uiStore';\r\nimport { useRouter } from 'next/navigation';\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { contentApi } from '@/lib/api/content';\r\n// ... imports\r\n\r\nexport const ContentModal = () => {\r\n    const { isModalOpen, modalContent, closeModal } = useUIStore();\r\n    const router = useRouter();\r\n    const [activeTab, setActiveTab] = React.useState<'overview' | 'episodes' | 'related'>('overview');\r\n    const [selectedSeason, setSelectedSeason] = React.useState(1);\r\n    const [fullDetails, setFullDetails] = React.useState<any>(null);\r\n    const [showHeroOverlay, setShowHeroOverlay] = React.useState(true);\r\n    const [episodes, setEpisodes] = React.useState<any[]>([]);\r\n\r\n    const content = fullDetails || modalContent;\r\n\r\n    React.useEffect(() => {\r\n        if (isModalOpen && modalContent) {\r\n            setActiveTab('overview');\r\n            setSelectedSeason(1);\r\n            setFullDetails(null); // Reset\r\n            setShowHeroOverlay(true);\r\n\r\n            // Fetch full details (cast, seasons, recommendations)\r\n            const type = modalContent.type || 'movie';\r\n            contentApi.getDetails(modalContent.id, type).then(data => {\r\n                if (data) setFullDetails(data);\r\n            });\r\n        }\r\n    }, [isModalOpen, modalContent]);\r\n\r\n    React.useEffect(() => {\r\n        if (isModalOpen && content && (content.type === 'tv' || (content as any).seasonsList?.length > 0)) {\r\n            setEpisodes([]); // Clear previous\r\n            contentApi.getSeasonDetails(content.id, selectedSeason).then(data => {\r\n                if (data && data.episodes) {\r\n                    setEpisodes(data.episodes);\r\n                }\r\n            });\r\n        }\r\n    }, [isModalOpen, content?.id, selectedSeason]);\r\n\r\n    React.useEffect(() => {\r\n        if (content?.trailer) {\r\n            const timer = setTimeout(() => setShowHeroOverlay(false), 5000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [content?.trailer]);\r\n\r\n    if (!content) return null;\r\n\r\n    const handlePlay = () => {\r\n        closeModal();\r\n        const type = content.type || ((content as any).seasonsList?.length > 0 ? 'tv' : 'movie');\r\n        // Play S1E1 by default for TV if not specified, or resume logic later\r\n        router.push(`/watch/${content.id}?type=${type}&season=1&episode=1`);\r\n    };\r\n\r\n    const handleEpisodeClick = (seasonNum: number, episodeNum: number) => {\r\n        closeModal();\r\n        const type = content.type || 'tv';\r\n        router.push(`/watch/${content.id}?type=${type}&season=${seasonNum}&episode=${episodeNum}`);\r\n    };\r\n\r\n    const isTV = content.type === 'tv' || (content.seasonsList && content.seasonsList.length > 0);\r\n\r\n    return (\r\n        <Dialog.Root open={isModalOpen} onOpenChange={(open) => !open && closeModal()}>\r\n            <Dialog.Portal>\r\n                <Dialog.Overlay className=\"fixed inset-0 bg-black/80 backdrop-blur-md z-50 animate-in fade-in duration-300\" />\r\n                <Dialog.Content className=\"fixed left-[50%] top-[50%] z-50 w-[95vw] md:w-full max-w-5xl translate-x-[-50%] translate-y-[-50%] overflow-hidden rounded-xl bg-zinc-950/90 border border-white/10 shadow-2xl animate-in zoom-in-95 duration-200 p-0 outline-none max-h-[90vh] flex flex-col\">\r\n                    <Dialog.Description className=\"sr-only\">\r\n                        Details for {content.title}\r\n                    </Dialog.Description>\r\n\r\n                    {/* Hero Header */}\r\n                    <div className=\"relative w-full aspect-video md:aspect-[2.4/1] bg-black shrink-0\">\r\n                        {content.trailer ? (\r\n                            <iframe\r\n                                src={`https://www.youtube.com/embed/${content.trailer}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&loop=1&playlist=${content.trailer}`}\r\n                                className=\"w-full h-full opacity-60 pointer-events-none scale-125\"\r\n                                allow=\"autoplay; encrypted-media\"\r\n                            />\r\n                        ) : (\r\n                            <img\r\n                                src={content.backdrop || content.poster}\r\n                                alt={content.title}\r\n                                className=\"w-full h-full object-cover opacity-60\"\r\n                            />\r\n                        )}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-zinc-950 via-zinc-950/20 to-transparent\" />\r\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-zinc-950/80 via-transparent to-transparent\" />\r\n\r\n                        <div className=\"absolute top-4 right-4 z-10\">\r\n                            <button\r\n                                onClick={closeModal}\r\n                                className=\"rounded-full bg-black/40 p-2 text-white hover:bg-white/20 transition-colors backdrop-blur-md border border-white/10\"\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div\r\n                            className={cn(\r\n                                \"absolute bottom-0 left-0 p-4 md:p-8 space-y-2 md:space-y-4 max-w-3xl transition-opacity duration-1000\",\r\n                                showHeroOverlay ? \"opacity-100\" : \"opacity-0 hover:opacity-100\"\r\n                            )}\r\n                        >\r\n                            <Dialog.Title className=\"text-2xl md:text-5xl font-bold tracking-tighter text-white drop-shadow-xl line-clamp-1\">\r\n                                {content.title}\r\n                            </Dialog.Title>\r\n\r\n                            <div className=\"flex items-center gap-3 text-xs md:text-sm font-medium text-zinc-300\">\r\n                                <span className=\"text-green-400 font-bold\">{Math.round((content.rating || 0) * 10)}% Match</span>\r\n                                <span>{content.releaseDate?.substring(0, 4)}</span>\r\n                                <span className=\"uppercase border border-white/20 px-1.5 rounded bg-white/10 text-[10px]\">{content.type || (isTV ? 'TV' : 'MOVIE')}</span>\r\n                                {content.duration && <span>{Math.floor(content.duration / 60)}h {content.duration % 60}m</span>}\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-4 pt-2\">\r\n                                <button\r\n                                    onClick={handlePlay}\r\n                                    className=\"flex items-center gap-2 rounded-lg bg-white px-6 md:px-8 py-2 md:py-3 font-bold text-black transition-transform hover:scale-105 active:scale-95 hover:bg-zinc-200 text-sm md:text-base\"\r\n                                >\r\n                                    <Play fill=\"currentColor\" size={20} />\r\n                                    Play\r\n                                </button>\r\n                                <button className=\"flex items-center gap-2 rounded-lg bg-zinc-800/80 backdrop-blur-md px-4 md:px-6 py-2 md:py-3 font-medium text-white transition-colors hover:bg-zinc-700 border border-white/10 text-sm md:text-base\">\r\n                                    + My List\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Content Body */}\r\n                    <div className=\"flex-1 overflow-y-auto custom-scrollbar bg-zinc-950/50 backdrop-blur-xl\">\r\n                        <div className=\"p-4 md:p-8\">\r\n\r\n                            {/* Tabs */}\r\n                            <div className=\"flex items-center gap-8 border-b border-white/10 mb-6 text-sm font-medium text-zinc-400\">\r\n                                <button\r\n                                    className={cn(\"pb-4 border-b-2 transition-colors\", activeTab === 'overview' ? \"text-white border-white\" : \"border-transparent hover:text-white\")}\r\n                                    onClick={() => setActiveTab('overview')}\r\n                                >\r\n                                    Overview\r\n                                </button>\r\n                                {isTV && (\r\n                                    <button\r\n                                        className={cn(\"pb-4 border-b-2 transition-colors\", activeTab === 'episodes' ? \"text-white border-white\" : \"border-transparent hover:text-white\")}\r\n                                        onClick={() => setActiveTab('episodes')}\r\n                                    >\r\n                                        Episodes\r\n                                    </button>\r\n                                )}\r\n                                <button\r\n                                    className={cn(\"pb-4 border-b-2 transition-colors\", activeTab === 'related' ? \"text-white border-white\" : \"border-transparent hover:text-white\")}\r\n                                    onClick={() => setActiveTab('related')}\r\n                                >\r\n                                    More Like This\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Overview Tab */}\r\n                            {activeTab === 'overview' && (\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                                    <div className=\"md:col-span-2 space-y-6\">\r\n                                        <p className=\"text-lg text-zinc-300 leading-relaxed\">\r\n                                            {content.description}\r\n                                        </p>\r\n\r\n                                        {/* Cast */}\r\n                                        {content.cast && content.cast.length > 0 && (\r\n                                            <div className=\"space-y-3\">\r\n                                                <h3 className=\"text-white font-semibold\">Cast</h3>\r\n                                                <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4\">\r\n                                                    {content.cast.slice(0, 10).map((actor) => (\r\n                                                        <div key={actor.id} className=\"space-y-1 text-center group cursor-pointer\">\r\n                                                            <div className=\"aspect-square rounded-full overflow-hidden bg-zinc-800 border border-white/5\">\r\n                                                                <img\r\n                                                                    src={actor.profilePath || \"/images/placeholder.png\"}\r\n                                                                    alt={actor.name}\r\n                                                                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\r\n                                                                />\r\n                                                            </div>\r\n                                                            <div className=\"text-xs text-white font-medium truncate\">{actor.name}</div>\r\n                                                            <div className=\"text-[10px] text-zinc-500 truncate\">{actor.character}</div>\r\n                                                        </div>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"space-y-6 text-sm text-zinc-400\">\r\n                                        <div>\r\n                                            <span className=\"block text-zinc-500 text-xs uppercase mb-1\">Genres</span>\r\n                                            <div className=\"flex flex-wrap gap-2\">\r\n                                                {content.genres.map(g => (\r\n                                                    <span key={g} className=\"text-white bg-white/5 px-2 py-1 rounded border border-white/5\">{g}</span>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <span className=\"block text-zinc-500 text-xs uppercase mb-1\">Status</span>\r\n                                            <span className=\"text-white\">{content.status}</span>\r\n                                        </div>\r\n                                        {/* Could add Network, production companies, etc here */}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Episodes Tab */}\r\n                            {activeTab === 'episodes' && isTV && (\r\n                                <div className=\"space-y-6\">\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <h3 className=\"text-white font-semibold text-lg\">Seasons</h3>\r\n                                        <select\r\n                                            value={selectedSeason}\r\n                                            onChange={(e) => setSelectedSeason(Number(e.target.value))}\r\n                                            className=\"bg-zinc-800 text-white rounded px-3 py-1.5 border border-white/10 outline-none focus:border-white/30\"\r\n                                        >\r\n                                            {content.seasonsList?.filter((s: any) => s.season_number > 0).map((s: any) => (\r\n                                                <option key={s.id} value={s.season_number}>{s.name} ({s.episode_count} Episodes)</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-1 gap-4\">\r\n                                        {episodes.length > 0 ? (\r\n                                            episodes.map((ep: any) => (\r\n                                                <div\r\n                                                    key={ep.id}\r\n                                                    className=\"flex items-center gap-4 p-4 rounded-lg hover:bg-white/5 transition-colors cursor-pointer group border border-transparent hover:border-white/5\"\r\n                                                    onClick={() => handleEpisodeClick(selectedSeason, ep.episode_number)}\r\n                                                >\r\n                                                    <div className=\"w-8 text-center text-zinc-500 font-mono text-lg group-hover:text-white transition-colors\">{ep.episode_number}</div>\r\n                                                    <div className=\"aspect-video w-32 bg-zinc-800 rounded overflow-hidden relative shrink-0\">\r\n                                                        {ep.still_path ? (\r\n                                                            <img\r\n                                                                src={`http://localhost:3000/tmdb-img/w500/${ep.still_path}`}\r\n                                                                alt={ep.name}\r\n                                                                className=\"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity\"\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <div className=\"w-full h-full flex items-center justify-center bg-zinc-900\">\r\n                                                                <Play size={20} className=\"text-zinc-600\" />\r\n                                                            </div>\r\n                                                        )}\r\n                                                        <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                                            <Play size={20} className=\"text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-lg\" />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"flex-1 min-w-0\">\r\n                                                        <h4 className=\"text-white font-medium group-hover:text-green-400 transition-colors truncate\">{ep.name}</h4>\r\n                                                        <p className=\"text-sm text-zinc-500 line-clamp-2\">{ep.overview || \"No description available.\"}</p>\r\n                                                    </div>\r\n                                                    <div className=\"text-zinc-500 text-sm whitespace-nowrap\">{ep.runtime ? `${ep.runtime}m` : ''}</div>\r\n                                                </div>\r\n                                            ))\r\n                                        ) : (\r\n                                            <div className=\"text-zinc-500 text-center py-8\">Loading episodes...</div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Related Tab */}\r\n                            {activeTab === 'related' && (\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n                                    {content.recommendations?.map((item: any) => (\r\n                                        <div\r\n                                            key={item.id}\r\n                                            className=\"group relative aspect-[2/3] bg-zinc-800 rounded-lg overflow-hidden cursor-pointer\"\r\n                                            onClick={() => {\r\n                                                closeModal();\r\n                                                setTimeout(() => useUIStore.getState().openModal(item), 100);\r\n                                            }}\r\n                                        >\r\n                                            <img src={item.poster} alt={item.title} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" />\r\n                                            <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\r\n                                                <Play className=\"text-white fill-white\" size={32} />\r\n                                            </div>\r\n                                            <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/90 to-transparent\">\r\n                                                <p className=\"text-white text-xs font-bold truncate\">{item.title}</p>\r\n                                                <p className=\"text-zinc-400 text-[10px]\">{item.releaseDate?.substring(0, 4)}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                    {(!content.recommendations || content.recommendations.length === 0) && (\r\n                                        <p className=\"col-span-full text-zinc-500 text-center py-8\">No specific recommendations found.</p>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n\r\n                        </div>\r\n                    </div>\r\n                </Dialog.Content>\r\n            </Dialog.Portal>\r\n        </Dialog.Root>\r\n    );\r\n};\r\n\r\nexport default ContentModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1973, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/lib/store/historyStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport { Content } from '@/lib/types/content';\r\n\r\ninterface HistoryState {\r\n    history: Content[];\r\n    addToHistory: (content: Content) => void;\r\n    clearHistory: () => void;\r\n    getLastWatched: () => Content | undefined;\r\n}\r\n\r\nexport const useHistoryStore = create<HistoryState>()(\r\n    persist(\r\n        (set, get) => ({\r\n            history: [],\r\n            addToHistory: (content) => set((state) => {\r\n                // Remove if already exists to move to top\r\n                const filtered = state.history.filter(i => i.id !== content.id);\r\n                // Keep only last 20\r\n                return { history: [content, ...filtered].slice(0, 20) };\r\n            }),\r\n            clearHistory: () => set({ history: [] }),\r\n            getLastWatched: () => get().history[0]\r\n        }),\r\n        {\r\n            name: 'novastream-history-storage',\r\n        }\r\n    )\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAUO,MAAM,kBAAkB,IAAA,qJAAM,IACjC,IAAA,2JAAO,EACH,CAAC,KAAK,MAAQ,CAAC;QACX,SAAS,EAAE;QACX,cAAc,CAAC,UAAY,IAAI,CAAC;gBAC5B,0CAA0C;gBAC1C,MAAM,WAAW,MAAM,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,QAAQ,EAAE;gBAC9D,oBAAoB;gBACpB,OAAO;oBAAE,SAAS;wBAAC;2BAAY;qBAAS,CAAC,KAAK,CAAC,GAAG;gBAAI;YAC1D;QACA,cAAc,IAAM,IAAI;gBAAE,SAAS,EAAE;YAAC;QACtC,gBAAgB,IAAM,MAAM,OAAO,CAAC,EAAE;IAC1C,CAAC,GACD;IACI,MAAM;AACV"}},
    {"offset": {"line": 2008, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Edward%20Magejo/.gemini/antigravity/playground/inertial-event/src/app/%28dashboard%29/browse/movies/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Hero } from \"@/components/content/Hero\";\r\nimport { ContentRail } from \"@/components/content/ContentRail\";\r\nimport { contentApi } from \"@/lib/api/content\";\r\nimport { ContentModal } from \"@/components/content/ContentModal\";\r\n\r\nimport { useHistoryStore } from \"@/lib/store/historyStore\";\r\n\r\nconst MOVIE_RAILS = [\r\n    { id: \"day1\", title: \"Day 1 Drops ðŸ’§\", fetcher: () => contentApi.getDayOneDrops('movie') },\r\n    { id: \"fresh\", title: \"Fresh Out The Oven ðŸ”¥\", fetcher: () => contentApi.getFresh('movie') },\r\n    { id: \"bangers\", title: \"Certified Bangers ðŸ’¯\", fetcher: () => contentApi.getBangers('movie') },\r\n    { id: \"underrated\", title: \"Hidden Gems ðŸ’Ž\", fetcher: () => contentApi.getUnderrated('movie') },\r\n    { id: \"classics\", title: \"Timeless Classics ðŸ·\", fetcher: () => contentApi.getClassics('movie') },\r\n    { id: \"adrenaline\", title: \"Adrenaline Rush âš¡\", fetcher: () => contentApi.getByGenre(28, 'movie') }, // Action\r\n    { id: \"scifi\", title: \"Mind Benders ðŸ§ \", fetcher: () => contentApi.getByGenre(878, 'movie') }, // Sci-Fi\r\n    { id: \"horror\", title: \"Scream Queens ðŸ˜±\", fetcher: () => contentApi.getByGenre(27, 'movie') }, // Horror\r\n    { id: \"comedy\", title: \"Laugh Track ðŸ˜‚\", fetcher: () => contentApi.getByGenre(35, 'movie') }, // Comedy\r\n    { id: \"romance\", title: \"Tear Jerkers ðŸ’”\", fetcher: () => contentApi.getByGenre(10749, 'movie') }, // Romance\r\n    { id: \"family\", title: \"Family Night ðŸ¿\", fetcher: () => contentApi.getByGenre(10751, 'movie') }, // Family\r\n    { id: \"acclaimed\", title: \"Critically Acclaimed ðŸ†\", fetcher: () => contentApi.discover({ sort_by: 'vote_average.desc', 'vote_count.gte': '3000' }, 'movie') },\r\n];\r\n\r\nexport default function MoviesPage() {\r\n    const { data: trending } = useQuery({\r\n        queryKey: [\"trending\", \"movie\", \"hero\"],\r\n        queryFn: contentApi.getTrending,\r\n        staleTime: 1000 * 60 * 10\r\n    });\r\n\r\n    const [rails, setRails] = useState(MOVIE_RAILS);\r\n    const lastWatched = useHistoryStore(state => state.getLastWatched());\r\n\r\n    useEffect(() => {\r\n        // Keep \"Day 1\" (first index) at top, shuffle the rest\r\n        const first = MOVIE_RAILS[0];\r\n        const others = [...MOVIE_RAILS.slice(1)];\r\n        const shuffled = others.sort(() => Math.random() - 0.5);\r\n        setRails([first, ...shuffled]);\r\n    }, []);\r\n\r\n    const heroItems = trending?.slice(0, 5) || [];\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#141414] pb-20\">\r\n            <Hero items={heroItems} />\r\n            <div className=\"relative z-10 -mt-20 space-y-12 pl-4 lg:pl-12 opacity-95\">\r\n                {/* Recommendations Rail */}\r\n                {lastWatched && (\r\n                    <AsyncRail\r\n                        config={{\r\n                            id: \"recs\",\r\n                            title: `Because You Watched ${lastWatched.title}`,\r\n                            fetcher: () => contentApi.getSimilar(lastWatched.id, lastWatched.type)\r\n                        }}\r\n                    />\r\n                )}\r\n\r\n                {rails.map((config) => (\r\n                    <AsyncRail key={config.id} config={config} />\r\n                ))}\r\n            </div>\r\n            <ContentModal />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AsyncRail({ config }: { config: any }) {\r\n    const { data, isLoading } = useQuery({\r\n        queryKey: [\"rail\", \"movie\", config.id],\r\n        queryFn: config.fetcher,\r\n        staleTime: 1000 * 60 * 30\r\n    });\r\n\r\n    if (isLoading) return <div className=\"h-64 bg-zinc-900/10 animate-pulse rounded-xl\" />;\r\n    if (!data || data.length === 0) return null;\r\n\r\n    return <ContentRail title={config.title} items={data} />;\r\n}\r\n"],"names":[],"mappings":"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"}}]
}